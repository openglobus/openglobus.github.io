<html>

<head>
    <title>OpenGlobus - Mars planet</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../../external/og/lib/@openglobus/og.css" type="text/css"/>
</head>

</html>

<body>
<div id="globus" style="width:100%;height:100%;"></div>
<script type="module" id="og-sandbox-script">

    'use strict';

    import {
        Globe,
        XYZ,
        control,
        RgbTerrain,
        quadTreeStrategyType,
        moon
    } from "../../external/og/lib/@openglobus/og.esm.js";

    const sat = new XYZ("moon", {
        isBaseLayer: true,
        url: "https://{s}.terrain.openglobus.org/moon/sat/{z}/{x}/{y}.png",
        visibility: true,
        maxNativeZoom: 10,
    });

    const appoloSat = new XYZ("APPOLO_SAT", {
        isBaseLayer: false,
        url: "https://{s}.terrain.openglobus.org/moon/sat_appolo/{z}/{x}/{y}.png",
        visibility: true,
        maxNativeZoom: 12,
        extent: [[30.4294, 19.9771], [30.9162, 20.3639]]
    });

    var highResTerrain = new RgbTerrain(null, {
        geoidSrc: null,
        maxZoom: 7,
        //maxNativeZoom: 7,
        url: "https://{s}.terrain.openglobus.org/moon/dem/{z}/{x}/{y}.png",
        heightFactor: 1
    });

    window.globe = new Globe({
        ellipsoid: moon,
        name: "mars",
        quadTreeStrategyPrototype: quadTreeStrategyType.equi,
        target: "globus",
        terrain: highResTerrain,
        layers: [sat, appoloSat],
        nightTextureSrc: null,
        specularTextureSrc: null,
        atmosphereEnabled: false
    });

    globe.planet.addControl(new control.ToggleWireframe());
    globe.planet.addControl(new control.DebugInfo());
    globe.planet.addControl(new control.Lighting());
    globe.planet.addControl(new control.LayerSwitcher());
    globe.planet.addControl(new control.ElevationProfileControl());

    globe.planet.renderer.controls.SimpleSkyBackground.colorOne = "rgb(0, 0, 0)";
    globe.planet.renderer.controls.SimpleSkyBackground.colorTwo = "rgb(0, 0, 0)";

</script>
</body>