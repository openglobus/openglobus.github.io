<!DOCTYPE html><html lang="en" style="font-size:16px"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="icon" href="https://openglobus.github.io/favicon.ico"><title>Source: entity/Entity.ts</title><!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]--><script src="scripts/third-party/hljs.js" defer="defer"></script><script src="scripts/third-party/hljs-line-num.js" defer="defer"></script><script src="scripts/third-party/popper.js" defer="defer"></script><script src="scripts/third-party/tippy.js" defer="defer"></script><script src="scripts/third-party/tocbot.min.js"></script><script>var baseURL="/",locationPathname="";baseURL=(baseURL=(baseURL="https://openglobus.github.io/docs/").replace(/https?:\/\//i,"")).substr(baseURL.indexOf("/"))</script><link rel="stylesheet" href="styles/clean-jsdoc-theme.min.css"><svg aria-hidden="true" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="display:none"><defs><symbol id="copy-icon" viewbox="0 0 488.3 488.3"><g><path d="M314.25,85.4h-227c-21.3,0-38.6,17.3-38.6,38.6v325.7c0,21.3,17.3,38.6,38.6,38.6h227c21.3,0,38.6-17.3,38.6-38.6V124    C352.75,102.7,335.45,85.4,314.25,85.4z M325.75,449.6c0,6.4-5.2,11.6-11.6,11.6h-227c-6.4,0-11.6-5.2-11.6-11.6V124    c0-6.4,5.2-11.6,11.6-11.6h227c6.4,0,11.6,5.2,11.6,11.6V449.6z"/><path d="M401.05,0h-227c-21.3,0-38.6,17.3-38.6,38.6c0,7.5,6,13.5,13.5,13.5s13.5-6,13.5-13.5c0-6.4,5.2-11.6,11.6-11.6h227    c6.4,0,11.6,5.2,11.6,11.6v325.7c0,6.4-5.2,11.6-11.6,11.6c-7.5,0-13.5,6-13.5,13.5s6,13.5,13.5,13.5c21.3,0,38.6-17.3,38.6-38.6    V38.6C439.65,17.3,422.35,0,401.05,0z"/></g></symbol><symbol id="search-icon" viewBox="0 0 512 512"><g><g><path d="M225.474,0C101.151,0,0,101.151,0,225.474c0,124.33,101.151,225.474,225.474,225.474    c124.33,0,225.474-101.144,225.474-225.474C450.948,101.151,349.804,0,225.474,0z M225.474,409.323    c-101.373,0-183.848-82.475-183.848-183.848S124.101,41.626,225.474,41.626s183.848,82.475,183.848,183.848    S326.847,409.323,225.474,409.323z"/></g></g><g><g><path d="M505.902,476.472L386.574,357.144c-8.131-8.131-21.299-8.131-29.43,0c-8.131,8.124-8.131,21.306,0,29.43l119.328,119.328    c4.065,4.065,9.387,6.098,14.715,6.098c5.321,0,10.649-2.033,14.715-6.098C514.033,497.778,514.033,484.596,505.902,476.472z"/></g></g></symbol><symbol id="font-size-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M11.246 15H4.754l-2 5H.6L7 4h2l6.4 16h-2.154l-2-5zm-.8-2L8 6.885 5.554 13h4.892zM21 12.535V12h2v8h-2v-.535a4 4 0 1 1 0-6.93zM19 18a2 2 0 1 0 0-4 2 2 0 0 0 0 4z"/></symbol><symbol id="add-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M11 11V5h2v6h6v2h-6v6h-2v-6H5v-2z"/></symbol><symbol id="minus-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M5 11h14v2H5z"/></symbol><symbol id="dark-theme-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M10 7a7 7 0 0 0 12 4.9v.1c0 5.523-4.477 10-10 10S2 17.523 2 12 6.477 2 12 2h.1A6.979 6.979 0 0 0 10 7zm-6 5a8 8 0 0 0 15.062 3.762A9 9 0 0 1 8.238 4.938 7.999 7.999 0 0 0 4 12z"/></symbol><symbol id="light-theme-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M12 18a6 6 0 1 1 0-12 6 6 0 0 1 0 12zm0-2a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM11 1h2v3h-2V1zm0 19h2v3h-2v-3zM3.515 4.929l1.414-1.414L7.05 5.636 5.636 7.05 3.515 4.93zM16.95 18.364l1.414-1.414 2.121 2.121-1.414 1.414-2.121-2.121zm2.121-14.85l1.414 1.415-2.121 2.121-1.414-1.414 2.121-2.121zM5.636 16.95l1.414 1.414-2.121 2.121-1.414-1.414 2.121-2.121zM23 11v2h-3v-2h3zM4 11v2H1v-2h3z"/></symbol><symbol id="reset-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M18.537 19.567A9.961 9.961 0 0 1 12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10c0 2.136-.67 4.116-1.81 5.74L17 12h3a8 8 0 1 0-2.46 5.772l.997 1.795z"/></symbol><symbol id="down-icon" viewBox="0 0 16 16"><path fill-rule="evenodd" clip-rule="evenodd" d="M12.7803 6.21967C13.0732 6.51256 13.0732 6.98744 12.7803 7.28033L8.53033 11.5303C8.23744 11.8232 7.76256 11.8232 7.46967 11.5303L3.21967 7.28033C2.92678 6.98744 2.92678 6.51256 3.21967 6.21967C3.51256 5.92678 3.98744 5.92678 4.28033 6.21967L8 9.93934L11.7197 6.21967C12.0126 5.92678 12.4874 5.92678 12.7803 6.21967Z"></path></symbol><symbol id="codepen-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M16.5 13.202L13 15.535v3.596L19.197 15 16.5 13.202zM14.697 12L12 10.202 9.303 12 12 13.798 14.697 12zM20 10.869L18.303 12 20 13.131V10.87zM19.197 9L13 4.869v3.596l3.5 2.333L19.197 9zM7.5 10.798L11 8.465V4.869L4.803 9 7.5 10.798zM4.803 15L11 19.131v-3.596l-3.5-2.333L4.803 15zM4 13.131L5.697 12 4 10.869v2.262zM2 9a1 1 0 0 1 .445-.832l9-6a1 1 0 0 1 1.11 0l9 6A1 1 0 0 1 22 9v6a1 1 0 0 1-.445.832l-9 6a1 1 0 0 1-1.11 0l-9-6A1 1 0 0 1 2 15V9z"/></symbol><symbol id="close-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M12 10.586l4.95-4.95 1.414 1.414-4.95 4.95 4.95 4.95-1.414 1.414-4.95-4.95-4.95 4.95-1.414-1.414 4.95-4.95-4.95-4.95L7.05 5.636z"/></symbol><symbol id="menu-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M3 4h18v2H3V4zm0 7h18v2H3v-2zm0 7h18v2H3v-2z"/></symbol></defs></svg></head><body data-theme="dark"><div class="sidebar-container"><div class="sidebar" id="sidebar"><a href="/" class="sidebar-title sidebar-title-anchor">OpenGlobus</a><div class="sidebar-items-container"><div class="sidebar-section-title with-arrow" data-isopen="false" id="sidebar-modules"><div>Modules</div><svg><use xlink:href="#down-icon"></use></svg></div><div class="sidebar-section-children-container"><div class="sidebar-section-children"><a href="module-og_math_coder.html">og/math/coder</a></div><div class="sidebar-section-children"><a href="module-og_proj_EPSG3857.html">og/proj/EPSG3857</a></div><div class="sidebar-section-children"><a href="module-og_proj_EPSG4326.html">og/proj/EPSG4326</a></div><div class="sidebar-section-children"><a href="module-og_proj_equi.html">og/proj/equi</a></div><div class="sidebar-section-children"><a href="module-og_segment_SegmentHelper.html">og/segment/SegmentHelper</a></div><div class="sidebar-section-children"><a href="module-og_utils_earcut.html">og/utils/earcut</a></div><div class="sidebar-section-children"><a href="module-og_utils_shared.html">og/utils/shared</a></div><div class="sidebar-section-children"><a href="module-og_webgl_types.html">og/webgl/types</a></div><div class="sidebar-section-children"><a href="module-og_webgl_variableHandlers.html">og/webgl/variableHandlers</a></div></div><div class="sidebar-section-title with-arrow" data-isopen="false" id="sidebar-classes"><div>Classes</div><svg><use xlink:href="#down-icon"></use></svg></div><div class="sidebar-section-children-container"><div class="sidebar-section-children"><a href="AtmosphereConfig.html">AtmosphereConfig</a></div><div class="sidebar-section-children"><a href="BaseBillboard.html">BaseBillboard</a></div><div class="sidebar-section-children"><a href="BaseBillboardHandler.html">BaseBillboardHandler</a></div><div class="sidebar-section-children"><a href="BaseGeoImage.html">BaseGeoImage</a></div><div class="sidebar-section-children"><a href="BaseNode.html">BaseNode</a></div><div class="sidebar-section-children"><a href="Billboard.html">Billboard</a></div><div class="sidebar-section-children"><a href="BillboardHandler.html">BillboardHandler</a></div><div class="sidebar-section-children"><a href="Box.html">Box</a></div><div class="sidebar-section-children"><a href="Camera.html">Camera</a></div><div class="sidebar-section-children"><a href="CanvasTiles.html">CanvasTiles</a></div><div class="sidebar-section-children"><a href="Clock.html">Clock</a></div><div class="sidebar-section-children"><a href="CompassButton.html">CompassButton</a></div><div class="sidebar-section-children"><a href="Cons.html">Cons</a></div><div class="sidebar-section-children"><a href="Control.html">Control</a></div><div class="sidebar-section-children"><a href="DrawingSwitcher.html">DrawingSwitcher</a></div><div class="sidebar-section-children"><a href="EarthCoordinates.html">EarthCoordinates</a></div><div class="sidebar-section-children"><a href="ElevationProfile.html">ElevationProfile</a></div><div class="sidebar-section-children"><a href="Ellipsoid.html">Ellipsoid</a></div><div class="sidebar-section-children"><a href="EmptyTerrain.html">EmptyTerrain</a></div><div class="sidebar-section-children"><a href="Entity.html">Entity</a></div><div class="sidebar-section-children"><a href="EntityCollection.html">EntityCollection</a></div><div class="sidebar-section-children"><a href="EntityCollectionNode.html">EntityCollectionNode</a></div><div class="sidebar-section-children"><a href="Events.html">Events</a></div><div class="sidebar-section-children"><a href="Extent.html">Extent</a></div><div class="sidebar-section-children"><a href="Framebuffer.html">Framebuffer</a></div><div class="sidebar-section-children"><a href="Frustum.html">Frustum</a></div><div class="sidebar-section-children"><a href="GeoImage.html">GeoImage</a></div><div class="sidebar-section-children"><a href="GeoObject.html">GeoObject</a></div><div class="sidebar-section-children"><a href="GeoVideo.html">GeoVideo</a></div><div class="sidebar-section-children"><a href="Globe.html">Globe</a></div><div class="sidebar-section-children"><a href="GlobusTerrain.html">GlobusTerrain</a></div><div class="sidebar-section-children"><a href="Handler.html">Handler</a></div><div class="sidebar-section-children"><a href="ImageCanvas.html">ImageCanvas</a></div><div class="sidebar-section-children"><a href="KML.html">KML</a></div><div class="sidebar-section-children"><a href="KeyboardNavigation.html">KeyboardNavigation</a></div><div class="sidebar-section-children"><a href="Label.html">Label</a></div><div class="sidebar-section-children"><a href="Layer.html">Layer</a></div><div class="sidebar-section-children"><a href="LayerSwitcher.html">LayerSwitcher</a></div><div class="sidebar-section-children"><a href="Lighting.html">Lighting</a></div><div class="sidebar-section-children"><a href="Line3.html">Line3</a></div><div class="sidebar-section-children"><a href="LonLat.html">LonLat</a></div><div class="sidebar-section-children"><a href="global.html#Mat3">Mat3</a></div><div class="sidebar-section-children"><a href="global.html#Mat4">Mat4</a></div><div class="sidebar-section-children"><a href="Material.html">Material</a></div><div class="sidebar-section-children"><a href="MouseNavigation.html">MouseNavigation</a></div><div class="sidebar-section-children"><a href="Multisample.html">Multisample</a></div><div class="sidebar-section-children"><a href="Node.html">Node</a></div><div class="sidebar-section-children"><a href="OldMouseNavigation.html">OldMouseNavigation</a></div><div class="sidebar-section-children"><a href="Plane.html">Plane</a></div><div class="sidebar-section-children"><a href="Planet.html">Planet</a></div><div class="sidebar-section-children"><a href="PlanetCamera.html">PlanetCamera</a></div><div class="sidebar-section-children"><a href="PointCloud.html">PointCloud</a></div><div class="sidebar-section-children"><a href="Polyline.html">Polyline</a></div><div class="sidebar-section-children"><a href="Program.html">Program</a></div><div class="sidebar-section-children"><a href="ProgramController.html">ProgramController</a></div><div class="sidebar-section-children"><a href="global.html#Quat">Quat</a></div><div class="sidebar-section-children"><a href="Ray.html">Ray</a></div><div class="sidebar-section-children"><a href="Ray.html">Ray</a></div><div class="sidebar-section-children"><a href="Rectangle.html">Rectangle</a></div><div class="sidebar-section-children"><a href="RenderNode.html">RenderNode</a></div><div class="sidebar-section-children"><a href="Renderer.html">Renderer</a></div><div class="sidebar-section-children"><a href="RendererEvents.html">RendererEvents</a></div><div class="sidebar-section-children"><a href="RgbTerrain.html">RgbTerrain</a></div><div class="sidebar-section-children"><a href="RulerSwitcher.html">RulerSwitcher</a></div><div class="sidebar-section-children"><a href="ScaleControl.html">ScaleControl</a></div><div class="sidebar-section-children"><a href="Segment.html">Segment</a></div><div class="sidebar-section-children"><a href="Segment.html">Segment</a></div><div class="sidebar-section-children"><a href="SegmentBoundVisualization.html">SegmentBoundVisualization</a></div><div class="sidebar-section-children"><a href="SegmentLonLat.html">SegmentLonLat</a></div><div class="sidebar-section-children"><a href="Selection.html">Selection</a></div><div class="sidebar-section-children"><a href="ShowFps.html">ShowFps</a></div><div class="sidebar-section-children"><a href="SimpleNavigation.html">SimpleNavigation</a></div><div class="sidebar-section-children"><a href="Sphere.html">Sphere</a></div><div class="sidebar-section-children">Stack.&lt;<a href="global.html#T">T</a>></div><div class="sidebar-section-children"><a href="Strip.html">Strip</a></div><div class="sidebar-section-children"><a href="Sun.html">Sun</a></div><div class="sidebar-section-children"><a href="TextureAtlas.html">TextureAtlas</a></div><div class="sidebar-section-children"><a href="TextureAtlas.html">TextureAtlas</a></div><div class="sidebar-section-children"><a href="ToggleWireframe.html">ToggleWireframe</a></div><div class="sidebar-section-children"><a href="TouchNavigation.html">TouchNavigation</a></div><div class="sidebar-section-children"><a href="global.html#Vec2">Vec2</a></div><div class="sidebar-section-children"><a href="global.html#Vec3">Vec3</a></div><div class="sidebar-section-children"><a href="global.html#Vec4">Vec4</a></div><div class="sidebar-section-children"><a href="Vector.html">Vector</a></div><div class="sidebar-section-children"><a href="WMS.html">WMS</a></div><div class="sidebar-section-children"><a href="XYZ.html">XYZ</a></div><div class="sidebar-section-children"><a href="ZoomControl.html">ZoomControl</a></div></div><div class="sidebar-section-title with-arrow" data-isopen="false" id="sidebar-events"><div>Events</div><svg><use xlink:href="#down-icon"></use></svg></div><div class="sidebar-section-children-container"><div class="sidebar-section-children"><a href="EntityCollection.html#event:add">add</a></div><div class="sidebar-section-children"><a href="EntityCollection.html#event:doubletouch">doubletouch</a></div><div class="sidebar-section-children"><a href="EntityCollection.html#event:draw">draw</a></div><div class="sidebar-section-children"><a href="EntityCollection.html#event:drawend">drawend</a></div><div class="sidebar-section-children"><a href="EntityCollection.html#event:entityadd">entityadd</a></div><div class="sidebar-section-children"><a href="EntityCollection.html#event:entityremove">entityremove</a></div><div class="sidebar-section-children"><a href="EntityCollection.html#event:lclick">lclick</a></div><div class="sidebar-section-children"><a href="EntityCollection.html#event:ldblclick">ldblclick</a></div><div class="sidebar-section-children"><a href="EntityCollection.html#event:ldown">ldown</a></div><div class="sidebar-section-children"><a href="EntityCollection.html#event:lhold">lhold</a></div><div class="sidebar-section-children"><a href="EntityCollection.html#event:lup">lup</a></div><div class="sidebar-section-children"><a href="EntityCollection.html#event:mclick">mclick</a></div><div class="sidebar-section-children"><a href="EntityCollection.html#event:mdblclick">mdblclick</a></div><div class="sidebar-section-children"><a href="EntityCollection.html#event:mdown">mdown</a></div><div class="sidebar-section-children"><a href="EntityCollection.html#event:mhold">mhold</a></div><div class="sidebar-section-children"><a href="EntityCollection.html#event:mouseenter">mouseenter</a></div><div class="sidebar-section-children"><a href="EntityCollection.html#event:mouseleave">mouseleave</a></div><div class="sidebar-section-children"><a href="EntityCollection.html#event:mousemove">mousemove</a></div><div class="sidebar-section-children"><a href="EntityCollection.html#event:mousewheel">mousewheel</a></div><div class="sidebar-section-children"><a href="EntityCollection.html#event:mup">mup</a></div><div class="sidebar-section-children"><a href="EntityCollection.html#event:rclick">rclick</a></div><div class="sidebar-section-children"><a href="EntityCollection.html#event:rdblclick">rdblclick</a></div><div class="sidebar-section-children"><a href="EntityCollection.html#event:rdown">rdown</a></div><div class="sidebar-section-children"><a href="EntityCollection.html#event:remove">remove</a></div><div class="sidebar-section-children"><a href="EntityCollection.html#event:rhold">rhold</a></div><div class="sidebar-section-children"><a href="EntityCollection.html#event:rup">rup</a></div><div class="sidebar-section-children"><a href="EntityCollection.html#event:touchend">touchend</a></div><div class="sidebar-section-children"><a href="EntityCollection.html#event:touchenter">touchenter</a></div><div class="sidebar-section-children"><a href="EntityCollection.html#event:touchleave">touchleave</a></div><div class="sidebar-section-children"><a href="EntityCollection.html#event:touchmove">touchmove</a></div><div class="sidebar-section-children"><a href="EntityCollection.html#event:touchstart">touchstart</a></div><div class="sidebar-section-children"><a href="EntityCollection.html#event:visibilitychange">visibilitychange</a></div><div class="sidebar-section-children"><a href="EventsHandler_BaseGeoImageEventsList_.html#event:loadend">loadend</a></div><div class="sidebar-section-children"><a href="EventsHandler_VectorEventsList_.html#event:draw">draw</a></div><div class="sidebar-section-children"><a href="EventsHandler_VectorEventsList_.html#event:entityadd">entityadd</a></div><div class="sidebar-section-children"><a href="EventsHandler_VectorEventsList_.html#event:entityremove">entityremove</a></div><div class="sidebar-section-children"><a href="global.html#event:#load">#load</a></div><div class="sidebar-section-children"><a href="global.html#event:#loadend">#loadend</a></div><div class="sidebar-section-children"><a href="og.Camera.html#event:moveend">moveend</a></div><div class="sidebar-section-children"><a href="og.Camera.html#event:viewchange">viewchange</a></div><div class="sidebar-section-children"><a href="og.Layer.html#event:add">add</a></div><div class="sidebar-section-children"><a href="og.Layer.html#event:doubletouch">doubletouch</a></div><div class="sidebar-section-children"><a href="og.Layer.html#event:lclick">lclick</a></div><div class="sidebar-section-children"><a href="og.Layer.html#event:ldblclick">ldblclick</a></div><div class="sidebar-section-children"><a href="og.Layer.html#event:ldown">ldown</a></div><div class="sidebar-section-children"><a href="og.Layer.html#event:lhold">lhold</a></div><div class="sidebar-section-children"><a href="og.Layer.html#event:lup">lup</a></div><div class="sidebar-section-children"><a href="og.Layer.html#event:mclick">mclick</a></div><div class="sidebar-section-children"><a href="og.Layer.html#event:mdblclick">mdblclick</a></div><div class="sidebar-section-children"><a href="og.Layer.html#event:mdown">mdown</a></div><div class="sidebar-section-children"><a href="og.Layer.html#event:mhold">mhold</a></div><div class="sidebar-section-children"><a href="og.Layer.html#event:mouseenter">mouseenter</a></div><div class="sidebar-section-children"><a href="og.Layer.html#event:mouseenter">mouseenter</a></div><div class="sidebar-section-children"><a href="og.Layer.html#event:mousemove">mousemove</a></div><div class="sidebar-section-children"><a href="og.Layer.html#event:mousewheel">mousewheel</a></div><div class="sidebar-section-children"><a href="og.Layer.html#event:mup">mup</a></div><div class="sidebar-section-children"><a href="og.Layer.html#event:rclick">rclick</a></div><div class="sidebar-section-children"><a href="og.Layer.html#event:rdblclick">rdblclick</a></div><div class="sidebar-section-children"><a href="og.Layer.html#event:rdown">rdown</a></div><div class="sidebar-section-children"><a href="og.Layer.html#event:remove">remove</a></div><div class="sidebar-section-children"><a href="og.Layer.html#event:rhold">rhold</a></div><div class="sidebar-section-children"><a href="og.Layer.html#event:rup">rup</a></div><div class="sidebar-section-children"><a href="og.Layer.html#event:touchend">touchend</a></div><div class="sidebar-section-children"><a href="og.Layer.html#event:touchenter">touchenter</a></div><div class="sidebar-section-children"><a href="og.Layer.html#event:touchleave">touchleave</a></div><div class="sidebar-section-children"><a href="og.Layer.html#event:touchmove">touchmove</a></div><div class="sidebar-section-children"><a href="og.Layer.html#event:touchstart">touchstart</a></div><div class="sidebar-section-children"><a href="og.Layer.html#event:visibilitychange">visibilitychange</a></div><div class="sidebar-section-children"><a href="og.MouseNavigation.html#event:drag">drag</a></div><div class="sidebar-section-children"><a href="og.MouseNavigation.html#event:rotate">rotate</a></div><div class="sidebar-section-children"><a href="og.MouseNavigation.html#event:zoom">zoom</a></div><div class="sidebar-section-children"><a href="og.PlanetCamera.html#event:flyend">flyend</a></div><div class="sidebar-section-children"><a href="og.PlanetCamera.html#event:flystart">flystart</a></div><div class="sidebar-section-children"><a href="og.PlanetCamera.html#event:flystop">flystop</a></div><div class="sidebar-section-children"><a href="og.RendererEvents.html#event:doubletouch">doubletouch</a></div><div class="sidebar-section-children"><a href="og.RendererEvents.html#event:draw">draw</a></div><div class="sidebar-section-children"><a href="og.RendererEvents.html#event:drawtransparent">drawtransparent</a></div><div class="sidebar-section-children"><a href="og.RendererEvents.html#event:lclick">lclick</a></div><div class="sidebar-section-children"><a href="og.RendererEvents.html#event:ldblclick">ldblclick</a></div><div class="sidebar-section-children"><a href="og.RendererEvents.html#event:ldown">ldown</a></div><div class="sidebar-section-children"><a href="og.RendererEvents.html#event:lhold">lhold</a></div><div class="sidebar-section-children"><a href="og.RendererEvents.html#event:lup">lup</a></div><div class="sidebar-section-children"><a href="og.RendererEvents.html#event:mclick">mclick</a></div><div class="sidebar-section-children"><a href="og.RendererEvents.html#event:mdblclick">mdblclick</a></div><div class="sidebar-section-children"><a href="og.RendererEvents.html#event:mdown">mdown</a></div><div class="sidebar-section-children"><a href="og.RendererEvents.html#event:mhold">mhold</a></div><div class="sidebar-section-children"><a href="og.RendererEvents.html#event:mouseenter">mouseenter</a></div><div class="sidebar-section-children"><a href="og.RendererEvents.html#event:mouseleave">mouseleave</a></div><div class="sidebar-section-children"><a href="og.RendererEvents.html#event:mousemove">mousemove</a></div><div class="sidebar-section-children"><a href="og.RendererEvents.html#event:mousestop">mousestop</a></div><div class="sidebar-section-children"><a href="og.RendererEvents.html#event:mousewheel">mousewheel</a></div><div class="sidebar-section-children"><a href="og.RendererEvents.html#event:mup">mup</a></div><div class="sidebar-section-children"><a href="og.RendererEvents.html#event:postdraw">postdraw</a></div><div class="sidebar-section-children"><a href="og.RendererEvents.html#event:rclick">rclick</a></div><div class="sidebar-section-children"><a href="og.RendererEvents.html#event:rdblclick">rdblclick</a></div><div class="sidebar-section-children"><a href="og.RendererEvents.html#event:rdown">rdown</a></div><div class="sidebar-section-children"><a href="og.RendererEvents.html#event:resize">resize</a></div><div class="sidebar-section-children"><a href="og.RendererEvents.html#event:resizeend">resizeend</a></div><div class="sidebar-section-children"><a href="og.RendererEvents.html#event:rhold">rhold</a></div><div class="sidebar-section-children"><a href="og.RendererEvents.html#event:rup">rup</a></div><div class="sidebar-section-children"><a href="og.RendererEvents.html#event:touchcancel">touchcancel</a></div><div class="sidebar-section-children"><a href="og.RendererEvents.html#event:touchend">touchend</a></div><div class="sidebar-section-children"><a href="og.RendererEvents.html#event:touchenter">touchenter</a></div><div class="sidebar-section-children"><a href="og.RendererEvents.html#event:touchleave">touchleave</a></div><div class="sidebar-section-children"><a href="og.RendererEvents.html#event:touchmove">touchmove</a></div><div class="sidebar-section-children"><a href="og.RendererEvents.html#event:touchstart">touchstart</a></div><div class="sidebar-section-children"><a href="og.TouchNavigation.html#event:doubletapzoom">doubletapzoom</a></div><div class="sidebar-section-children"><a href="og.TouchNavigation.html#event:drag">drag</a></div><div class="sidebar-section-children"><a href="og.TouchNavigation.html#event:rotate">rotate</a></div><div class="sidebar-section-children"><a href="og.layer.CanvasTiles.html#event:load">load</a></div><div class="sidebar-section-children"><a href="og.layer.CanvasTiles.html#event:loadend">loadend</a></div><div class="sidebar-section-children"><a href="og.scene.Planet.html#event:baselayerchange">baselayerchange</a></div><div class="sidebar-section-children"><a href="og.scene.Planet.html#event:draw">draw</a></div><div class="sidebar-section-children"><a href="og.scene.Planet.html#event:layeradd">layeradd</a></div><div class="sidebar-section-children"><a href="og.scene.Planet.html#event:layerremove">layerremove</a></div><div class="sidebar-section-children"><a href="og.scene.Planet.html#event:layervisibilitychange">layervisibilitychange</a></div><div class="sidebar-section-children"><a href="og.scene.Planet.html#event:rendercompleted">rendercompleted</a></div><div class="sidebar-section-children"><a href="og.scene.Planet.html#event:terraincompleted">terraincompleted</a></div><div class="sidebar-section-children"><a href="og.scene.Planet.html#event:terraincompleted">terraincompleted</a></div><div class="sidebar-section-children"><a href="og.terrain.GlobusTerrain.html#event:load">load</a></div><div class="sidebar-section-children"><a href="og.terrain.GlobusTerrain.html#event:loadend">loadend</a></div></div><div class="sidebar-section-title with-arrow" data-isopen="false" id="sidebar-global"><div>Global</div><svg><use xlink:href="#down-icon"></use></svg></div><div class="sidebar-section-children-container"><div class="sidebar-section-children"><a href="global.html#ARCSECONDS_TO_RADIANS">ARCSECONDS_TO_RADIANS</a></div><div class="sidebar-section-children"><a href="global.html#AU_TO_METERS">AU_TO_METERS</a></div><div class="sidebar-section-children"><a href="global.html#COMSIDE">COMSIDE</a></div><div class="sidebar-section-children"><a href="global.html#DAYS_PER_JULIAN_CENTURY">DAYS_PER_JULIAN_CENTURY</a></div><div class="sidebar-section-children"><a href="global.html#DAYS_PER_JULIAN_YEAR">DAYS_PER_JULIAN_YEAR</a></div><div class="sidebar-section-children"><a href="global.html#DEFAULT_MAX_NODES">DEFAULT_MAX_NODES</a></div><div class="sidebar-section-children"><a href="global.html#DEG2RAD">DEG2RAD</a></div><div class="sidebar-section-children"><a href="global.html#DEGREES">DEGREES</a></div><div class="sidebar-section-children"><a href="global.html#DEGREES_DOUBLE">DEGREES_DOUBLE</a></div><div class="sidebar-section-children"><a href="global.html#DEGREES_TO_HOURS">DEGREES_TO_HOURS</a></div><div class="sidebar-section-children"><a href="global.html#DateToTAI">DateToTAI</a></div><div class="sidebar-section-children"><a href="global.html#DateToUTC">DateToUTC</a></div><div class="sidebar-section-children"><a href="global.html#EARTH_GRAVITATIONAL_PARAMETER">EARTH_GRAVITATIONAL_PARAMETER</a></div><div class="sidebar-section-children"><a href="global.html#ExtentBoundingBox">ExtentBoundingBox</a></div><div class="sidebar-section-children"><a href="global.html#HOURS_PER_DAY">HOURS_PER_DAY</a></div><div class="sidebar-section-children"><a href="global.html#HOURS_TO_DEGREES">HOURS_TO_DEGREES</a></div><div class="sidebar-section-children"><a href="global.html#HOURS_TO_RADIANS">HOURS_TO_RADIANS</a></div><div class="sidebar-section-children"><a href="global.html#HandlerEventType">HandlerEventType</a></div><div class="sidebar-section-children"><a href="global.html#IEntityParams">IEntityParams</a></div><div class="sidebar-section-children"><a href="global.html#IGeoObjectParams">IGeoObjectParams</a></div><div class="sidebar-section-children"><a href="global.html#J2000">J2000</a></div><div class="sidebar-section-children"><a href="global.html#J2000_OBLIQUITY">J2000_OBLIQUITY</a></div><div class="sidebar-section-children"><a href="global.html#LOG2">LOG2</a></div><div class="sidebar-section-children"><a href="global.html#MAX">MAX</a></div><div class="sidebar-section-children"><a href="global.html#MAX32">MAX32</a></div><div class="sidebar-section-children"><a href="global.html#MAX_LAT">MAX_LAT</a></div><div class="sidebar-section-children"><a href="global.html#METERS_PER_UNIT">METERS_PER_UNIT</a></div><div class="sidebar-section-children"><a href="global.html#MILLISECONDS_PER_DAY">MILLISECONDS_PER_DAY</a></div><div class="sidebar-section-children"><a href="global.html#MILLISECONDS_PER_SECOND">MILLISECONDS_PER_SECOND</a></div><div class="sidebar-section-children"><a href="global.html#MIN">MIN</a></div><div class="sidebar-section-children"><a href="global.html#MINUTES_PER_DAY">MINUTES_PER_DAY</a></div><div class="sidebar-section-children"><a href="global.html#MINUTES_PER_HOUR">MINUTES_PER_HOUR</a></div><div class="sidebar-section-children"><a href="global.html#MIN_LAT">MIN_LAT</a></div><div class="sidebar-section-children"><a href="global.html#MODIFIED_JULIAN_DATE_DIFFERENCE">MODIFIED_JULIAN_DATE_DIFFERENCE</a></div><div class="sidebar-section-children"><a href="global.html#Mat3">Mat3</a></div><div class="sidebar-section-children"><a href="global.html#Mat4">Mat4</a></div><div class="sidebar-section-children"><a href="global.html#NEIGHBOUR">NEIGHBOUR</a></div><div class="sidebar-section-children"><a href="global.html#NOPSORD">NOPSORD</a></div><div class="sidebar-section-children"><a href="global.html#ONE_BY_HOURS_PER_DAY">ONE_BY_HOURS_PER_DAY</a></div><div class="sidebar-section-children"><a href="global.html#ONE_BY_MILLISECONDS_PER_DAY">ONE_BY_MILLISECONDS_PER_DAY</a></div><div class="sidebar-section-children"><a href="global.html#ONE_BY_MINUTES_PER_DAY">ONE_BY_MINUTES_PER_DAY</a></div><div class="sidebar-section-children"><a href="global.html#ONE_BY_POLE_DOUBLE">ONE_BY_POLE_DOUBLE</a></div><div class="sidebar-section-children"><a href="global.html#ONE_BY_SECONDS_PER_DAY">ONE_BY_SECONDS_PER_DAY</a></div><div class="sidebar-section-children"><a href="global.html#ONE_BY_SECONDS_PER_HOUR">ONE_BY_SECONDS_PER_HOUR</a></div><div class="sidebar-section-children"><a href="global.html#ONE_BY_SECONDS_PER_MINUTE">ONE_BY_SECONDS_PER_MINUTE</a></div><div class="sidebar-section-children"><a href="global.html#OPPART">OPPART</a></div><div class="sidebar-section-children"><a href="global.html#OPSIDE">OPSIDE</a></div><div class="sidebar-section-children"><a href="global.html#PARTOFFSET">PARTOFFSET</a></div><div class="sidebar-section-children"><a href="global.html#PICOSECOND">PICOSECOND</a></div><div class="sidebar-section-children"><a href="global.html#PI_TWO">PI_TWO</a></div><div class="sidebar-section-children"><a href="global.html#PLANET_NAME_PREFIX">PLANET_NAME_PREFIX</a></div><div class="sidebar-section-children"><a href="global.html#POLE">POLE</a></div><div class="sidebar-section-children"><a href="global.html#POLE_DOUBLE">POLE_DOUBLE</a></div><div class="sidebar-section-children"><a href="global.html#Quat">Quat</a></div><div class="sidebar-section-children"><a href="global.html#QuatAxisAngle">QuatAxisAngle</a></div><div class="sidebar-section-children"><a href="global.html#RAD2DEG">RAD2DEG</a></div><div class="sidebar-section-children"><a href="global.html#RADIANS">RADIANS</a></div><div class="sidebar-section-children"><a href="global.html#RADIANS_HALF">RADIANS_HALF</a></div><div class="sidebar-section-children"><a href="global.html#RADIANS_TO_HOURS">RADIANS_TO_HOURS</a></div><div class="sidebar-section-children"><a href="global.html#SAFE">SAFE</a></div><div class="sidebar-section-children"><a href="global.html#SECONDS_PER_12_HOURS">SECONDS_PER_12_HOURS</a></div><div class="sidebar-section-children"><a href="global.html#SECONDS_PER_DAY">SECONDS_PER_DAY</a></div><div class="sidebar-section-children"><a href="global.html#SECONDS_PER_HOUR">SECONDS_PER_HOUR</a></div><div class="sidebar-section-children"><a href="global.html#SECONDS_PER_MILLISECOND">SECONDS_PER_MILLISECOND</a></div><div class="sidebar-section-children"><a href="global.html#SECONDS_PER_MINUTE">SECONDS_PER_MINUTE</a></div><div class="sidebar-section-children"><a href="global.html#SQRT_HALF">SQRT_HALF</a></div><div class="sidebar-section-children"><a href="global.html#STR2ALIGN">STR2ALIGN</a></div><div class="sidebar-section-children"><a href="global.html#SUN_GRAVITATIONAL_PARAMETER">SUN_GRAVITATIONAL_PARAMETER</a></div><div class="sidebar-section-children"><a href="global.html#T">T</a></div><div class="sidebar-section-children"><a href="global.html#TAItoDate">TAItoDate</a></div><div class="sidebar-section-children"><a href="global.html#TAItoTDB">TAItoTDB</a></div><div class="sidebar-section-children"><a href="global.html#TAItoUTC">TAItoUTC</a></div><div class="sidebar-section-children"><a href="global.html#TDT_TAI">TDT_TAI</a></div><div class="sidebar-section-children"><a href="global.html#TRACK">TRACK</a></div><div class="sidebar-section-children"><a href="global.html#TWO_PI">TWO_PI</a></div><div class="sidebar-section-children"><a href="global.html#UTCtoDate">UTCtoDate</a></div><div class="sidebar-section-children"><a href="global.html#UTCtoTAI">UTCtoTAI</a></div><div class="sidebar-section-children"><a href="global.html#Units">Units</a></div><div class="sidebar-section-children"><a href="global.html#Vec2">Vec2</a></div><div class="sidebar-section-children"><a href="global.html#Vec3">Vec3</a></div><div class="sidebar-section-children"><a href="global.html#Vec4">Vec4</a></div><div class="sidebar-section-children"><a href="global.html#_currPickingColor">_currPickingColor</a></div><div class="sidebar-section-children"><a href="global.html#_entitiesConstructor">_entitiesConstructor</a></div><div class="sidebar-section-children"><a href="global.html#_prevPickingColor">_prevPickingColor</a></div><div class="sidebar-section-children"><a href="global.html#addDays">addDays</a></div><div class="sidebar-section-children"><a href="global.html#addHours">addHours</a></div><div class="sidebar-section-children"><a href="global.html#addMilliseconds">addMilliseconds</a></div><div class="sidebar-section-children"><a href="global.html#addMinutes">addMinutes</a></div><div class="sidebar-section-children"><a href="global.html#addSeconds">addSeconds</a></div><div class="sidebar-section-children"><a href="global.html#bezier3v">bezier3v</a></div><div class="sidebar-section-children"><a href="global.html#clamp">clamp</a></div><div class="sidebar-section-children"><a href="global.html#daysToSeconds">daysToSeconds</a></div><div class="sidebar-section-children"><a href="global.html#degToDec">degToDec</a></div><div class="sidebar-section-children"><a href="global.html#equationCallback">equationCallback</a></div><div class="sidebar-section-children"><a href="global.html#exp2">exp2</a></div><div class="sidebar-section-children"><a href="global.html#forwardArray">forwardArray</a></div><div class="sidebar-section-children"><a href="global.html#forward_lat">forward_lat</a></div><div class="sidebar-section-children"><a href="global.html#forward_lon">forward_lon</a></div><div class="sidebar-section-children"><a href="global.html#frac">frac</a></div><div class="sidebar-section-children"><a href="global.html#getAngleBetweenAzimuths">getAngleBetweenAzimuths</a></div><div class="sidebar-section-children"><a href="global.html#getAngleDirection">getAngleDirection</a></div><div class="sidebar-section-children"><a href="global.html#getDayNumber">getDayNumber</a></div><div class="sidebar-section-children"><a href="global.html#getDays">getDays</a></div><div class="sidebar-section-children"><a href="global.html#getHours">getHours</a></div><div class="sidebar-section-children"><a href="global.html#getMilliseconds">getMilliseconds</a></div><div class="sidebar-section-children"><a href="global.html#getMinutes">getMinutes</a></div><div class="sidebar-section-children"><a href="global.html#getSeconds">getSeconds</a></div><div class="sidebar-section-children"><a href="global.html#getSunPosition">getSunPosition</a></div><div class="sidebar-section-children"><a href="global.html#getTileX">getTileX</a></div><div class="sidebar-section-children"><a href="global.html#getTileY">getTileY</a></div><div class="sidebar-section-children"><a href="global.html#inverse_lat">inverse_lat</a></div><div class="sidebar-section-children"><a href="global.html#inverse_lon">inverse_lon</a></div><div class="sidebar-section-children"><a href="global.html#isPowerOfTwo">isPowerOfTwo</a></div><div class="sidebar-section-children"><a href="global.html#lerp">lerp</a></div><div class="sidebar-section-children"><a href="global.html#log">log</a></div><div class="sidebar-section-children"><a href="global.html#log2">log2</a></div><div class="sidebar-section-children"><a href="global.html#mars">mars</a></div><div class="sidebar-section-children"><a href="global.html#mod">mod</a></div><div class="sidebar-section-children"><a href="global.html#moon">moon</a></div><div class="sidebar-section-children"><a href="global.html#negativePItoPI">negativePItoPI</a></div><div class="sidebar-section-children"><a href="global.html#nextHighestPowerOfTwo">nextHighestPowerOfTwo</a></div><div class="sidebar-section-children"><a href="global.html#norm_lon">norm_lon</a></div><div class="sidebar-section-children"><a href="global.html#pow2i">pow2i</a></div><div class="sidebar-section-children"><a href="global.html#random">random</a></div><div class="sidebar-section-children"><a href="global.html#randomi">randomi</a></div><div class="sidebar-section-children"><a href="global.html#rev">rev</a></div><div class="sidebar-section-children"><a href="global.html#secondsToDays">secondsToDays</a></div><div class="sidebar-section-children"><a href="global.html#slice">slice</a></div><div class="sidebar-section-children"><a href="global.html#solve_iteration">solve_iteration</a></div><div class="sidebar-section-children"><a href="global.html#solve_iteration_fixed">solve_iteration_fixed</a></div><div class="sidebar-section-children"><a href="global.html#step">step</a></div><div class="sidebar-section-children"><a href="global.html#visibleExtent">visibleExtent</a></div><div class="sidebar-section-children"><a href="global.html#wgs84">wgs84</a></div><div class="sidebar-section-children"><a href="global.html#zeroTwoPI">zeroTwoPI</a></div></div></div></div></div><div class="navbar-container" id="VuAckcnZhf"><nav class="navbar"><div class="navbar-left-items"></div><div class="navbar-right-items"><div class="navbar-right-item"><button class="icon-button search-button" aria-label="open-search"><svg><use xlink:href="#search-icon"></use></svg></button></div><div class="navbar-right-item"><button class="icon-button theme-toggle" aria-label="toggle-theme"><svg><use class="theme-svg-use" xlink:href="#light-theme-icon"></use></svg></button></div><div class="navbar-right-item"><button class="icon-button font-size" aria-label="change-font-size"><svg><use xlink:href="#font-size-icon"></use></svg></button></div></div><nav></nav></nav></div><div class="toc-container"><div class="toc-content"><span class="bold">On this page</span><div id="eed4d2a0bfd64539bb9df78095dec881"></div></div></div><div class="body-wrapper"><div class="main-content"><div class="main-wrapper"><section id="source-page" class="source-page"><header><h1 id="title" class="has-anchor">entity_Entity.ts</h1></header><article><pre class="prettyprint source lang-js"><code>import * as mercator from "../mercator";
import * as utils from "../utils/shared";
import {Billboard} from "./Billboard";
import {EntityCollection} from "./EntityCollection";
import type {IBillboardParams} from "./Billboard";
import type {EntityCollectionEvents} from "./EntityCollection";
import {Extent} from "../Extent";
import {Geometry} from "./Geometry";
import {GeoObject} from "./GeoObject";
import type {IGeometryParams} from "./Geometry";
import type {IGeoObjectParams} from "./GeoObject";
import {LonLat} from "../LonLat";
import {Label} from "./Label";
import type {ILabelParams} from "./Label";
import {Vec3} from "../math/Vec3";
import type {NumberArray3} from "../math/Vec3";
import type {NumberArray2} from "../math/Vec2";
import {Planet} from "../scene/Planet";
import {PointCloud} from "./PointCloud";
import {Polyline} from "./Polyline";
import type {IPointCloudParams} from "./PointCloud";
import type {IPolylineParams} from "./Polyline";
import {Ray} from "./Ray";
import type {IRayParams} from "./Ray";
import {Strip} from "./Strip";
import type {IStripParams} from "./Strip";
import {Vector} from "../layer/Vector";
import type {VectorEventsType} from "../layer/Vector";
import {EntityCollectionNode} from "../quadTree/EntityCollectionNode";
import {Quat} from "../math/Quat";
import {clamp} from "../math";

/**
 * Interface for Entity parameters.
 * @typedef {Object} IEntityParams
 * @property {string} [name] - Name of the entity.
 * @property {any} [properties] - Additional properties of the entity.
 * @property {Vec3 | NumberArray3} [cartesian] - Cartesian position.
 * @property {LonLat | NumberArray3 | NumberArray2} [lonlat] - Geographic coordinates.
 * @property {number} [altitude] - Altitude.
 * @property {boolean} [visibility] - Visibility flag.
 * @property {Billboard | IBillboardParams} [billboard] - Billboard object or parameters.
 * @property {Label | ILabelParams} [label] - Label object or parameters.
 * @property {Polyline | IPolylineParams} [polyline] - Polyline object or parameters.
 * @property {Ray | IRayParams} [ray] - Ray object or parameters.
 * @property {PointCloud | IPointCloudParams} [pointCloud] - Point cloud object or parameters.
 * @property {Geometry | IGeometryParams} [geometry] - Geometry object or parameters.
 * @property {GeoObject | IGeoObjectParams} [geoObject] - Geo object or parameters.
 * @property {Strip | IStripParams} [strip] - Strip object or parameters.
 * @property {boolean} [independentPicking] - Independent picking flag.
 * @property {boolean} [relativePosition] - Parent relative position flag, otherwise position is absolute.
 * @property {number} [pitch] - Rotation around local X-axis.
 * @property {number} [yaw] - Rotation around local Y-axis.
 * @property {number} [roll] - Rotation around local Z-axis.
 * @property {number | Vec3 | NumberArray3} [scale] - Scaling factor.
 * @property {boolean} [forceGlobalPosition] - Forces global position for entity make the same position as its parent.
 * @property {boolean} [forceGlobalRotation] - Forces global rotation for the entity make the same rotation as its parent.
 */
export interface IEntityParams {
    name?: string;
    properties?: any;
    cartesian?: Vec3 | NumberArray3;
    lonlat?: LonLat | NumberArray3 | NumberArray2;
    altitude?: number;
    visibility?: boolean;
    billboard?: Billboard | IBillboardParams;
    label?: Label | ILabelParams;
    polyline?: Polyline | IPolylineParams;
    ray?: Ray | IRayParams;
    pointCloud?: PointCloud | IPointCloudParams;
    geometry?: Geometry | IGeometryParams;
    geoObject?: GeoObject | IGeoObjectParams;
    strip?: Strip | IStripParams;
    independentPicking?: boolean;
    relativePosition?: boolean;
    pitch?: number;
    yaw?: number;
    roll?: number;
    scale?: number | Vec3 | NumberArray3;
    forceGlobalPosition?: boolean;
    forceGlobalRotation?: boolean;
    forceGlobalScale?: boolean;
    localPosition?: Vec3 | NumberArray3;
}

/**
 * Entity instances aggregate multiple forms of visualization into a single high-level object.
 * They can be created manually and added to entity collection.
 *
 * @class
 * @param {IEntityParams} [options] - Entity options:
 * @param {string} [options.name] - Name of the entity.
 * @param {any} [options.properties] - Additional properties of the entity.
 * @param {Vec3 | NumberArray3} [options.cartesian] - Cartesian position.
 * @param {LonLat | NumberArray3 | NumberArray2} [options.lonlat] - Geographic coordinates.
 * @param {number} [options.altitude] - Altitude.
 * @param {boolean} [options.visibility] - Visibility flag.
 * @param {Billboard | IBillboardParams} [options.billboard] - Billboard object or parameters.
 * @param {Label | ILabelParams} [options.label] - Label object or parameters.
 * @param {Polyline | IPolylineParams} [options.polyline] - Polyline object or parameters.
 * @param {Ray | IRayParams} [options.ray] - Ray object or parameters.
 * @param {PointCloud | IPointCloudParams} [options.pointCloud] - Point cloud object or parameters.
 * @param {Geometry | IGeometryParams} [options.geometry] - Geometry object or parameters.
 * @param {GeoObject | IGeoObjectParams} [options.geoObject] - Geo object or parameters.
 * @param {Strip | IStripParams} [options.strip] - Strip object or parameters.
 * @param {boolean} [options.independentPicking] - Independent picking flag.
 * @param {boolean} [options.relativePosition] - Parent relative position flag, otherwise position is absolute.
 * @param {number} [options.pitch] - Rotation around local X-axis in radians.
 * @param {number} [options.yaw] - Rotation around local Y-axis in radians.
 * @param {number} [options.roll] - Rotation around local Z-axis in radians.
 * @param {number | Vec3 | NumberArray3} [options.scale] - Scaling factor.
 * @param {boolean} [options.forceGlobalPosition] - Forces global position for the entity make the same position as its parent.
 * @param {boolean} [options.forceGlobalRotation] - Forces global rotation for the entity make the same rotation as its parent.
 * @param {boolean} [options.forceGlobalScale] - Forces global scale for the entity make the same scale as its parent.
 */
class Entity {

    static __counter__: number = 0;

    /**
     * Uniq identifier.
     * @public
     * @readonly
     */
    protected __id: number;

    /**
     * Entity user defined properties.
     * @public
     * @type {Object}
     */
    public properties: any;


    /**
     * Children entities.
     * @public
     * @type {Array.&lt;Entity>}
     */
    public childEntities: Entity[];

    public forceGlobalPosition: boolean;

    public forceGlobalRotation: boolean;

    public forceGlobalScale: boolean;

    /**
     * Parent entity.
     * @public
     * @type {Entity}
     */
    public parent: Entity | null;

    /**
     * Entity cartesian position.
     * @protected
     * @type {Vec3}
     */
    public _cartesian: Vec3;

    /**
     * Entity cartesian is equal root entity absolute cartesian.
     * @protected
     * @type {Vec3}
     */
    protected _rootCartesian: Vec3;

    protected _localPosition: Vec3;
    protected _absoluteLocalPosition: Vec3;

    /**
     * Geodetic entity coordinates.
     * @public
     * @type {LonLat}
     */
    public _lonLat: LonLat;

    /**
     * World Mercator entity coordinates.
     * @public
     * @type {LonLat}
     */
    public _lonLatMerc: LonLat;

    /**
     * Entity visible terrain altitude.
     * @public
     * @type {number}
     */
    public _altitude: number;

    /**
     * Visibility flag.
     * @protected
     * @type {boolean}
     */
    protected _visibility: boolean;

    /**
     * Entity collection that this entity belongs to.
     * @public
     * @type {EntityCollection}
     */
    public _entityCollection: EntityCollection | null;

    /**
     * Entity collection array store index.
     * @public
     * @type {number}
     */
    public _entityCollectionIndex: number;

    /**
     * Assigned vector layer pointer.
     * @public
     * @type {Vector}
     */
    public _layer: Vector | null;

    /**
     * Assigned vector layer entity array index.
     * @public
     * @type {number}
     */
    public _layerIndex: number;

    /**
     * Picking color.
     * @public
     * @type {Vec3}
     */
    public _pickingColor: Vec3;

    public _independentPicking: boolean;

    protected _featureConstructorArray: Record&lt;string, [any, Function]>;

    /**
     * Billboard entity.
     * @public
     * @type {Billboard | null}
     */
    public billboard: Billboard | null;

    /**
     * Text label entity.
     * @public
     * @type {Label | null}
     */
    public label: Label | null;

    /**
     * Polyline entity.
     * @public
     * @type {Polyline | null}
     */
    public polyline: Polyline | null;

    /**
     * Ray entity.
     * @public
     * @type {Ray | null}
     */
    public ray: Ray | null;

    /**
     * PointCloud entity.
     * @public
     * @type {PointCloud | null}
     */
    public pointCloud: PointCloud | null;

    /**
     * Geometry entity(available for vector layer only).
     * @public
     * @type {Geometry | null}
     */
    public geometry: Geometry | null;

    /**
     * Geo object entity
     * @public
     * @type {Geometry | null}
     */
    public geoObject: GeoObject | null;

    /**
     * Strip entity.
     * @public
     * @type {Strip | null}
     */
    public strip: Strip | null;

    public _nodePtr?: EntityCollectionNode;

    protected _relativePosition: boolean;
    protected _pitchRad: number;
    protected _yawRad: number;
    protected _rollRad: number;
    protected _scale: Vec3;
    protected _absoluteScale: Vec3;
    protected _qFrame: Quat;
    protected _qRot: Quat;
    public _absoluteQRot: Quat;

    constructor(options: IEntityParams = {}) {

        options.properties = options.properties || {};

        this.__id = Entity.__counter__++;

        this.properties = options.properties || {};

        this.properties.name = this.properties.name != undefined ? this.properties.name : "";

        this.childEntities = [];

        this.parent = null;

        this.forceGlobalPosition = options.forceGlobalPosition || false;

        this.forceGlobalRotation = options.forceGlobalRotation || false;

        this.forceGlobalScale = options.forceGlobalScale || false;

        this._cartesian = utils.createVector3(options.cartesian);

        this._rootCartesian = new Vec3();

        this._localPosition = utils.createVector3(options.localPosition);
        this._absoluteLocalPosition = new Vec3();

        this._lonLat = utils.createLonLat(options.lonlat);

        this._lonLatMerc = new LonLat();

        this._altitude = options.altitude || 0.0;

        this._visibility = options.visibility != undefined ? options.visibility : true;

        this._entityCollection = null;

        this._entityCollectionIndex = -1;

        this._layer = null;

        this._layerIndex = -1;

        this._pickingColor = new Vec3(0, 0, 0);

        this._independentPicking = options.independentPicking || false;

        this._relativePosition = options.relativePosition || false;

        this._pitchRad = options.pitch || 0;
        this._yawRad = options.yaw || 0;
        this._rollRad = options.roll || 0;

        this._scale = utils.createVector3(options.scale, new Vec3(1, 1, 1));
        this._absoluteScale = new Vec3();

        this._qFrame = Quat.IDENTITY;
        this._qRot = Quat.IDENTITY;
        this._absoluteQRot = Quat.IDENTITY;

        this._featureConstructorArray = {
            billboard: [Billboard, this.setBillboard],
            label: [Label, this.setLabel],
            polyline: [Polyline, this.setPolyline],
            pointCloud: [PointCloud, this.setPointCloud],
            geometry: [Geometry, this.setGeometry],
            geoObject: [GeoObject, this.setGeoObject],
            strip: [Strip, this.setStrip],
            ray: [Ray, this.setRay]
        };

        this.billboard = this._createOptionFeature&lt;Billboard, IBillboardParams>("billboard", options.billboard);

        this.label = this._createOptionFeature&lt;Label, ILabelParams>("label", options.label);

        this.polyline = this._createOptionFeature&lt;Polyline, IPolylineParams>("polyline", options.polyline);

        this.ray = this._createOptionFeature&lt;Ray, IRayParams>("ray", options.ray);

        this.pointCloud = this._createOptionFeature&lt;PointCloud, IPolylineParams>("pointCloud", options.pointCloud);

        this.geometry = this._createOptionFeature&lt;Geometry, IGeometryParams>("geometry", options.geometry);

        this.geoObject = this._createOptionFeature&lt;GeoObject, IGeoObjectParams>("geoObject", options.geoObject);

        this.strip = this._createOptionFeature&lt;Strip, IStripParams>("strip", options.strip);

    }

    public get isEmpty(): boolean {
        return !(this.strip
            || this.polyline
            || this.ray
            || this.geoObject
            || this.geometry
            || this.billboard
            || this.label
            || this.pointCloud);
    }

    /**
     * Returns root entity object.
     * @public
     * @return {Entity}
     */
    public get rootEntity(): Entity {
        let pn: Entity | null = this;
        while (pn) {
            if (!pn.parent) {
                return pn;
            }
            pn = pn.parent;
        }
        return this;
    }

    /**
     * Sets relative position property
     * @param isRelative
     */
    public set relativePosition(isRelative: boolean) {

        if (isRelative !== this._relativePosition) {

            let cart = this.getAbsoluteCartesian(),
                pitch = this.getAbsolutePitch(),
                yaw = this.getAbsoluteYaw(),
                roll = this.getAbsoluteRoll();

            this._relativePosition = isRelative;

            // probably need to take root this.rootEntity
            if (this.parent) {
                this._rootCartesian.copy(this.parent._rootCartesian);
            }

            if (!isRelative) {
                this.setCartesian3v(cart);
                this.setPitch(pitch);
                this.setYaw(yaw);
                this.setRoll(roll);
            } else if (this.parent) {
                this.setAbsoluteCartesian3v(cart);
                this.setAbsolutePitch(pitch);
                this.setAbsoluteYaw(yaw);
                this.setAbsoluteRoll(roll);
            }
        }
    }

    /**
     * Gets relative position property
     * @public
     * @returns{boolean}
     */
    public get relativePosition(): boolean {
        return this._relativePosition;
    }

    /**
     * Gets current entity collection container.
     * @public
     * @returns {EntityCollection | null}
     */
    public get entityCollection(): EntityCollection | null {
        return this._entityCollection;
    }

    /**
     * Gets entity uniq id
     * @public
     * @returns {number}
     */
    public get id(): number {
        return this.__id;
    }

    /**
     * Checks if the given entity is equal to the current entity.
     * @param {Entity} entity - The entity to compare.
     * @returns {boolean} True if entities are equal, otherwise false.
     */
    public isEqual(entity: Entity): boolean {
        return this.__id === entity.__id;
    }

    /**
     * Gets the layer index of the entity.
     * @returns {number} The layer index.
     */
    public get layerIndex(): number {
        return this._layerIndex;
    }

    /**
     * Gets the instance class name of the entity.
     * @returns {string} The instance name "Entity".
     */
    public get instanceName(): string {
        return "Entity";
    }

    protected _createOptionFeature&lt;T, K>(
        featureName: string,
        options?: T | K
    ): T | null {
        if (options) {
            let c = this._featureConstructorArray[featureName];
            return c[1].call(this, new c[0](options)) as T;
        }
        return null;
    }

    /**
     * Gets the collection index of the entity.
     * @returns {number} The entity collection index.
     */
    public getCollectionIndex(): number {
        return this._entityCollectionIndex;
    }

    /**
     * Adds current entity into the specified entity collection.
     * @public
     * @param {EntityCollection | Vector} collection - Specified entity collection or vector layer.
     * @param {boolean} [rightNow=false] - Entity insertion option for vector layer.
     * @returns {Entity} - This object.
     */
    public addTo(collection: EntityCollection | Vector, rightNow: boolean = false): Entity {
        collection.add(this, rightNow);
        return this;
    }

    /**
     * Removes current entity from its collection or layer.
     * @public
     */
    public remove() {
        this._layer &amp;&amp; this._layer.removeEntity(this);
        this._entityCollection &amp;&amp; this._entityCollection.removeEntity(this);
    }

    /**
     * Sets the entity visibility.
     * @public
     * @param {boolean} visibility - Entity visibility.
     */
    public setVisibility(visibility: boolean) {
        this._visibility = visibility;

        // billboards
        this.billboard &amp;&amp; this.billboard.setVisibility(visibility);

        // geoObject
        this.geoObject &amp;&amp; this.geoObject.setVisibility(visibility);

        // labels
        this.label &amp;&amp; this.label.setVisibility(visibility);

        // polyline
        this.polyline &amp;&amp; this.polyline.setVisibility(visibility);

        // ray
        this.ray &amp;&amp; this.ray.setVisibility(visibility);

        // geometry
        this.geometry &amp;&amp; this.geometry.setVisibility(visibility);

        for (let i = 0; i &lt; this.childEntities.length; i++) {
            this.childEntities[i].setVisibility(visibility);
        }
    }

    /**
     * Returns entity visibility.
     * @public
     * @returns {boolean} -
     */
    public getVisibility() {
        return this._visibility;
    }

    /**
     * Sets entity cartesian position.
     * @public
     * @param {Vec3} cartesian - Cartesian position in 3d space.
     */
    public setCartesian3v(cartesian: Vec3) {
        this.setCartesian(cartesian.x, cartesian.y, cartesian.z);
    }

    /**
     * Gets scale factor
     * @public
     * @returns {Vec3}
     */
    public getScale(): Vec3 {
        return this._scale;
    }

    /**
     * Sets XYZ axis scale for the inner object such as GeoObject
     * @public
     * @param {Vec3} scale - Scale factor
     */
    public setScale3v(scale: Vec3) {
        this._scale.copy(scale);
        this._updateAbsolutePosition();
        for (let i = 0; i &lt; this.childEntities.length; i++) {
            let chi = this.childEntities[i];
            if (chi.forceGlobalScale) {
                chi.setScale3v(this._scale);
            } else {
                chi.setScale3v(this.childEntities[i].getScale());
            }
        }
    }

    /**
     * Sets scale for the inner object such as GeoObject
     * @public
     * @param {number} val - Scale factor
     */
    public setScale(val: number) {
        this.setScale3v(new Vec3(val, val, val)); 
    }

    /**
     * Gets the absolute rotation direction of the entity.
     * @public
     * @returns {Quat} The absolute rotation quaternion.
     */
    public getAbsoluteRotation(): Quat {
        return this._absoluteQRot.clone();
    }

    /**
     * Gets the local rotation of the entity. For the root entity it is equal to the absolute rotation.
     * @public
     * @returns {Quat} The rotation quaternion.
     */
    public getRotation(): Quat {
        return this._qRot;
    }

    /**
     * Rotates the entity to look at a given point in world coordinates.
     * @public
     * @param {Vec3} cart - The target position to look at.
     */
    public setLook3v(cart: Vec3) {
        let lq = new Quat();
        let p0 = this.getAbsoluteCartesian();
        let rot;
        if (this._entityCollection) {
            let up = (this._entityCollection.renderNode as Planet).ellipsoid.getSurfaceNormal3v(p0);
            rot = lq.setLookRotation(cart.sub(p0), up).conjugate();

        } else {
            rot = lq.setLookRotation(cart.sub(p0), Vec3.UP).conjugate();
        }
        this.setAbsoluteRotation(rot);
    }

    /**
     * Rotates the entity to look at a given geographic coordinate.
     * @public
     * @param {LonLat} lonLat - The longitude and latitude to look at.
     */
    public setLookLonLat(lonLat: LonLat) {
        if (this._entityCollection) {
            let cart = (this._entityCollection.renderNode as Planet).ellipsoid.lonLatToCartesian(lonLat);
            this.setLook3v(cart);
        }
    }

    /**
     * Sets the absolute rotation of the entity.
     * @public
     * @param {Quat} rot - The new absolute rotation quaternion.
     */
    public setAbsoluteRotation(rot: Quat) {
        this._absoluteQRot.copy(rot);
        this._updatePitchYawRoll();
    }

    /**
     * Sets the local rotation of the entity.
     * @param {Quat} rot - The new rotation quaternion.
     */
    public setRotation(rot: Quat) {
        this._pitchRad = rot.getPitch();
        this._yawRad = rot.getYaw();
        this._rollRad = rot.getRoll();
        this._updateAbsolutePosition();
    }

    /**
     * Sets the pitch rotation of the entity.
     * @param {number} val - The new pitch angle in radians.
     */
    public setPitch(val: number) {
        this._pitchRad = val;
        this._updateAbsolutePosition();
    }

    /**
     * Sets the yaw rotation of the entity.
     * @param {number} val - The new yaw angle in radians.
     */
    public setYaw(val: number) {
        this._yawRad = val;
        this._updateAbsolutePosition();
    }

    /**
     * Sets the roll rotation of the entity.
     * @public
     * @param {number} val - The new roll angle in radians.
     */
    public setRoll(val: number) {
        this._rollRad = val;
        this._updateAbsolutePosition();
    }

    /**
     * Gets the pitch angle of the entity.
     * @public
     * @returns {number} The pitch angle in radians.
     */
    public getPitch(): number {
        return this._pitchRad;
    }

    /**
     * Gets the yaw angle of the entity.
     * @public
     * @returns {number} The yaw angle in radians.
     */
    public getYaw(): number {
        return this._yawRad;
    }

    /**
     * Gets the roll angle of the entity.
     * @public
     * @returns {number} The roll angle in radians.
     */
    public getRoll(): number {
        return this._rollRad;
    }

    /**
     * Sets the absolute pitch of the entity.
     * @public
     * @param {number} val - The absolute pitch angle in radians.
     */
    public setAbsolutePitch(val: number) {
        if (this._relativePosition) {
            this._absoluteQRot.setPitchYawRoll(val, this.getAbsoluteYaw(), this.getAbsoluteRoll(), this._qFrame);
            this._updatePitchYawRoll();
        } else {
            this.setPitch(val);
        }
    }

    /**
     * Sets the absolute yaw of the entity.
     * @public
     * @param {number} val - The absolute yaw angle in radians.
     */
    public setAbsoluteYaw(val: number) {
        if (this._relativePosition) {
            this._absoluteQRot.setPitchYawRoll(this.getAbsolutePitch(), val, this.getAbsoluteRoll(), this._qFrame);
            this._updatePitchYawRoll();
        } else {
            this.setYaw(val);
        }
    }

    /**
     * Sets the absolute roll of the entity.
     * @public
     * @param {number} val - The absolute roll angle in radians.
     */
    public setAbsoluteRoll(val: number) {
        if (this._relativePosition) {
            this._absoluteQRot.setPitchYawRoll(this.getAbsolutePitch(), this.getAbsoluteYaw(), val, this._qFrame);
            this._updatePitchYawRoll();
        } else {
            this.setRoll(val);
        }
    }

    /**
     * Gets the absolute pitch angle of the entity.
     * @public
     * @returns {number} The absolute pitch angle in radians.
     */
    public getAbsolutePitch(): number {
        if (this.parent &amp;&amp; this._relativePosition) {
            return this._qFrame.conjugate().inverse().mul(this._absoluteQRot).getPitch();
        }

        return this._pitchRad;
    }

    /**
     * Gets the absolute yaw angle of the entity.
     * @public
     * @returns {number} The absolute yaw angle in radians.
     */
    public getAbsoluteYaw(): number {
        if (this.parent &amp;&amp; this._relativePosition) {
            return this._qFrame.conjugate().inverse().mul(this._absoluteQRot).getYaw();
        }
        return this._yawRad;
    }

    /**
     * Gets the absolute roll angle of the entity.
     * @public
     * @returns {number} The absolute roll angle in radians.
     */
    public getAbsoluteRoll(): number {
        if (this.parent &amp;&amp; this._relativePosition) {
            return this._qFrame.conjugate().inverse().mul(this._absoluteQRot).getRoll();
        }
        return this._rollRad;
    }

    protected _getScaleByDistance(): number {
        let scd = 1;
        if (this._entityCollection) {
            let scaleByDistance = this._entityCollection.scaleByDistance;
            let lookLength = 1;
            if (this._entityCollection.renderNode &amp;&amp; this._entityCollection.renderNode.renderer) {
                lookLength = this._entityCollection.renderNode.renderer.activeCamera.eye.distance(this._rootCartesian);
            }
            //the same in the shader
            scd = scaleByDistance[2] * clamp(lookLength, scaleByDistance[0], scaleByDistance[1]) / scaleByDistance[0];
        }
        return scd;
    }

    /**
     * Sets the absolute cartesian position of the entity.
     * @public
     * @param {number} x - X coordinate.
     * @param {number} y - Y coordinate.
     * @param {number} z - Z coordinate.
     */
    public setAbsoluteCartesian(x: number, y: number, z: number) {
        this.setAbsoluteCartesian3v(new Vec3(x, y, z));
    }

    /**
     * Sets the absolute cartesian position of the entity using a Vec3.
     * @public
     * @param {Vec3} absolutCartesian - The absolute cartesian position.
     */
    public setAbsoluteCartesian3v(absolutCartesian: Vec3) {
        let pos = absolutCartesian;

        if (this.parent &amp;&amp; this._relativePosition) {
            let scd = this._getScaleByDistance();
            pos = absolutCartesian.sub(this.parent.getAbsoluteCartesian()).scale(1 / scd).divA(this.parent._absoluteScale);
            pos = this.parent._absoluteQRot.conjugate().mulVec3(pos);
        }

        this.setCartesian3v(pos);
    }

    /**
     * Returns absolute cartesian position.
     * @public
     * @returns {Vec3} -
     */
    public getAbsoluteCartesian(): Vec3 {
        if (this.parent &amp;&amp; this._relativePosition) {
            let scd = this._getScaleByDistance();
            return this._rootCartesian.add(this._absoluteLocalPosition.scaleTo(scd));
        }
        return this._cartesian.clone();
    }

    /**
     * Sets entity cartesian position.
     * @public
     * @param {number} x - 3d space X - position.
     * @param {number} y - 3d space Y - position.
     * @param {number} z - 3d space Z - position.
     */
    public setCartesian(x: number, y: number, z: number) {

        this._cartesian.set(x, y, z);

        this._updateAbsolutePosition();

        for (let i = 0; i &lt; this.childEntities.length; i++) {
            let chi = this.childEntities[i];
            if (chi._relativePosition) {
                chi.setCartesian3v(chi.getCartesian());
            } else if (chi.forceGlobalPosition) {
                chi.setCartesian(x, y, z);
            }
        }

        this._updateLonLat();

        //ec &amp;&amp; ec.events.dispatch(ec.events.entitymove, this);
    }

    protected _updatePitchYawRoll() {
        if (this.parent) {
            this._qRot = this.parent._absoluteQRot.conjugate().mul(this._absoluteQRot);

            this._pitchRad = this._qRot.getPitch();
            this._yawRad = this._qRot.getYaw();
            this._rollRad = this._qRot.getRoll();

            // this._pitch = this._pitchRad * DEGREES;
            // this._yaw = this._yawRad * DEGREES;
            // this._roll = this._rollRad * DEGREES;

            if (this.geoObject) {
                this.geoObject.setRotation(this._absoluteQRot);
            }

            for (let i = 0; i &lt; this.childEntities.length; i++) {
                this.childEntities[i]._updateAbsolutePosition();
            }
        }
    }

    public _updateAbsolutePosition() {

        let parent = this.parent;

        if (parent &amp;&amp; this._relativePosition) {
            this._scale.mulRes(parent._absoluteScale, this._absoluteScale);
            
            this._qFrame.copy(parent._qFrame);
            this._rootCartesian.copy(parent._rootCartesian);

            this._qRot.setPitchYawRoll(this._pitchRad, this._yawRad, this._rollRad);
            parent._absoluteQRot.mulRes(this._qRot, this._absoluteQRot);

            let rotCart = parent._absoluteQRot.mulVec3(this._cartesian.add(this._localPosition)).mulA(parent._absoluteScale);
            parent._absoluteLocalPosition.addRes(rotCart, this._absoluteLocalPosition);
        } else {
            this._qFrame = Quat.IDENTITY;
            if (this._entityCollection &amp;&amp; this._entityCollection.renderNode) {
                this._qFrame = this._entityCollection.renderNode.getFrameRotation(this._cartesian);
            }
            if (parent &amp;&amp; this.forceGlobalRotation) {
                this._qRot.setPitchYawRoll(parent._pitchRad, parent._yawRad, parent._rollRad, this._qFrame);
            } else {
                this._qRot.setPitchYawRoll(this._pitchRad, this._yawRad, this._rollRad, this._qFrame);
            }
            this._absoluteScale.copy(this._scale);
            this._absoluteQRot.copy(this._qRot);
            this._rootCartesian.copy(this._cartesian);
            this._absoluteLocalPosition.copy(this._localPosition);
        }

        if (this.geoObject) {
            this.geoObject.setScale3v(this._absoluteScale);
            this.geoObject.setRotation(this._absoluteQRot);
            this.geoObject.setPosition3v(this._rootCartesian);
            this.geoObject.setLocalPosition3v(this._absoluteLocalPosition);
        }

        this.billboard &amp;&amp; this.billboard.setPosition3v(this._rootCartesian);
        this.label &amp;&amp; this.label.setPosition3v(this._rootCartesian);

        for (let i = 0, len = this.childEntities.length; i &lt; len; i++) {
            this.childEntities[i]._updateAbsolutePosition();
        }

        this._updateLonLat();
    }

    /**
     * Sets entity cartesian position without event dispatching.
     * @public
     * @param {Vec3} cartesian - Cartesian position in 3d space.
     * @param {boolean} skipLonLat - skip geodetic calculation.
     */
    public _setCartesian3vSilent(cartesian: Vec3, skipLonLat: boolean = false) {

        this._cartesian.copy(cartesian);

        this._updateAbsolutePosition();

        for (let i = 0; i &lt; this.childEntities.length; i++) {
            this.childEntities[i].setCartesian(this._cartesian.x, this._cartesian.y, this._cartesian.z);
        }

        if (!skipLonLat) {
            this._updateLonLat();
        }
    }

    protected _updateLonLat() {
        let ec = this._entityCollection;

        if (ec &amp;&amp; ec.renderNode &amp;&amp; (ec.renderNode as Planet).ellipsoid) {
            //let cart = this._rootCartesian.add(this._absoluteLocalPosition);
            this._lonLat = (ec.renderNode as Planet).ellipsoid.cartesianToLonLat(this.getAbsoluteCartesian());

            if (Math.abs(this._lonLat.lat) &lt; mercator.MAX_LAT) {
                this._lonLatMerc = this._lonLat.forwardMercator();
            } else {
                this._lonLatMerc.lon = this._lonLatMerc.lat = 0;
            }
        }
    }

    /**
     * Gets entity geodetic coordinates.
     * @public
     * @returns {LonLat} -
     */
    public getLonLat(): LonLat {
        return this._lonLat.clone();
    }

    /**
     * Sets geodetic coordinates of the entity point object.
     * @public
     * @param {LonLat} lonlat - coordinates.
     */
    public setLonLat(lonlat: LonLat) {
        let l = this._lonLat;

        l.lon = lonlat.lon;
        l.lat = lonlat.lat;
        l.height = lonlat.height;

        let ec = this._entityCollection;
        if (ec &amp;&amp; ec.renderNode &amp;&amp; (ec.renderNode as Planet).ellipsoid) {
            if (Math.abs(l.lat) &lt; mercator.MAX_LAT) {
                this._lonLatMerc = l.forwardMercator();
            } else {
                //this._lonLatMerc = null;
            }

            let temp = new Vec3();
            (ec.renderNode as Planet).ellipsoid.lonLatToCartesianRes(l, temp);

            this.setAbsoluteCartesian3v(temp);
        }
    }

    /**
     * Sets geodetic coordinates of the entity point object.
     * @public
     * @param {number} lon - Longitude.
     * @param {number} lat - Latitude
     * @param {number} [height] - Height
     */
    public setLonLat2(lon: number, lat: number, height?: number) {
        let l = this._lonLat;

        l.lon = lon;
        l.lat = lat;
        l.height = height != undefined ? height : l.height;

        let ec = this._entityCollection;
        if (ec &amp;&amp; ec.renderNode &amp;&amp; (ec.renderNode as Planet).ellipsoid) {
            if (Math.abs(l.lat) &lt; mercator.MAX_LAT) {
                this._lonLatMerc = l.forwardMercator();
            } else {
                this._lonLatMerc.lon = this._lonLatMerc.lat = this._lonLatMerc.height = 0;
            }

            let temp = new Vec3();
            (ec.renderNode as Planet).ellipsoid.lonLatToCartesianRes(l, temp);

            this.setAbsoluteCartesian3v(temp);
        }
    }

    /**
     * Sets entity altitude over the planet.
     * @public
     * @param {number} altitude - Altitude.
     */
    public setAltitude(altitude: number) {
        this._altitude = altitude;
    }

    /**
     * Sets entity altitude over the planet.
     * @public
     * @return {number} Altitude.
     */
    public getAltitude(): number {
        return this._altitude;
    }

    /**
     * Returns cartesian position.
     * @public
     * @returns {Vec3} -
     */
    public getCartesian(): Vec3 {
        return this._cartesian.clone();
    }

    /**
     * Sets entity billboard.
     * @public
     * @param {Billboard} billboard - Billboard object.
     * @returns {Billboard} -
     */
    public setBillboard(billboard: Billboard): Billboard {
        if (this.billboard) {
            this.billboard.remove();
        }
        this.billboard = billboard;
        this.billboard._entity = this;
        this.billboard.setPosition3v(this._cartesian);
        this.billboard.setVisibility(this._visibility);
        this._entityCollection &amp;&amp; this._entityCollection.billboardHandler.add(billboard);
        return billboard;
    }

    /**
     * Sets entity label.
     * @public
     * @param {Label} label - Text label.
     * @returns {Label} -
     */
    public setLabel(label: Label): Label {
        if (this.label) {
            this.label.remove();
        }
        this.label = label;
        this.label._entity = this;
        this.label.setPosition3v(this._cartesian);
        this.label.setVisibility(this._visibility);
        this._entityCollection &amp;&amp; this._entityCollection.labelHandler.add(label);
        return label;
    }

    /**
     * Sets entity ray.
     * @public
     * @param {Ray} ray - Ray object.
     * @returns {Ray} -
     */
    public setRay(ray: Ray): Ray {
        if (this.ray) {
            this.ray.remove();
        }
        this.ray = ray;
        this.ray._entity = this;
        this.ray.setVisibility(this._visibility);
        this._entityCollection &amp;&amp; this._entityCollection.rayHandler.add(ray);
        return ray;
    }

    /**
     * Sets entity polyline.
     * @public
     * @param {Polyline} polyline - Polyline object.
     * @returns {Polyline} -
     */
    public setPolyline(polyline: Polyline): Polyline {
        if (this.polyline) {
            this.polyline.remove();
        }
        this.polyline = polyline;
        this.polyline._entity = this;
        this.polyline.setVisibility(this._visibility);
        this._entityCollection &amp;&amp; this._entityCollection.polylineHandler.add(polyline);
        return polyline;
    }

    /**
     * Sets entity pointCloud.
     * @public
     * @param {PointCloud} pointCloud - PointCloud object.
     * @returns {PointCloud} -
     */
    public setPointCloud(pointCloud: PointCloud): PointCloud {
        if (this.pointCloud) {
            this.pointCloud.remove();
        }
        this.pointCloud = pointCloud;
        this.pointCloud._entity = this;
        this.pointCloud.setVisibility(this._visibility);
        this._entityCollection &amp;&amp; this._entityCollection.pointCloudHandler.add(pointCloud);
        return pointCloud;
    }

    /**
     * Sets entity geometry.
     * @public
     * @param {Geometry} geometry - Geometry object.
     * @returns {Geometry} -
     */
    public setGeometry(geometry: Geometry): Geometry {
        if (this.geometry) {
            this.geometry.remove();
        }
        this.geometry = geometry;
        this.geometry._entity = this;
        this.geometry.setVisibility(this._visibility);
        let layer = this._layer;
        if (this._layer) {
            this._layer.removeEntity(this);
        }
        layer &amp;&amp; layer.add(this);
        return geometry;
    }

    /**
     * Sets entity geoObject.
     * @public
     * @param {GeoObject} geoObject - GeoObject.
     * @returns {GeoObject} -
     */
    public setGeoObject(geoObject: GeoObject): GeoObject {
        if (this.geoObject) {
            this.geoObject.remove();
        }
        this.geoObject = geoObject;
        this.geoObject._entity = this;
        this.geoObject.setPosition3v(this._cartesian);
        this.geoObject.setVisibility(this._visibility);
        this._entityCollection &amp;&amp; this._entityCollection.geoObjectHandler.add(geoObject);
        return geoObject;
    }

    /**
     * Sets entity strip.
     * @public
     * @param {Strip} strip - Strip object.
     * @returns {Strip} -
     */
    public setStrip(strip: Strip): Strip {
        if (this.strip) {
            this.strip.remove();
        }
        this.strip = strip;
        this.strip._entity = this;
        this.strip.setVisibility(this._visibility);
        this._entityCollection &amp;&amp; this._entityCollection.stripHandler.add(strip);
        return strip;
    }

    /**
     * Gets layer container
     * @public
     * @returns {Vector | null}
     */
    public get layer(): Vector | null {
        return this._layer;
    }

    public get rendererEvents(): VectorEventsType | EntityCollectionEvents | null {
        if (this._layer) {
            return this._layer.events;
        } else if (this._entityCollection) {
            return this._entityCollection.events;
        }
        return null;
    }

    /**
     * Append child entity.
     * @public
     * @param {Entity} entity - Child entity.
     */
    public appendChild(entity: Entity) {
        entity._entityCollection = this._entityCollection;
        if (!entity._independentPicking) {
            entity._pickingColor = this._pickingColor;
        }
        entity.parent = this;
        this.childEntities.push(entity);
        this._entityCollection &amp;&amp; this._entityCollection.appendChildEntity(entity);
    }

    /**
     * Appends entity items(billboard, label etc.) picking color.
     * @public
     */
    public setPickingColor() {
        let c = this._pickingColor;

        this.billboard &amp;&amp; this.billboard.setPickingColor3v(c);

        this.label &amp;&amp; this.label.setPickingColor3v(c);

        this.polyline &amp;&amp; this.polyline.setPickingColor3v(c);

        this.ray &amp;&amp; this.ray.setPickingColor3v(c);

        this.strip &amp;&amp; this.strip.setPickingColor3v(c);

        this.geoObject &amp;&amp; this.geoObject.setPickingColor3v(c);

        for (let i = 0; i &lt; this.childEntities.length; i++) {
            this.childEntities[i].setPickingColor();
        }
    }

    /**
     * Return geodetic extent.
     * @public
     * @returns {Extent} -
     */
    public getExtent(): Extent {

        let res;
        let c = this._lonLat;

        if (this.billboard || this.label) {
            res = new Extent(new LonLat(c.lon, c.lat), new LonLat(c.lon, c.lat));
        } else {
            res = new Extent(new LonLat(180.0, 90.0), new LonLat(-180.0, -90.0));
        }

        let sw = res.southWest,
            ne = res.northEast;

        if (this.polyline) {
            let e = this.polyline.getExtent();
            if (e.southWest.lon &lt; sw.lon) sw.lon = e.southWest.lon;
            if (e.southWest.lat &lt; sw.lat) sw.lat = e.southWest.lat;
            if (e.northEast.lon > ne.lon) ne.lon = e.northEast.lon;
            if (e.northEast.lat > ne.lat) ne.lat = e.northEast.lat;
        }

        if (this.geometry) {
            let e = this.geometry.getExtent();
            if (e.southWest.lon &lt; sw.lon) sw.lon = e.southWest.lon;
            if (e.southWest.lat &lt; sw.lat) sw.lat = e.southWest.lat;
            if (e.northEast.lon > ne.lon) ne.lon = e.northEast.lon;
            if (e.northEast.lat > ne.lat) ne.lat = e.northEast.lat;
        }

        for (let i = 0; i &lt; this.childEntities.length; i++) {
            let e = this.childEntities[i].getExtent();
            if (e.southWest.lon &lt; sw.lon) sw.lon = e.southWest.lon;
            if (e.southWest.lat &lt; sw.lat) sw.lat = e.southWest.lat;
            if (e.northEast.lon > ne.lon) ne.lon = e.northEast.lon;
            if (e.northEast.lat > ne.lat) ne.lat = e.northEast.lat;
        }

        return res;
    }
}

export {Entity};
</code></pre></article></section></div></div></div><div class="search-container" id="PkfLWpAbet" style="display:none"><div class="wrapper" id="iCxFxjkHbP"><button class="icon-button search-close-button" id="VjLlGakifb" aria-label="close search"><svg><use xlink:href="#close-icon"></use></svg></button><div class="search-box-c"><svg><use xlink:href="#search-icon"></use></svg> <input type="text" id="vpcKVYIppa" class="search-input" placeholder="Search..." autofocus></div><div class="search-result-c" id="fWwVHRuDuN"><span class="search-result-c-text">Type anything to view search result</span></div></div></div><div class="mobile-menu-icon-container"><button class="icon-button" id="mobile-menu" data-isopen="false" aria-label="menu"><svg><use xlink:href="#menu-icon"></use></svg></button></div><div id="mobile-sidebar" class="mobile-sidebar-container"><div class="mobile-sidebar-wrapper"><a href="/" class="sidebar-title sidebar-title-anchor">OpenGlobus</a><div class="mobile-nav-links"></div><div class="mobile-sidebar-items-c"><div class="sidebar-section-title with-arrow" data-isopen="false" id="sidebar-modules"><div>Modules</div><svg><use xlink:href="#down-icon"></use></svg></div><div class="sidebar-section-children-container"><div class="sidebar-section-children"><a href="module-og_math_coder.html">og/math/coder</a></div><div class="sidebar-section-children"><a href="module-og_proj_EPSG3857.html">og/proj/EPSG3857</a></div><div class="sidebar-section-children"><a href="module-og_proj_EPSG4326.html">og/proj/EPSG4326</a></div><div class="sidebar-section-children"><a href="module-og_proj_equi.html">og/proj/equi</a></div><div class="sidebar-section-children"><a href="module-og_segment_SegmentHelper.html">og/segment/SegmentHelper</a></div><div class="sidebar-section-children"><a href="module-og_utils_earcut.html">og/utils/earcut</a></div><div class="sidebar-section-children"><a href="module-og_utils_shared.html">og/utils/shared</a></div><div class="sidebar-section-children"><a href="module-og_webgl_types.html">og/webgl/types</a></div><div class="sidebar-section-children"><a href="module-og_webgl_variableHandlers.html">og/webgl/variableHandlers</a></div></div><div class="sidebar-section-title with-arrow" data-isopen="false" id="sidebar-classes"><div>Classes</div><svg><use xlink:href="#down-icon"></use></svg></div><div class="sidebar-section-children-container"><div class="sidebar-section-children"><a href="AtmosphereConfig.html">AtmosphereConfig</a></div><div class="sidebar-section-children"><a href="BaseBillboard.html">BaseBillboard</a></div><div class="sidebar-section-children"><a href="BaseBillboardHandler.html">BaseBillboardHandler</a></div><div class="sidebar-section-children"><a href="BaseGeoImage.html">BaseGeoImage</a></div><div class="sidebar-section-children"><a href="BaseNode.html">BaseNode</a></div><div class="sidebar-section-children"><a href="Billboard.html">Billboard</a></div><div class="sidebar-section-children"><a href="BillboardHandler.html">BillboardHandler</a></div><div class="sidebar-section-children"><a href="Box.html">Box</a></div><div class="sidebar-section-children"><a href="Camera.html">Camera</a></div><div class="sidebar-section-children"><a href="CanvasTiles.html">CanvasTiles</a></div><div class="sidebar-section-children"><a href="Clock.html">Clock</a></div><div class="sidebar-section-children"><a href="CompassButton.html">CompassButton</a></div><div class="sidebar-section-children"><a href="Cons.html">Cons</a></div><div class="sidebar-section-children"><a href="Control.html">Control</a></div><div class="sidebar-section-children"><a href="DrawingSwitcher.html">DrawingSwitcher</a></div><div class="sidebar-section-children"><a href="EarthCoordinates.html">EarthCoordinates</a></div><div class="sidebar-section-children"><a href="ElevationProfile.html">ElevationProfile</a></div><div class="sidebar-section-children"><a href="Ellipsoid.html">Ellipsoid</a></div><div class="sidebar-section-children"><a href="EmptyTerrain.html">EmptyTerrain</a></div><div class="sidebar-section-children"><a href="Entity.html">Entity</a></div><div class="sidebar-section-children"><a href="EntityCollection.html">EntityCollection</a></div><div class="sidebar-section-children"><a href="EntityCollectionNode.html">EntityCollectionNode</a></div><div class="sidebar-section-children"><a href="Events.html">Events</a></div><div class="sidebar-section-children"><a href="Extent.html">Extent</a></div><div class="sidebar-section-children"><a href="Framebuffer.html">Framebuffer</a></div><div class="sidebar-section-children"><a href="Frustum.html">Frustum</a></div><div class="sidebar-section-children"><a href="GeoImage.html">GeoImage</a></div><div class="sidebar-section-children"><a href="GeoObject.html">GeoObject</a></div><div class="sidebar-section-children"><a href="GeoVideo.html">GeoVideo</a></div><div class="sidebar-section-children"><a href="Globe.html">Globe</a></div><div class="sidebar-section-children"><a href="GlobusTerrain.html">GlobusTerrain</a></div><div class="sidebar-section-children"><a href="Handler.html">Handler</a></div><div class="sidebar-section-children"><a href="ImageCanvas.html">ImageCanvas</a></div><div class="sidebar-section-children"><a href="KML.html">KML</a></div><div class="sidebar-section-children"><a href="KeyboardNavigation.html">KeyboardNavigation</a></div><div class="sidebar-section-children"><a href="Label.html">Label</a></div><div class="sidebar-section-children"><a href="Layer.html">Layer</a></div><div class="sidebar-section-children"><a href="LayerSwitcher.html">LayerSwitcher</a></div><div class="sidebar-section-children"><a href="Lighting.html">Lighting</a></div><div class="sidebar-section-children"><a href="Line3.html">Line3</a></div><div class="sidebar-section-children"><a href="LonLat.html">LonLat</a></div><div class="sidebar-section-children"><a href="global.html#Mat3">Mat3</a></div><div class="sidebar-section-children"><a href="global.html#Mat4">Mat4</a></div><div class="sidebar-section-children"><a href="Material.html">Material</a></div><div class="sidebar-section-children"><a href="MouseNavigation.html">MouseNavigation</a></div><div class="sidebar-section-children"><a href="Multisample.html">Multisample</a></div><div class="sidebar-section-children"><a href="Node.html">Node</a></div><div class="sidebar-section-children"><a href="OldMouseNavigation.html">OldMouseNavigation</a></div><div class="sidebar-section-children"><a href="Plane.html">Plane</a></div><div class="sidebar-section-children"><a href="Planet.html">Planet</a></div><div class="sidebar-section-children"><a href="PlanetCamera.html">PlanetCamera</a></div><div class="sidebar-section-children"><a href="PointCloud.html">PointCloud</a></div><div class="sidebar-section-children"><a href="Polyline.html">Polyline</a></div><div class="sidebar-section-children"><a href="Program.html">Program</a></div><div class="sidebar-section-children"><a href="ProgramController.html">ProgramController</a></div><div class="sidebar-section-children"><a href="global.html#Quat">Quat</a></div><div class="sidebar-section-children"><a href="Ray.html">Ray</a></div><div class="sidebar-section-children"><a href="Ray.html">Ray</a></div><div class="sidebar-section-children"><a href="Rectangle.html">Rectangle</a></div><div class="sidebar-section-children"><a href="RenderNode.html">RenderNode</a></div><div class="sidebar-section-children"><a href="Renderer.html">Renderer</a></div><div class="sidebar-section-children"><a href="RendererEvents.html">RendererEvents</a></div><div class="sidebar-section-children"><a href="RgbTerrain.html">RgbTerrain</a></div><div class="sidebar-section-children"><a href="RulerSwitcher.html">RulerSwitcher</a></div><div class="sidebar-section-children"><a href="ScaleControl.html">ScaleControl</a></div><div class="sidebar-section-children"><a href="Segment.html">Segment</a></div><div class="sidebar-section-children"><a href="Segment.html">Segment</a></div><div class="sidebar-section-children"><a href="SegmentBoundVisualization.html">SegmentBoundVisualization</a></div><div class="sidebar-section-children"><a href="SegmentLonLat.html">SegmentLonLat</a></div><div class="sidebar-section-children"><a href="Selection.html">Selection</a></div><div class="sidebar-section-children"><a href="ShowFps.html">ShowFps</a></div><div class="sidebar-section-children"><a href="SimpleNavigation.html">SimpleNavigation</a></div><div class="sidebar-section-children"><a href="Sphere.html">Sphere</a></div><div class="sidebar-section-children">Stack.&lt;<a href="global.html#T">T</a>></div><div class="sidebar-section-children"><a href="Strip.html">Strip</a></div><div class="sidebar-section-children"><a href="Sun.html">Sun</a></div><div class="sidebar-section-children"><a href="TextureAtlas.html">TextureAtlas</a></div><div class="sidebar-section-children"><a href="TextureAtlas.html">TextureAtlas</a></div><div class="sidebar-section-children"><a href="ToggleWireframe.html">ToggleWireframe</a></div><div class="sidebar-section-children"><a href="TouchNavigation.html">TouchNavigation</a></div><div class="sidebar-section-children"><a href="global.html#Vec2">Vec2</a></div><div class="sidebar-section-children"><a href="global.html#Vec3">Vec3</a></div><div class="sidebar-section-children"><a href="global.html#Vec4">Vec4</a></div><div class="sidebar-section-children"><a href="Vector.html">Vector</a></div><div class="sidebar-section-children"><a href="WMS.html">WMS</a></div><div class="sidebar-section-children"><a href="XYZ.html">XYZ</a></div><div class="sidebar-section-children"><a href="ZoomControl.html">ZoomControl</a></div></div><div class="sidebar-section-title with-arrow" data-isopen="false" id="sidebar-events"><div>Events</div><svg><use xlink:href="#down-icon"></use></svg></div><div class="sidebar-section-children-container"><div class="sidebar-section-children"><a href="EntityCollection.html#event:add">add</a></div><div class="sidebar-section-children"><a href="EntityCollection.html#event:doubletouch">doubletouch</a></div><div class="sidebar-section-children"><a href="EntityCollection.html#event:draw">draw</a></div><div class="sidebar-section-children"><a href="EntityCollection.html#event:drawend">drawend</a></div><div class="sidebar-section-children"><a href="EntityCollection.html#event:entityadd">entityadd</a></div><div class="sidebar-section-children"><a href="EntityCollection.html#event:entityremove">entityremove</a></div><div class="sidebar-section-children"><a href="EntityCollection.html#event:lclick">lclick</a></div><div class="sidebar-section-children"><a href="EntityCollection.html#event:ldblclick">ldblclick</a></div><div class="sidebar-section-children"><a href="EntityCollection.html#event:ldown">ldown</a></div><div class="sidebar-section-children"><a href="EntityCollection.html#event:lhold">lhold</a></div><div class="sidebar-section-children"><a href="EntityCollection.html#event:lup">lup</a></div><div class="sidebar-section-children"><a href="EntityCollection.html#event:mclick">mclick</a></div><div class="sidebar-section-children"><a href="EntityCollection.html#event:mdblclick">mdblclick</a></div><div class="sidebar-section-children"><a href="EntityCollection.html#event:mdown">mdown</a></div><div class="sidebar-section-children"><a href="EntityCollection.html#event:mhold">mhold</a></div><div class="sidebar-section-children"><a href="EntityCollection.html#event:mouseenter">mouseenter</a></div><div class="sidebar-section-children"><a href="EntityCollection.html#event:mouseleave">mouseleave</a></div><div class="sidebar-section-children"><a href="EntityCollection.html#event:mousemove">mousemove</a></div><div class="sidebar-section-children"><a href="EntityCollection.html#event:mousewheel">mousewheel</a></div><div class="sidebar-section-children"><a href="EntityCollection.html#event:mup">mup</a></div><div class="sidebar-section-children"><a href="EntityCollection.html#event:rclick">rclick</a></div><div class="sidebar-section-children"><a href="EntityCollection.html#event:rdblclick">rdblclick</a></div><div class="sidebar-section-children"><a href="EntityCollection.html#event:rdown">rdown</a></div><div class="sidebar-section-children"><a href="EntityCollection.html#event:remove">remove</a></div><div class="sidebar-section-children"><a href="EntityCollection.html#event:rhold">rhold</a></div><div class="sidebar-section-children"><a href="EntityCollection.html#event:rup">rup</a></div><div class="sidebar-section-children"><a href="EntityCollection.html#event:touchend">touchend</a></div><div class="sidebar-section-children"><a href="EntityCollection.html#event:touchenter">touchenter</a></div><div class="sidebar-section-children"><a href="EntityCollection.html#event:touchleave">touchleave</a></div><div class="sidebar-section-children"><a href="EntityCollection.html#event:touchmove">touchmove</a></div><div class="sidebar-section-children"><a href="EntityCollection.html#event:touchstart">touchstart</a></div><div class="sidebar-section-children"><a href="EntityCollection.html#event:visibilitychange">visibilitychange</a></div><div class="sidebar-section-children"><a href="EventsHandler_BaseGeoImageEventsList_.html#event:loadend">loadend</a></div><div class="sidebar-section-children"><a href="EventsHandler_VectorEventsList_.html#event:draw">draw</a></div><div class="sidebar-section-children"><a href="EventsHandler_VectorEventsList_.html#event:entityadd">entityadd</a></div><div class="sidebar-section-children"><a href="EventsHandler_VectorEventsList_.html#event:entityremove">entityremove</a></div><div class="sidebar-section-children"><a href="global.html#event:#load">#load</a></div><div class="sidebar-section-children"><a href="global.html#event:#loadend">#loadend</a></div><div class="sidebar-section-children"><a href="og.Camera.html#event:moveend">moveend</a></div><div class="sidebar-section-children"><a href="og.Camera.html#event:viewchange">viewchange</a></div><div class="sidebar-section-children"><a href="og.Layer.html#event:add">add</a></div><div class="sidebar-section-children"><a href="og.Layer.html#event:doubletouch">doubletouch</a></div><div class="sidebar-section-children"><a href="og.Layer.html#event:lclick">lclick</a></div><div class="sidebar-section-children"><a href="og.Layer.html#event:ldblclick">ldblclick</a></div><div class="sidebar-section-children"><a href="og.Layer.html#event:ldown">ldown</a></div><div class="sidebar-section-children"><a href="og.Layer.html#event:lhold">lhold</a></div><div class="sidebar-section-children"><a href="og.Layer.html#event:lup">lup</a></div><div class="sidebar-section-children"><a href="og.Layer.html#event:mclick">mclick</a></div><div class="sidebar-section-children"><a href="og.Layer.html#event:mdblclick">mdblclick</a></div><div class="sidebar-section-children"><a href="og.Layer.html#event:mdown">mdown</a></div><div class="sidebar-section-children"><a href="og.Layer.html#event:mhold">mhold</a></div><div class="sidebar-section-children"><a href="og.Layer.html#event:mouseenter">mouseenter</a></div><div class="sidebar-section-children"><a href="og.Layer.html#event:mouseenter">mouseenter</a></div><div class="sidebar-section-children"><a href="og.Layer.html#event:mousemove">mousemove</a></div><div class="sidebar-section-children"><a href="og.Layer.html#event:mousewheel">mousewheel</a></div><div class="sidebar-section-children"><a href="og.Layer.html#event:mup">mup</a></div><div class="sidebar-section-children"><a href="og.Layer.html#event:rclick">rclick</a></div><div class="sidebar-section-children"><a href="og.Layer.html#event:rdblclick">rdblclick</a></div><div class="sidebar-section-children"><a href="og.Layer.html#event:rdown">rdown</a></div><div class="sidebar-section-children"><a href="og.Layer.html#event:remove">remove</a></div><div class="sidebar-section-children"><a href="og.Layer.html#event:rhold">rhold</a></div><div class="sidebar-section-children"><a href="og.Layer.html#event:rup">rup</a></div><div class="sidebar-section-children"><a href="og.Layer.html#event:touchend">touchend</a></div><div class="sidebar-section-children"><a href="og.Layer.html#event:touchenter">touchenter</a></div><div class="sidebar-section-children"><a href="og.Layer.html#event:touchleave">touchleave</a></div><div class="sidebar-section-children"><a href="og.Layer.html#event:touchmove">touchmove</a></div><div class="sidebar-section-children"><a href="og.Layer.html#event:touchstart">touchstart</a></div><div class="sidebar-section-children"><a href="og.Layer.html#event:visibilitychange">visibilitychange</a></div><div class="sidebar-section-children"><a href="og.MouseNavigation.html#event:drag">drag</a></div><div class="sidebar-section-children"><a href="og.MouseNavigation.html#event:rotate">rotate</a></div><div class="sidebar-section-children"><a href="og.MouseNavigation.html#event:zoom">zoom</a></div><div class="sidebar-section-children"><a href="og.PlanetCamera.html#event:flyend">flyend</a></div><div class="sidebar-section-children"><a href="og.PlanetCamera.html#event:flystart">flystart</a></div><div class="sidebar-section-children"><a href="og.PlanetCamera.html#event:flystop">flystop</a></div><div class="sidebar-section-children"><a href="og.RendererEvents.html#event:doubletouch">doubletouch</a></div><div class="sidebar-section-children"><a href="og.RendererEvents.html#event:draw">draw</a></div><div class="sidebar-section-children"><a href="og.RendererEvents.html#event:drawtransparent">drawtransparent</a></div><div class="sidebar-section-children"><a href="og.RendererEvents.html#event:lclick">lclick</a></div><div class="sidebar-section-children"><a href="og.RendererEvents.html#event:ldblclick">ldblclick</a></div><div class="sidebar-section-children"><a href="og.RendererEvents.html#event:ldown">ldown</a></div><div class="sidebar-section-children"><a href="og.RendererEvents.html#event:lhold">lhold</a></div><div class="sidebar-section-children"><a href="og.RendererEvents.html#event:lup">lup</a></div><div class="sidebar-section-children"><a href="og.RendererEvents.html#event:mclick">mclick</a></div><div class="sidebar-section-children"><a href="og.RendererEvents.html#event:mdblclick">mdblclick</a></div><div class="sidebar-section-children"><a href="og.RendererEvents.html#event:mdown">mdown</a></div><div class="sidebar-section-children"><a href="og.RendererEvents.html#event:mhold">mhold</a></div><div class="sidebar-section-children"><a href="og.RendererEvents.html#event:mouseenter">mouseenter</a></div><div class="sidebar-section-children"><a href="og.RendererEvents.html#event:mouseleave">mouseleave</a></div><div class="sidebar-section-children"><a href="og.RendererEvents.html#event:mousemove">mousemove</a></div><div class="sidebar-section-children"><a href="og.RendererEvents.html#event:mousestop">mousestop</a></div><div class="sidebar-section-children"><a href="og.RendererEvents.html#event:mousewheel">mousewheel</a></div><div class="sidebar-section-children"><a href="og.RendererEvents.html#event:mup">mup</a></div><div class="sidebar-section-children"><a href="og.RendererEvents.html#event:postdraw">postdraw</a></div><div class="sidebar-section-children"><a href="og.RendererEvents.html#event:rclick">rclick</a></div><div class="sidebar-section-children"><a href="og.RendererEvents.html#event:rdblclick">rdblclick</a></div><div class="sidebar-section-children"><a href="og.RendererEvents.html#event:rdown">rdown</a></div><div class="sidebar-section-children"><a href="og.RendererEvents.html#event:resize">resize</a></div><div class="sidebar-section-children"><a href="og.RendererEvents.html#event:resizeend">resizeend</a></div><div class="sidebar-section-children"><a href="og.RendererEvents.html#event:rhold">rhold</a></div><div class="sidebar-section-children"><a href="og.RendererEvents.html#event:rup">rup</a></div><div class="sidebar-section-children"><a href="og.RendererEvents.html#event:touchcancel">touchcancel</a></div><div class="sidebar-section-children"><a href="og.RendererEvents.html#event:touchend">touchend</a></div><div class="sidebar-section-children"><a href="og.RendererEvents.html#event:touchenter">touchenter</a></div><div class="sidebar-section-children"><a href="og.RendererEvents.html#event:touchleave">touchleave</a></div><div class="sidebar-section-children"><a href="og.RendererEvents.html#event:touchmove">touchmove</a></div><div class="sidebar-section-children"><a href="og.RendererEvents.html#event:touchstart">touchstart</a></div><div class="sidebar-section-children"><a href="og.TouchNavigation.html#event:doubletapzoom">doubletapzoom</a></div><div class="sidebar-section-children"><a href="og.TouchNavigation.html#event:drag">drag</a></div><div class="sidebar-section-children"><a href="og.TouchNavigation.html#event:rotate">rotate</a></div><div class="sidebar-section-children"><a href="og.layer.CanvasTiles.html#event:load">load</a></div><div class="sidebar-section-children"><a href="og.layer.CanvasTiles.html#event:loadend">loadend</a></div><div class="sidebar-section-children"><a href="og.scene.Planet.html#event:baselayerchange">baselayerchange</a></div><div class="sidebar-section-children"><a href="og.scene.Planet.html#event:draw">draw</a></div><div class="sidebar-section-children"><a href="og.scene.Planet.html#event:layeradd">layeradd</a></div><div class="sidebar-section-children"><a href="og.scene.Planet.html#event:layerremove">layerremove</a></div><div class="sidebar-section-children"><a href="og.scene.Planet.html#event:layervisibilitychange">layervisibilitychange</a></div><div class="sidebar-section-children"><a href="og.scene.Planet.html#event:rendercompleted">rendercompleted</a></div><div class="sidebar-section-children"><a href="og.scene.Planet.html#event:terraincompleted">terraincompleted</a></div><div class="sidebar-section-children"><a href="og.scene.Planet.html#event:terraincompleted">terraincompleted</a></div><div class="sidebar-section-children"><a href="og.terrain.GlobusTerrain.html#event:load">load</a></div><div class="sidebar-section-children"><a href="og.terrain.GlobusTerrain.html#event:loadend">loadend</a></div></div><div class="sidebar-section-title with-arrow" data-isopen="false" id="sidebar-global"><div>Global</div><svg><use xlink:href="#down-icon"></use></svg></div><div class="sidebar-section-children-container"><div class="sidebar-section-children"><a href="global.html#ARCSECONDS_TO_RADIANS">ARCSECONDS_TO_RADIANS</a></div><div class="sidebar-section-children"><a href="global.html#AU_TO_METERS">AU_TO_METERS</a></div><div class="sidebar-section-children"><a href="global.html#COMSIDE">COMSIDE</a></div><div class="sidebar-section-children"><a href="global.html#DAYS_PER_JULIAN_CENTURY">DAYS_PER_JULIAN_CENTURY</a></div><div class="sidebar-section-children"><a href="global.html#DAYS_PER_JULIAN_YEAR">DAYS_PER_JULIAN_YEAR</a></div><div class="sidebar-section-children"><a href="global.html#DEFAULT_MAX_NODES">DEFAULT_MAX_NODES</a></div><div class="sidebar-section-children"><a href="global.html#DEG2RAD">DEG2RAD</a></div><div class="sidebar-section-children"><a href="global.html#DEGREES">DEGREES</a></div><div class="sidebar-section-children"><a href="global.html#DEGREES_DOUBLE">DEGREES_DOUBLE</a></div><div class="sidebar-section-children"><a href="global.html#DEGREES_TO_HOURS">DEGREES_TO_HOURS</a></div><div class="sidebar-section-children"><a href="global.html#DateToTAI">DateToTAI</a></div><div class="sidebar-section-children"><a href="global.html#DateToUTC">DateToUTC</a></div><div class="sidebar-section-children"><a href="global.html#EARTH_GRAVITATIONAL_PARAMETER">EARTH_GRAVITATIONAL_PARAMETER</a></div><div class="sidebar-section-children"><a href="global.html#ExtentBoundingBox">ExtentBoundingBox</a></div><div class="sidebar-section-children"><a href="global.html#HOURS_PER_DAY">HOURS_PER_DAY</a></div><div class="sidebar-section-children"><a href="global.html#HOURS_TO_DEGREES">HOURS_TO_DEGREES</a></div><div class="sidebar-section-children"><a href="global.html#HOURS_TO_RADIANS">HOURS_TO_RADIANS</a></div><div class="sidebar-section-children"><a href="global.html#HandlerEventType">HandlerEventType</a></div><div class="sidebar-section-children"><a href="global.html#IEntityParams">IEntityParams</a></div><div class="sidebar-section-children"><a href="global.html#IGeoObjectParams">IGeoObjectParams</a></div><div class="sidebar-section-children"><a href="global.html#J2000">J2000</a></div><div class="sidebar-section-children"><a href="global.html#J2000_OBLIQUITY">J2000_OBLIQUITY</a></div><div class="sidebar-section-children"><a href="global.html#LOG2">LOG2</a></div><div class="sidebar-section-children"><a href="global.html#MAX">MAX</a></div><div class="sidebar-section-children"><a href="global.html#MAX32">MAX32</a></div><div class="sidebar-section-children"><a href="global.html#MAX_LAT">MAX_LAT</a></div><div class="sidebar-section-children"><a href="global.html#METERS_PER_UNIT">METERS_PER_UNIT</a></div><div class="sidebar-section-children"><a href="global.html#MILLISECONDS_PER_DAY">MILLISECONDS_PER_DAY</a></div><div class="sidebar-section-children"><a href="global.html#MILLISECONDS_PER_SECOND">MILLISECONDS_PER_SECOND</a></div><div class="sidebar-section-children"><a href="global.html#MIN">MIN</a></div><div class="sidebar-section-children"><a href="global.html#MINUTES_PER_DAY">MINUTES_PER_DAY</a></div><div class="sidebar-section-children"><a href="global.html#MINUTES_PER_HOUR">MINUTES_PER_HOUR</a></div><div class="sidebar-section-children"><a href="global.html#MIN_LAT">MIN_LAT</a></div><div class="sidebar-section-children"><a href="global.html#MODIFIED_JULIAN_DATE_DIFFERENCE">MODIFIED_JULIAN_DATE_DIFFERENCE</a></div><div class="sidebar-section-children"><a href="global.html#Mat3">Mat3</a></div><div class="sidebar-section-children"><a href="global.html#Mat4">Mat4</a></div><div class="sidebar-section-children"><a href="global.html#NEIGHBOUR">NEIGHBOUR</a></div><div class="sidebar-section-children"><a href="global.html#NOPSORD">NOPSORD</a></div><div class="sidebar-section-children"><a href="global.html#ONE_BY_HOURS_PER_DAY">ONE_BY_HOURS_PER_DAY</a></div><div class="sidebar-section-children"><a href="global.html#ONE_BY_MILLISECONDS_PER_DAY">ONE_BY_MILLISECONDS_PER_DAY</a></div><div class="sidebar-section-children"><a href="global.html#ONE_BY_MINUTES_PER_DAY">ONE_BY_MINUTES_PER_DAY</a></div><div class="sidebar-section-children"><a href="global.html#ONE_BY_POLE_DOUBLE">ONE_BY_POLE_DOUBLE</a></div><div class="sidebar-section-children"><a href="global.html#ONE_BY_SECONDS_PER_DAY">ONE_BY_SECONDS_PER_DAY</a></div><div class="sidebar-section-children"><a href="global.html#ONE_BY_SECONDS_PER_HOUR">ONE_BY_SECONDS_PER_HOUR</a></div><div class="sidebar-section-children"><a href="global.html#ONE_BY_SECONDS_PER_MINUTE">ONE_BY_SECONDS_PER_MINUTE</a></div><div class="sidebar-section-children"><a href="global.html#OPPART">OPPART</a></div><div class="sidebar-section-children"><a href="global.html#OPSIDE">OPSIDE</a></div><div class="sidebar-section-children"><a href="global.html#PARTOFFSET">PARTOFFSET</a></div><div class="sidebar-section-children"><a href="global.html#PICOSECOND">PICOSECOND</a></div><div class="sidebar-section-children"><a href="global.html#PI_TWO">PI_TWO</a></div><div class="sidebar-section-children"><a href="global.html#PLANET_NAME_PREFIX">PLANET_NAME_PREFIX</a></div><div class="sidebar-section-children"><a href="global.html#POLE">POLE</a></div><div class="sidebar-section-children"><a href="global.html#POLE_DOUBLE">POLE_DOUBLE</a></div><div class="sidebar-section-children"><a href="global.html#Quat">Quat</a></div><div class="sidebar-section-children"><a href="global.html#QuatAxisAngle">QuatAxisAngle</a></div><div class="sidebar-section-children"><a href="global.html#RAD2DEG">RAD2DEG</a></div><div class="sidebar-section-children"><a href="global.html#RADIANS">RADIANS</a></div><div class="sidebar-section-children"><a href="global.html#RADIANS_HALF">RADIANS_HALF</a></div><div class="sidebar-section-children"><a href="global.html#RADIANS_TO_HOURS">RADIANS_TO_HOURS</a></div><div class="sidebar-section-children"><a href="global.html#SAFE">SAFE</a></div><div class="sidebar-section-children"><a href="global.html#SECONDS_PER_12_HOURS">SECONDS_PER_12_HOURS</a></div><div class="sidebar-section-children"><a href="global.html#SECONDS_PER_DAY">SECONDS_PER_DAY</a></div><div class="sidebar-section-children"><a href="global.html#SECONDS_PER_HOUR">SECONDS_PER_HOUR</a></div><div class="sidebar-section-children"><a href="global.html#SECONDS_PER_MILLISECOND">SECONDS_PER_MILLISECOND</a></div><div class="sidebar-section-children"><a href="global.html#SECONDS_PER_MINUTE">SECONDS_PER_MINUTE</a></div><div class="sidebar-section-children"><a href="global.html#SQRT_HALF">SQRT_HALF</a></div><div class="sidebar-section-children"><a href="global.html#STR2ALIGN">STR2ALIGN</a></div><div class="sidebar-section-children"><a href="global.html#SUN_GRAVITATIONAL_PARAMETER">SUN_GRAVITATIONAL_PARAMETER</a></div><div class="sidebar-section-children"><a href="global.html#T">T</a></div><div class="sidebar-section-children"><a href="global.html#TAItoDate">TAItoDate</a></div><div class="sidebar-section-children"><a href="global.html#TAItoTDB">TAItoTDB</a></div><div class="sidebar-section-children"><a href="global.html#TAItoUTC">TAItoUTC</a></div><div class="sidebar-section-children"><a href="global.html#TDT_TAI">TDT_TAI</a></div><div class="sidebar-section-children"><a href="global.html#TRACK">TRACK</a></div><div class="sidebar-section-children"><a href="global.html#TWO_PI">TWO_PI</a></div><div class="sidebar-section-children"><a href="global.html#UTCtoDate">UTCtoDate</a></div><div class="sidebar-section-children"><a href="global.html#UTCtoTAI">UTCtoTAI</a></div><div class="sidebar-section-children"><a href="global.html#Units">Units</a></div><div class="sidebar-section-children"><a href="global.html#Vec2">Vec2</a></div><div class="sidebar-section-children"><a href="global.html#Vec3">Vec3</a></div><div class="sidebar-section-children"><a href="global.html#Vec4">Vec4</a></div><div class="sidebar-section-children"><a href="global.html#_currPickingColor">_currPickingColor</a></div><div class="sidebar-section-children"><a href="global.html#_entitiesConstructor">_entitiesConstructor</a></div><div class="sidebar-section-children"><a href="global.html#_prevPickingColor">_prevPickingColor</a></div><div class="sidebar-section-children"><a href="global.html#addDays">addDays</a></div><div class="sidebar-section-children"><a href="global.html#addHours">addHours</a></div><div class="sidebar-section-children"><a href="global.html#addMilliseconds">addMilliseconds</a></div><div class="sidebar-section-children"><a href="global.html#addMinutes">addMinutes</a></div><div class="sidebar-section-children"><a href="global.html#addSeconds">addSeconds</a></div><div class="sidebar-section-children"><a href="global.html#bezier3v">bezier3v</a></div><div class="sidebar-section-children"><a href="global.html#clamp">clamp</a></div><div class="sidebar-section-children"><a href="global.html#daysToSeconds">daysToSeconds</a></div><div class="sidebar-section-children"><a href="global.html#degToDec">degToDec</a></div><div class="sidebar-section-children"><a href="global.html#equationCallback">equationCallback</a></div><div class="sidebar-section-children"><a href="global.html#exp2">exp2</a></div><div class="sidebar-section-children"><a href="global.html#forwardArray">forwardArray</a></div><div class="sidebar-section-children"><a href="global.html#forward_lat">forward_lat</a></div><div class="sidebar-section-children"><a href="global.html#forward_lon">forward_lon</a></div><div class="sidebar-section-children"><a href="global.html#frac">frac</a></div><div class="sidebar-section-children"><a href="global.html#getAngleBetweenAzimuths">getAngleBetweenAzimuths</a></div><div class="sidebar-section-children"><a href="global.html#getAngleDirection">getAngleDirection</a></div><div class="sidebar-section-children"><a href="global.html#getDayNumber">getDayNumber</a></div><div class="sidebar-section-children"><a href="global.html#getDays">getDays</a></div><div class="sidebar-section-children"><a href="global.html#getHours">getHours</a></div><div class="sidebar-section-children"><a href="global.html#getMilliseconds">getMilliseconds</a></div><div class="sidebar-section-children"><a href="global.html#getMinutes">getMinutes</a></div><div class="sidebar-section-children"><a href="global.html#getSeconds">getSeconds</a></div><div class="sidebar-section-children"><a href="global.html#getSunPosition">getSunPosition</a></div><div class="sidebar-section-children"><a href="global.html#getTileX">getTileX</a></div><div class="sidebar-section-children"><a href="global.html#getTileY">getTileY</a></div><div class="sidebar-section-children"><a href="global.html#inverse_lat">inverse_lat</a></div><div class="sidebar-section-children"><a href="global.html#inverse_lon">inverse_lon</a></div><div class="sidebar-section-children"><a href="global.html#isPowerOfTwo">isPowerOfTwo</a></div><div class="sidebar-section-children"><a href="global.html#lerp">lerp</a></div><div class="sidebar-section-children"><a href="global.html#log">log</a></div><div class="sidebar-section-children"><a href="global.html#log2">log2</a></div><div class="sidebar-section-children"><a href="global.html#mars">mars</a></div><div class="sidebar-section-children"><a href="global.html#mod">mod</a></div><div class="sidebar-section-children"><a href="global.html#moon">moon</a></div><div class="sidebar-section-children"><a href="global.html#negativePItoPI">negativePItoPI</a></div><div class="sidebar-section-children"><a href="global.html#nextHighestPowerOfTwo">nextHighestPowerOfTwo</a></div><div class="sidebar-section-children"><a href="global.html#norm_lon">norm_lon</a></div><div class="sidebar-section-children"><a href="global.html#pow2i">pow2i</a></div><div class="sidebar-section-children"><a href="global.html#random">random</a></div><div class="sidebar-section-children"><a href="global.html#randomi">randomi</a></div><div class="sidebar-section-children"><a href="global.html#rev">rev</a></div><div class="sidebar-section-children"><a href="global.html#secondsToDays">secondsToDays</a></div><div class="sidebar-section-children"><a href="global.html#slice">slice</a></div><div class="sidebar-section-children"><a href="global.html#solve_iteration">solve_iteration</a></div><div class="sidebar-section-children"><a href="global.html#solve_iteration_fixed">solve_iteration_fixed</a></div><div class="sidebar-section-children"><a href="global.html#step">step</a></div><div class="sidebar-section-children"><a href="global.html#visibleExtent">visibleExtent</a></div><div class="sidebar-section-children"><a href="global.html#wgs84">wgs84</a></div><div class="sidebar-section-children"><a href="global.html#zeroTwoPI">zeroTwoPI</a></div></div></div><div class="mobile-navbar-actions"><div class="navbar-right-item"><button class="icon-button search-button" aria-label="open-search"><svg><use xlink:href="#search-icon"></use></svg></button></div><div class="navbar-right-item"><button class="icon-button theme-toggle" aria-label="toggle-theme"><svg><use class="theme-svg-use" xlink:href="#light-theme-icon"></use></svg></button></div><div class="navbar-right-item"><button class="icon-button font-size" aria-label="change-font-size"><svg><use xlink:href="#font-size-icon"></use></svg></button></div></div></div></div><script type="text/javascript" src="scripts/core.min.js"></script><script src="scripts/search.min.js" defer="defer"></script><script src="scripts/third-party/fuse.js" defer="defer"></script><script type="text/javascript">var tocbotInstance=tocbot.init({tocSelector:"#eed4d2a0bfd64539bb9df78095dec881",contentSelector:".main-content",headingSelector:"h1, h2, h3",hasInnerContainers:!0,scrollContainer:".main-content",headingsOffset:130,onClick:bringLinkToView})</script></body></html>