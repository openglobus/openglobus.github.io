<!DOCTYPE html><html lang="en" style="font-size:16px"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="icon" href="https://openglobus.github.io/favicon.ico"><title>Source: control/visibleExtent/drawnode.js</title><!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]--><script src="scripts/third-party/hljs.js" defer="defer"></script><script src="scripts/third-party/hljs-line-num.js" defer="defer"></script><script src="scripts/third-party/popper.js" defer="defer"></script><script src="scripts/third-party/tippy.js" defer="defer"></script><script src="scripts/third-party/tocbot.min.js"></script><script>var baseURL="/",locationPathname="";baseURL=(baseURL=(baseURL="https://openglobus.github.io/docs/").replace(/https?:\/\//i,"")).substr(baseURL.indexOf("/"))</script><link rel="stylesheet" href="styles/clean-jsdoc-theme.min.css"><svg aria-hidden="true" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="display:none"><defs><symbol id="copy-icon" viewbox="0 0 488.3 488.3"><g><path d="M314.25,85.4h-227c-21.3,0-38.6,17.3-38.6,38.6v325.7c0,21.3,17.3,38.6,38.6,38.6h227c21.3,0,38.6-17.3,38.6-38.6V124    C352.75,102.7,335.45,85.4,314.25,85.4z M325.75,449.6c0,6.4-5.2,11.6-11.6,11.6h-227c-6.4,0-11.6-5.2-11.6-11.6V124    c0-6.4,5.2-11.6,11.6-11.6h227c6.4,0,11.6,5.2,11.6,11.6V449.6z"/><path d="M401.05,0h-227c-21.3,0-38.6,17.3-38.6,38.6c0,7.5,6,13.5,13.5,13.5s13.5-6,13.5-13.5c0-6.4,5.2-11.6,11.6-11.6h227    c6.4,0,11.6,5.2,11.6,11.6v325.7c0,6.4-5.2,11.6-11.6,11.6c-7.5,0-13.5,6-13.5,13.5s6,13.5,13.5,13.5c21.3,0,38.6-17.3,38.6-38.6    V38.6C439.65,17.3,422.35,0,401.05,0z"/></g></symbol><symbol id="search-icon" viewBox="0 0 512 512"><g><g><path d="M225.474,0C101.151,0,0,101.151,0,225.474c0,124.33,101.151,225.474,225.474,225.474    c124.33,0,225.474-101.144,225.474-225.474C450.948,101.151,349.804,0,225.474,0z M225.474,409.323    c-101.373,0-183.848-82.475-183.848-183.848S124.101,41.626,225.474,41.626s183.848,82.475,183.848,183.848    S326.847,409.323,225.474,409.323z"/></g></g><g><g><path d="M505.902,476.472L386.574,357.144c-8.131-8.131-21.299-8.131-29.43,0c-8.131,8.124-8.131,21.306,0,29.43l119.328,119.328    c4.065,4.065,9.387,6.098,14.715,6.098c5.321,0,10.649-2.033,14.715-6.098C514.033,497.778,514.033,484.596,505.902,476.472z"/></g></g></symbol><symbol id="font-size-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M11.246 15H4.754l-2 5H.6L7 4h2l6.4 16h-2.154l-2-5zm-.8-2L8 6.885 5.554 13h4.892zM21 12.535V12h2v8h-2v-.535a4 4 0 1 1 0-6.93zM19 18a2 2 0 1 0 0-4 2 2 0 0 0 0 4z"/></symbol><symbol id="add-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M11 11V5h2v6h6v2h-6v6h-2v-6H5v-2z"/></symbol><symbol id="minus-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M5 11h14v2H5z"/></symbol><symbol id="dark-theme-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M10 7a7 7 0 0 0 12 4.9v.1c0 5.523-4.477 10-10 10S2 17.523 2 12 6.477 2 12 2h.1A6.979 6.979 0 0 0 10 7zm-6 5a8 8 0 0 0 15.062 3.762A9 9 0 0 1 8.238 4.938 7.999 7.999 0 0 0 4 12z"/></symbol><symbol id="light-theme-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M12 18a6 6 0 1 1 0-12 6 6 0 0 1 0 12zm0-2a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM11 1h2v3h-2V1zm0 19h2v3h-2v-3zM3.515 4.929l1.414-1.414L7.05 5.636 5.636 7.05 3.515 4.93zM16.95 18.364l1.414-1.414 2.121 2.121-1.414 1.414-2.121-2.121zm2.121-14.85l1.414 1.415-2.121 2.121-1.414-1.414 2.121-2.121zM5.636 16.95l1.414 1.414-2.121 2.121-1.414-1.414 2.121-2.121zM23 11v2h-3v-2h3zM4 11v2H1v-2h3z"/></symbol><symbol id="reset-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M18.537 19.567A9.961 9.961 0 0 1 12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10c0 2.136-.67 4.116-1.81 5.74L17 12h3a8 8 0 1 0-2.46 5.772l.997 1.795z"/></symbol><symbol id="down-icon" viewBox="0 0 16 16"><path fill-rule="evenodd" clip-rule="evenodd" d="M12.7803 6.21967C13.0732 6.51256 13.0732 6.98744 12.7803 7.28033L8.53033 11.5303C8.23744 11.8232 7.76256 11.8232 7.46967 11.5303L3.21967 7.28033C2.92678 6.98744 2.92678 6.51256 3.21967 6.21967C3.51256 5.92678 3.98744 5.92678 4.28033 6.21967L8 9.93934L11.7197 6.21967C12.0126 5.92678 12.4874 5.92678 12.7803 6.21967Z"></path></symbol><symbol id="codepen-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M16.5 13.202L13 15.535v3.596L19.197 15 16.5 13.202zM14.697 12L12 10.202 9.303 12 12 13.798 14.697 12zM20 10.869L18.303 12 20 13.131V10.87zM19.197 9L13 4.869v3.596l3.5 2.333L19.197 9zM7.5 10.798L11 8.465V4.869L4.803 9 7.5 10.798zM4.803 15L11 19.131v-3.596l-3.5-2.333L4.803 15zM4 13.131L5.697 12 4 10.869v2.262zM2 9a1 1 0 0 1 .445-.832l9-6a1 1 0 0 1 1.11 0l9 6A1 1 0 0 1 22 9v6a1 1 0 0 1-.445.832l-9 6a1 1 0 0 1-1.11 0l-9-6A1 1 0 0 1 2 15V9z"/></symbol><symbol id="close-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M12 10.586l4.95-4.95 1.414 1.414-4.95 4.95 4.95 4.95-1.414 1.414-4.95-4.95-4.95 4.95-1.414-1.414 4.95-4.95-4.95-4.95L7.05 5.636z"/></symbol><symbol id="menu-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M3 4h18v2H3V4zm0 7h18v2H3v-2zm0 7h18v2H3v-2z"/></symbol></defs></svg></head><body class="dark" data-theme="dark"><div class="sidebar-container"><div class="sidebar" id="sidebar">Openglobus <img src="https://avatars.githubusercontent.com/u/2453835?s=200&v=4"><div class="sidebar-items-container"><div class="sidebar-section-title with-arrow" data-isopen="false" id="f0CM1cZxcPssViuHBCRWV"><div>Modules</div><svg><use xlink:href="#down-icon"></use></svg></div><div class="sidebar-section-children-container"><div class="sidebar-section-children"><a href="module-og_Clock.html">og/Clock</a></div><div class="sidebar-section-children"><a href="module-og_Events.html">og/Events</a></div><div class="sidebar-section-children"><a href="module-og_Extent.html">og/Extent</a></div><div class="sidebar-section-children"><a href="module-og_Globe.html">og/Globe</a></div><div class="sidebar-section-children"><a href="module-og_ImageCanvas.html">og/ImageCanvas</a></div><div class="sidebar-section-children"><a href="module-og_Lock.html">og/Lock</a></div><div class="sidebar-section-children"><a href="module-og_LonLat.html">og/LonLat</a></div><div class="sidebar-section-children"><a href="module-og_Stack.html">og/Stack</a></div><div class="sidebar-section-children"><a href="module-og_astro_earth.html">og/astro/earth</a></div><div class="sidebar-section-children"><a href="module-og_astro_jd.html">og/astro/jd</a></div><div class="sidebar-section-children"><a href="module-og_astro_orbit.html">og/astro/orbit</a></div><div class="sidebar-section-children"><a href="module-og_astro_rotation.html">og/astro/rotation</a></div><div class="sidebar-section-children"><a href="module-og_bv_Box.html">og/bv/Box</a></div><div class="sidebar-section-children"><a href="module-og_bv_Sphere.html">og/bv/Sphere</a></div><div class="sidebar-section-children"><a href="module-og_camera_PlanetCamera.html">og/camera/PlanetCamera</a></div><div class="sidebar-section-children"><a href="module-og_control_Atmosphere.html">og/control/Atmosphere</a></div><div class="sidebar-section-children"><a href="module-og_control_Control.html">og/control/Control</a></div><div class="sidebar-section-children"><a href="module-og_control_DebugInfo.html">og/control/DebugInfo</a></div><div class="sidebar-section-children"><a href="module-og_control_GeoImageDragControl.html">og/control/GeoImageDragControl</a></div><div class="sidebar-section-children"><a href="module-og_control_KeyboardNavigation.html">og/control/KeyboardNavigation</a></div><div class="sidebar-section-children"><a href="module-og_control_LayerAnimation.html">og/control/LayerAnimation</a></div><div class="sidebar-section-children"><a href="module-og_control_LayerSwitcher.html">og/control/LayerSwitcher</a></div><div class="sidebar-section-children"><a href="module-og_control_Lighting.html">og/control/Lighting</a></div><div class="sidebar-section-children"><a href="module-og_control_MouseNavigation.html">og/control/MouseNavigation</a></div><div class="sidebar-section-children"><a href="module-og_control_MouseWheelZoomControl.html">og/control/MouseWheelZoomControl</a></div><div class="sidebar-section-children"><a href="module-og_control_Ruler.html">og/control/Ruler</a></div><div class="sidebar-section-children"><a href="module-og_control_Ruler.html">og/control/Ruler</a></div><div class="sidebar-section-children"><a href="module-og_control_Selector.html">og/control/Selector</a></div><div class="sidebar-section-children"><a href="module-og_control_ShowFps.html">og/control/ShowFps</a></div><div class="sidebar-section-children"><a href="module-og_control_SimpleSkyBackground.html">og/control/SimpleSkyBackground</a></div><div class="sidebar-section-children"><a href="module-og_control_Sun.html">og/control/Sun</a></div><div class="sidebar-section-children"><a href="module-og_control_ToggleWireframe.html">og/control/ToggleWireframe</a></div><div class="sidebar-section-children"><a href="module-og_control_TouchNavigation.html">og/control/TouchNavigation</a></div><div class="sidebar-section-children"><a href="module-og_control_ZoomControl.html">og/control/ZoomControl</a></div><div class="sidebar-section-children"><a href="module-og_control_ZoomControl.html">og/control/ZoomControl</a></div><div class="sidebar-section-children"><a href="module-og_ellipsoid_Ellipsoid.html">og/ellipsoid/Ellipsoid</a></div><div class="sidebar-section-children"><a href="module-og_ellipsoid_wgs84.html">og/ellipsoid/wgs84</a></div><div class="sidebar-section-children"><a href="module-og_entity_BaseBillboard.html">og/entity/BaseBillboard</a></div><div class="sidebar-section-children"><a href="module-og_entity_BaseBillboard.html">og/entity/BaseBillboard</a></div><div class="sidebar-section-children"><a href="module-og_entity_Billboard.html">og/entity/Billboard</a></div><div class="sidebar-section-children"><a href="module-og_entity_BillboardHandler.html">og/entity/BillboardHandler</a></div><div class="sidebar-section-children"><a href="module-og_entity_Entity.html">og/entity/Entity</a></div><div class="sidebar-section-children"><a href="module-og_entity_EntityCollection.html">og/entity/EntityCollection</a></div><div class="sidebar-section-children"><a href="module-og_entity_GeoObject.html">og/entity/GeoObject</a></div><div class="sidebar-section-children"><a href="module-og_entity_GeoObjectHandler.html">og/entity/GeoObjectHandler</a></div><div class="sidebar-section-children"><a href="module-og_entity_Geometry.html">og/entity/Geometry</a></div><div class="sidebar-section-children"><a href="module-og_entity_GeometryHandler.html">og/entity/GeometryHandler</a></div><div class="sidebar-section-children"><a href="module-og_entity_Label.html">og/entity/Label</a></div><div class="sidebar-section-children"><a href="module-og_entity_LabelHandler.html">og/entity/LabelHandler</a></div><div class="sidebar-section-children"><a href="module-og_entity_PointCloud.html">og/entity/PointCloud</a></div><div class="sidebar-section-children"><a href="module-og_entity_PointCloudHandler.html">og/entity/PointCloudHandler</a></div><div class="sidebar-section-children"><a href="module-og_entity_Polyline.html">og/entity/Polyline</a></div><div class="sidebar-section-children"><a href="module-og_entity_PolylineHandler.html">og/entity/PolylineHandler</a></div><div class="sidebar-section-children"><a href="module-og_input_KeyboardHandler.html">og/input/KeyboardHandler</a></div><div class="sidebar-section-children"><a href="module-og_input_MouseHandler.html">og/input/MouseHandler</a></div><div class="sidebar-section-children"><a href="module-og_input_TouchHandler.html">og/input/TouchHandler</a></div><div class="sidebar-section-children"><a href="module-og_input_input.html">og/input/input</a></div><div class="sidebar-section-children"><a href="module-og_layer_BaseGeoImage.html">og/layer/BaseGeoImage</a></div><div class="sidebar-section-children"><a href="module-og_layer_CanvasTiles.html">og/layer/CanvasTiles</a></div><div class="sidebar-section-children"><a href="module-og_layer_GeoImage.html">og/layer/GeoImage</a></div><div class="sidebar-section-children"><a href="module-og_layer_GeoTexture2d.html">og/layer/GeoTexture2d</a></div><div class="sidebar-section-children"><a href="module-og_layer_GeoVideo.html">og/layer/GeoVideo</a></div><div class="sidebar-section-children"><a href="module-og_layer_KML.html">og/layer/KML</a></div><div class="sidebar-section-children"><a href="module-og_layer_Layer.html">og/layer/Layer</a></div><div class="sidebar-section-children"><a href="module-og_layer_Material.html">og/layer/Material</a></div><div class="sidebar-section-children"><a href="module-og_layer_Vector.html">og/layer/Vector</a></div><div class="sidebar-section-children"><a href="module-og_layer_WMS.html">og/layer/WMS</a></div><div class="sidebar-section-children"><a href="module-og_layer_XYZ.html">og/layer/XYZ</a></div><div class="sidebar-section-children"><a href="module-og_light_LightSource.html">og/light/LightSource</a></div><div class="sidebar-section-children"><a href="module-og_math.html">og/math</a></div><div class="sidebar-section-children"><a href="module-og_math_Line2.html">og/math/Line2</a></div><div class="sidebar-section-children"><a href="module-og_math_Mat3.html">og/math/Mat3</a></div><div class="sidebar-section-children"><a href="module-og_math_Ray.html">og/math/Ray</a></div><div class="sidebar-section-children"><a href="module-og_math_Vec2.html">og/math/Vec2</a></div><div class="sidebar-section-children"><a href="module-og_math_Vec3.html">og/math/Vec3</a></div><div class="sidebar-section-children"><a href="module-og_math_Vec4.html">og/math/Vec4</a></div><div class="sidebar-section-children"><a href="module-og_math_coder.html">og/math/coder</a></div><div class="sidebar-section-children"><a href="module-og_mercator.html">og/mercator</a></div><div class="sidebar-section-children"><a href="module-og_proj_EPSG3857.html">og/proj/EPSG3857</a></div><div class="sidebar-section-children"><a href="module-og_proj_EPSG4326.html">og/proj/EPSG4326</a></div><div class="sidebar-section-children"><a href="module-og_proj_Proj.html">og/proj/Proj</a></div><div class="sidebar-section-children"><a href="module-og_quadTree_EntityCollectionNode.html">og/quadTree/EntityCollectionNode</a></div><div class="sidebar-section-children"><a href="module-og_renderer_RendererEvents.html">og/renderer/RendererEvents</a></div><div class="sidebar-section-children"><a href="module-og_scene_Axes.html">og/scene/Axes</a></div><div class="sidebar-section-children"><a href="module-og_scene_BaseNode.html">og/scene/BaseNode</a></div><div class="sidebar-section-children"><a href="module-og_scene_Planet.html">og/scene/Planet</a></div><div class="sidebar-section-children"><a href="module-og_scene_SkyBox.html">og/scene/SkyBox</a></div><div class="sidebar-section-children"><a href="module-og_shaders_billboard.html">og/shaders/billboard</a></div><div class="sidebar-section-children"><a href="module-og_shaders_drawnode.html">og/shaders/drawnode</a></div><div class="sidebar-section-children"><a href="module-og_shaders_drawnode.html">og/shaders/drawnode</a></div><div class="sidebar-section-children"><a href="module-og_shaders_drawnode.html">og/shaders/drawnode</a></div><div class="sidebar-section-children"><a href="module-og_shaders_label.html">og/shaders/label</a></div><div class="sidebar-section-children"><a href="module-og_shaders_pickingMask.html">og/shaders/pickingMask</a></div><div class="sidebar-section-children"><a href="module-og_shaders_pointCloud.html">og/shaders/pointCloud</a></div><div class="sidebar-section-children"><a href="module-og_shaders_polyline.html">og/shaders/polyline</a></div><div class="sidebar-section-children"><a href="module-og_shaders_ray.html">og/shaders/ray</a></div><div class="sidebar-section-children"><a href="module-og_shaders_skybox.html">og/shaders/skybox</a></div><div class="sidebar-section-children"><a href="module-og_terrainProvider_EmptyTerrain.html">og/terrainProvider/EmptyTerrain</a></div><div class="sidebar-section-children"><a href="module-og_utils_FontAtlas.html">og/utils/FontAtlas</a></div><div class="sidebar-section-children"><a href="module-og_utils_NormalMapCreator.html">og/utils/NormalMapCreator</a></div><div class="sidebar-section-children"><a href="module-og_utils_VectorTileCreator.html">og/utils/VectorTileCreator</a></div><div class="sidebar-section-children"><a href="module-og_utils_earcut.html">og/utils/earcut</a></div><div class="sidebar-section-children"><a href="module-og_utils_shared.html">og/utils/shared</a></div><div class="sidebar-section-children"><a href="module-og_webgl_Framebuffer.html">og/webgl/Framebuffer</a></div><div class="sidebar-section-children"><a href="module-og_webgl_Handler.html">og/webgl/Handler</a></div><div class="sidebar-section-children"><a href="module-og_webgl_Multisample.html">og/webgl/Multisample</a></div><div class="sidebar-section-children"><a href="module-og_webgl_Program.html">og/webgl/Program</a></div><div class="sidebar-section-children"><a href="module-og_webgl_callbacks.html">og/webgl/callbacks</a></div><div class="sidebar-section-children"><a href="module-og_webgl_types.html">og/webgl/types</a></div></div><div class="sidebar-section-title with-arrow" data-isopen="false" id="t1i9a_zlGtPSIO30JZqJm"><div>Classes</div><svg><use xlink:href="#down-icon"></use></svg></div><div class="sidebar-section-children-container"><div class="sidebar-section-children"><a href="Camera.html">Camera</a></div><div class="sidebar-section-children"><a href="CompassButton.html">CompassButton</a></div><div class="sidebar-section-children"><a href="Cons.html">Cons</a></div><div class="sidebar-section-children"><a href="EarthCoordinates.html">EarthCoordinates</a></div><div class="sidebar-section-children"><a href="Frustum.html">Frustum</a></div><div class="sidebar-section-children"><a href="GlobusTerrain.html">GlobusTerrain</a></div><div class="sidebar-section-children"><a href="Mat4.html">Mat4</a></div><div class="sidebar-section-children"><a href="Node.html">Node</a></div><div class="sidebar-section-children"><a href="Plane.html">Plane</a></div><div class="sidebar-section-children"><a href="ProgramController.html">ProgramController</a></div><div class="sidebar-section-children"><a href="Quat.html">Quat</a></div><div class="sidebar-section-children"><a href="QueueArray.html">QueueArray</a></div><div class="sidebar-section-children"><a href="Rectangle.html">Rectangle</a></div><div class="sidebar-section-children"><a href="RenderNode.html">RenderNode</a></div><div class="sidebar-section-children"><a href="Segment.html">Segment</a></div><div class="sidebar-section-children"><a href="Segment.html">Segment</a></div><div class="sidebar-section-children"><a href="SegmentBoundVisualization.html">SegmentBoundVisualization</a></div><div class="sidebar-section-children"><a href="SegmentLonLat.html">SegmentLonLat</a></div><div class="sidebar-section-children"><a href="SimpleNavigation.html">SimpleNavigation</a></div><div class="sidebar-section-children"><a href="Strip.html">Strip</a></div><div class="sidebar-section-children"><a href="TextureAtlas.html">TextureAtlas</a></div><div class="sidebar-section-children"><a href="TextureAtlasNode.html">TextureAtlasNode</a></div><div class="sidebar-section-children"><a href="VisibleExtent.html">VisibleExtent</a></div><div class="sidebar-section-children"><a href="-__resizeTimeout.html">__resizeTimeout</a></div><div class="sidebar-section-children"><a href="module-og_Clock-Clock.html">Clock</a></div><div class="sidebar-section-children"><a href="module-og_Events-Events.html">Events</a></div><div class="sidebar-section-children"><a href="module-og_Extent.Extent.html">Extent</a></div><div class="sidebar-section-children"><a href="module-og_Globe-Globe.html">Globe</a></div><div class="sidebar-section-children"><a href="module-og_ImageCanvas-ImageCanvas.html">ImageCanvas</a></div><div class="sidebar-section-children"><a href="module-og_LonLat.LonLat.html">LonLat</a></div><div class="sidebar-section-children"><a href="module-og_Stack-Stack.html">Stack</a></div><div class="sidebar-section-children"><a href="module-og_bv_Box-Box.html">Box</a></div><div class="sidebar-section-children"><a href="module-og_bv_Sphere-Sphere.html">Sphere</a></div><div class="sidebar-section-children"><a href="module-og_camera_PlanetCamera-PlanetCamera.html">PlanetCamera</a></div><div class="sidebar-section-children"><a href="module-og_control_Atmosphere-Atmosphere.html">Atmosphere</a></div><div class="sidebar-section-children"><a href="module-og_control_Control-Control.html">Control</a></div><div class="sidebar-section-children"><a href="module-og_control_DebugInfo-DebugInfo.html">DebugInfo</a></div><div class="sidebar-section-children"><a href="module-og_control_KeyboardNavigation-KeyboardNavigation.html">KeyboardNavigation</a></div><div class="sidebar-section-children"><a href="module-og_control_LayerAnimation-LayerAnimation.html">LayerAnimation</a></div><div class="sidebar-section-children"><a href="module-og_control_LayerSwitcher-LayerSwitcher.html">LayerSwitcher</a></div><div class="sidebar-section-children"><a href="module-og_control_Lighting-ICON_BUTTON_SVG.html">ICON_BUTTON_SVG</a></div><div class="sidebar-section-children"><a href="module-og_control_MouseNavigation-MouseNavigation.html">MouseNavigation</a></div><div class="sidebar-section-children"><a href="module-og_control_MouseWheelZoomControl-MouseWheelZoomControl.html">MouseWheelZoomControl</a></div><div class="sidebar-section-children"><a href="module-og_control_Ruler-Ruler.html">Ruler</a></div><div class="sidebar-section-children"><a href="module-og_control_Ruler-RulerSwitcher.html">RulerSwitcher</a></div><div class="sidebar-section-children"><a href="module-og_control_Selector-Selection.html">Selection</a></div><div class="sidebar-section-children"><a href="module-og_control_ShowFps-ShowFps.html">ShowFps</a></div><div class="sidebar-section-children"><a href="module-og_control_SimpleSkyBackground-SimpleSkyBackground.html">SimpleSkyBackground</a></div><div class="sidebar-section-children"><a href="module-og_control_Sun-Sun.html">Sun</a></div><div class="sidebar-section-children"><a href="module-og_control_ToggleWireframe-ToggleWireframe.html">ToggleWireframe</a></div><div class="sidebar-section-children"><a href="module-og_control_TouchNavigation-TouchNavigation.html">TouchNavigation</a></div><div class="sidebar-section-children"><a href="module-og_control_ZoomControl-ScaleControl.html">ScaleControl</a></div><div class="sidebar-section-children"><a href="module-og_control_ZoomControl-ZoomControl.html">ZoomControl</a></div><div class="sidebar-section-children"><a href="module-og_ellipsoid_Ellipsoid-Ellipsoid.html">Ellipsoid</a></div><div class="sidebar-section-children"><a href="module-og_entity_BaseBillboard-BaseBillboard.html">BaseBillboard</a></div><div class="sidebar-section-children"><a href="module-og_entity_BaseBillboard-Ray.html">Ray</a></div><div class="sidebar-section-children"><a href="module-og_entity_BillboardHandler-BillboardHandler.html">BillboardHandler</a></div><div class="sidebar-section-children"><a href="module-og_entity_Billboard-Billboard.html">Billboard</a></div><div class="sidebar-section-children"><a href="module-og_entity_EntityCollection-EntityCollection.html">EntityCollection</a></div><div class="sidebar-section-children"><a href="module-og_entity_Entity-Entity.html">Entity</a></div><div class="sidebar-section-children"><a href="module-og_entity_GeoObject-GeoObject.html">GeoObject</a></div><div class="sidebar-section-children"><a href="module-og_entity_LabelHandler-LabelHandler.html">LabelHandler</a></div><div class="sidebar-section-children"><a href="module-og_entity_Label-Label.html">Label</a></div><div class="sidebar-section-children"><a href="module-og_entity_PointCloud-PointCloud.html">PointCloud</a></div><div class="sidebar-section-children"><a href="module-og_entity_Polyline-Polyline.html">Polyline</a></div><div class="sidebar-section-children"><a href="module-og_layer_BaseGeoImage-BaseGeoImage.html">BaseGeoImage</a></div><div class="sidebar-section-children"><a href="module-og_layer_CanvasTiles-CanvasTiles.html">CanvasTiles</a></div><div class="sidebar-section-children"><a href="module-og_layer_GeoImage-GeoImage.html">GeoImage</a></div><div class="sidebar-section-children"><a href="module-og_layer_GeoVideo-GeoVideo.html">GeoVideo</a></div><div class="sidebar-section-children"><a href="module-og_layer_KML.KML.html">KML</a></div><div class="sidebar-section-children"><a href="module-og_layer_Layer-Layer.html">Layer</a></div><div class="sidebar-section-children"><a href="module-og_layer_Material-Material.html">Material</a></div><div class="sidebar-section-children"><a href="module-og_layer_Vector-Vector.html">Vector</a></div><div class="sidebar-section-children"><a href="module-og_layer_WMS-WMS.html">WMS</a></div><div class="sidebar-section-children"><a href="module-og_layer_XYZ-XYZ.html">XYZ</a></div><div class="sidebar-section-children"><a href="module-og_light_LightSource-LightSource.html">LightSource</a></div><div class="sidebar-section-children"><a href="module-og_math_Mat3.Mat3.html">Mat3</a></div><div class="sidebar-section-children"><a href="module-og_math_Ray.Ray.html">Ray</a></div><div class="sidebar-section-children"><a href="module-og_math_Vec2.Vec2.html">Vec2</a></div><div class="sidebar-section-children"><a href="module-og_math_Vec3.Vec3.html">Vec3</a></div><div class="sidebar-section-children"><a href="module-og_math_Vec4.Vec4.html">Vec4</a></div><div class="sidebar-section-children"><a href="module-og_renderer_RendererEvents-RendererEvents.html">RendererEvents</a></div><div class="sidebar-section-children"><a href="module-og_scene_BaseNode-BaseNode.html">BaseNode</a></div><div class="sidebar-section-children"><a href="module-og_scene_Planet.Planet.html">Planet</a></div><div class="sidebar-section-children"><a href="module-og_terrainProvider_EmptyTerrain-EmptyTerrain.html">EmptyTerrain</a></div><div class="sidebar-section-children"><a href="module-og_webgl_Framebuffer.Framebuffer.html">Framebuffer</a></div><div class="sidebar-section-children"><a href="module-og_webgl_Handler-Handler.html">Handler</a></div><div class="sidebar-section-children"><a href="module-og_webgl_Multisample.Multisample.html">Multisample</a></div><div class="sidebar-section-children"><a href="module-og_webgl_Program-Program.html">Program</a></div></div><div class="sidebar-section-title with-arrow" data-isopen="false" id="PYW2Aicomzz5DnKpHWoEm"><div>Events</div><svg><use xlink:href="#down-icon"></use></svg></div><div class="sidebar-section-children-container"><div class="sidebar-section-children"><a href="og.Camera.html#event:moveend">moveend</a></div><div class="sidebar-section-children"><a href="og.Camera.html#event:viewchange">viewchange</a></div><div class="sidebar-section-children"><a href="og.EntityCollection.html#event:add">add</a></div><div class="sidebar-section-children"><a href="og.EntityCollection.html#event:doubletouch">doubletouch</a></div><div class="sidebar-section-children"><a href="og.EntityCollection.html#event:draw">draw</a></div><div class="sidebar-section-children"><a href="og.EntityCollection.html#event:drawend">drawend</a></div><div class="sidebar-section-children"><a href="og.EntityCollection.html#event:entityadd">entityadd</a></div><div class="sidebar-section-children"><a href="og.EntityCollection.html#event:entitymove">entitymove</a></div><div class="sidebar-section-children"><a href="og.EntityCollection.html#event:entityremove">entityremove</a></div><div class="sidebar-section-children"><a href="og.EntityCollection.html#event:lclick">lclick</a></div><div class="sidebar-section-children"><a href="og.EntityCollection.html#event:ldblclick">ldblclick</a></div><div class="sidebar-section-children"><a href="og.EntityCollection.html#event:ldown">ldown</a></div><div class="sidebar-section-children"><a href="og.EntityCollection.html#event:lhold">lhold</a></div><div class="sidebar-section-children"><a href="og.EntityCollection.html#event:lup">lup</a></div><div class="sidebar-section-children"><a href="og.EntityCollection.html#event:mclick">mclick</a></div><div class="sidebar-section-children"><a href="og.EntityCollection.html#event:mdblclick">mdblclick</a></div><div class="sidebar-section-children"><a href="og.EntityCollection.html#event:mdown">mdown</a></div><div class="sidebar-section-children"><a href="og.EntityCollection.html#event:mhold">mhold</a></div><div class="sidebar-section-children"><a href="og.EntityCollection.html#event:mouseenter">mouseenter</a></div><div class="sidebar-section-children"><a href="og.EntityCollection.html#event:mouseleave">mouseleave</a></div><div class="sidebar-section-children"><a href="og.EntityCollection.html#event:mousemove">mousemove</a></div><div class="sidebar-section-children"><a href="og.EntityCollection.html#event:mousewheel">mousewheel</a></div><div class="sidebar-section-children"><a href="og.EntityCollection.html#event:mup">mup</a></div><div class="sidebar-section-children"><a href="og.EntityCollection.html#event:rclick">rclick</a></div><div class="sidebar-section-children"><a href="og.EntityCollection.html#event:rdblclick">rdblclick</a></div><div class="sidebar-section-children"><a href="og.EntityCollection.html#event:rdown">rdown</a></div><div class="sidebar-section-children"><a href="og.EntityCollection.html#event:remove">remove</a></div><div class="sidebar-section-children"><a href="og.EntityCollection.html#event:rhold">rhold</a></div><div class="sidebar-section-children"><a href="og.EntityCollection.html#event:rup">rup</a></div><div class="sidebar-section-children"><a href="og.EntityCollection.html#event:touchend">touchend</a></div><div class="sidebar-section-children"><a href="og.EntityCollection.html#event:touchenter">touchenter</a></div><div class="sidebar-section-children"><a href="og.EntityCollection.html#event:touchleave">touchleave</a></div><div class="sidebar-section-children"><a href="og.EntityCollection.html#event:touchmove">touchmove</a></div><div class="sidebar-section-children"><a href="og.EntityCollection.html#event:touchstart">touchstart</a></div><div class="sidebar-section-children"><a href="og.EntityCollection.html#event:visibilitychange">visibilitychange</a></div><div class="sidebar-section-children"><a href="og.Layer.html#event:add">add</a></div><div class="sidebar-section-children"><a href="og.Layer.html#event:doubletouch">doubletouch</a></div><div class="sidebar-section-children"><a href="og.Layer.html#event:lclick">lclick</a></div><div class="sidebar-section-children"><a href="og.Layer.html#event:ldblclick">ldblclick</a></div><div class="sidebar-section-children"><a href="og.Layer.html#event:ldown">ldown</a></div><div class="sidebar-section-children"><a href="og.Layer.html#event:lhold">lhold</a></div><div class="sidebar-section-children"><a href="og.Layer.html#event:lup">lup</a></div><div class="sidebar-section-children"><a href="og.Layer.html#event:mclick">mclick</a></div><div class="sidebar-section-children"><a href="og.Layer.html#event:mdblclick">mdblclick</a></div><div class="sidebar-section-children"><a href="og.Layer.html#event:mdown">mdown</a></div><div class="sidebar-section-children"><a href="og.Layer.html#event:mhold">mhold</a></div><div class="sidebar-section-children"><a href="og.Layer.html#event:mouseenter">mouseenter</a></div><div class="sidebar-section-children"><a href="og.Layer.html#event:mouseenter">mouseenter</a></div><div class="sidebar-section-children"><a href="og.Layer.html#event:mousemove">mousemove</a></div><div class="sidebar-section-children"><a href="og.Layer.html#event:mousewheel">mousewheel</a></div><div class="sidebar-section-children"><a href="og.Layer.html#event:mup">mup</a></div><div class="sidebar-section-children"><a href="og.Layer.html#event:rclick">rclick</a></div><div class="sidebar-section-children"><a href="og.Layer.html#event:rdblclick">rdblclick</a></div><div class="sidebar-section-children"><a href="og.Layer.html#event:rdown">rdown</a></div><div class="sidebar-section-children"><a href="og.Layer.html#event:remove">remove</a></div><div class="sidebar-section-children"><a href="og.Layer.html#event:rhold">rhold</a></div><div class="sidebar-section-children"><a href="og.Layer.html#event:rup">rup</a></div><div class="sidebar-section-children"><a href="og.Layer.html#event:touchend">touchend</a></div><div class="sidebar-section-children"><a href="og.Layer.html#event:touchenter">touchenter</a></div><div class="sidebar-section-children"><a href="og.Layer.html#event:touchleave">touchleave</a></div><div class="sidebar-section-children"><a href="og.Layer.html#event:touchmove">touchmove</a></div><div class="sidebar-section-children"><a href="og.Layer.html#event:touchstart">touchstart</a></div><div class="sidebar-section-children"><a href="og.Layer.html#event:visibilitychange">visibilitychange</a></div><div class="sidebar-section-children"><a href="og.RendererEvents.html#event:doubletouch">doubletouch</a></div><div class="sidebar-section-children"><a href="og.RendererEvents.html#event:draw">draw</a></div><div class="sidebar-section-children"><a href="og.RendererEvents.html#event:lclick">lclick</a></div><div class="sidebar-section-children"><a href="og.RendererEvents.html#event:ldblclick">ldblclick</a></div><div class="sidebar-section-children"><a href="og.RendererEvents.html#event:ldown">ldown</a></div><div class="sidebar-section-children"><a href="og.RendererEvents.html#event:lhold">lhold</a></div><div class="sidebar-section-children"><a href="og.RendererEvents.html#event:lup">lup</a></div><div class="sidebar-section-children"><a href="og.RendererEvents.html#event:mclick">mclick</a></div><div class="sidebar-section-children"><a href="og.RendererEvents.html#event:mdblclick">mdblclick</a></div><div class="sidebar-section-children"><a href="og.RendererEvents.html#event:mdown">mdown</a></div><div class="sidebar-section-children"><a href="og.RendererEvents.html#event:mhold">mhold</a></div><div class="sidebar-section-children"><a href="og.RendererEvents.html#event:mouseenter">mouseenter</a></div><div class="sidebar-section-children"><a href="og.RendererEvents.html#event:mouseleave">mouseleave</a></div><div class="sidebar-section-children"><a href="og.RendererEvents.html#event:mousemove">mousemove</a></div><div class="sidebar-section-children"><a href="og.RendererEvents.html#event:mousestop">mousestop</a></div><div class="sidebar-section-children"><a href="og.RendererEvents.html#event:mousewheel">mousewheel</a></div><div class="sidebar-section-children"><a href="og.RendererEvents.html#event:mup">mup</a></div><div class="sidebar-section-children"><a href="og.RendererEvents.html#event:postdraw">postdraw</a></div><div class="sidebar-section-children"><a href="og.RendererEvents.html#event:rclick">rclick</a></div><div class="sidebar-section-children"><a href="og.RendererEvents.html#event:rdblclick">rdblclick</a></div><div class="sidebar-section-children"><a href="og.RendererEvents.html#event:rdown">rdown</a></div><div class="sidebar-section-children"><a href="og.RendererEvents.html#event:resize">resize</a></div><div class="sidebar-section-children"><a href="og.RendererEvents.html#event:resizeend">resizeend</a></div><div class="sidebar-section-children"><a href="og.RendererEvents.html#event:rhold">rhold</a></div><div class="sidebar-section-children"><a href="og.RendererEvents.html#event:rup">rup</a></div><div class="sidebar-section-children"><a href="og.RendererEvents.html#event:touchcancel">touchcancel</a></div><div class="sidebar-section-children"><a href="og.RendererEvents.html#event:touchend">touchend</a></div><div class="sidebar-section-children"><a href="og.RendererEvents.html#event:touchenter">touchenter</a></div><div class="sidebar-section-children"><a href="og.RendererEvents.html#event:touchleave">touchleave</a></div><div class="sidebar-section-children"><a href="og.RendererEvents.html#event:touchmove">touchmove</a></div><div class="sidebar-section-children"><a href="og.RendererEvents.html#event:touchstart">touchstart</a></div><div class="sidebar-section-children"><a href="og.layer.BaseGeoImage.html#event:loadend">loadend</a></div><div class="sidebar-section-children"><a href="og.layer.CanvasTiles.html#event:load">load</a></div><div class="sidebar-section-children"><a href="og.layer.CanvasTiles.html#event:loadend">loadend</a></div><div class="sidebar-section-children"><a href="og.layer.Vector.html#event:draw">draw</a></div><div class="sidebar-section-children"><a href="og.layer.Vector.html#event:draw">draw</a></div><div class="sidebar-section-children"><a href="og.layer.Vector.html#event:entityadd">entityadd</a></div><div class="sidebar-section-children"><a href="og.layer.Vector.html#event:entityremove">entityremove</a></div><div class="sidebar-section-children"><a href="og.layer.XYZ.html#event:load">load</a></div><div class="sidebar-section-children"><a href="og.layer.XYZ.html#event:loadend">loadend</a></div><div class="sidebar-section-children"><a href="og.scene.Planet.html#event:baselayerchange">baselayerchange</a></div><div class="sidebar-section-children"><a href="og.scene.Planet.html#event:draw">draw</a></div><div class="sidebar-section-children"><a href="og.scene.Planet.html#event:layeradd">layeradd</a></div><div class="sidebar-section-children"><a href="og.scene.Planet.html#event:layerremove">layerremove</a></div><div class="sidebar-section-children"><a href="og.scene.Planet.html#event:layervisibilitychange">layervisibilitychange</a></div><div class="sidebar-section-children"><a href="og.scene.Planet.html#event:rendercompleted">rendercompleted</a></div><div class="sidebar-section-children"><a href="og.scene.Planet.html#event:terraincompleted">terraincompleted</a></div><div class="sidebar-section-children"><a href="og.scene.Planet.html#event:terraincompleted">terraincompleted</a></div><div class="sidebar-section-children"><a href="og.terrain.GlobusTerrain.html#event:load">load</a></div><div class="sidebar-section-children"><a href="og.terrain.GlobusTerrain.html#event:loadend">loadend</a></div></div><div class="sidebar-section-title with-arrow" data-isopen="false" id="YtNOkikOuG8NO8INyyR8h"><div>Global</div><svg><use xlink:href="#down-icon"></use></svg></div><div class="sidebar-section-children-container"><div class="sidebar-section-children"><a href="global.html#AU_TO_METERS">AU_TO_METERS</a></div><div class="sidebar-section-children"><a href="global.html#COMSIDE">COMSIDE</a></div><div class="sidebar-section-children"><a href="global.html#EARTH_GRAVITATIONAL_PARAMETER">EARTH_GRAVITATIONAL_PARAMETER</a></div><div class="sidebar-section-children"><a href="global.html#J2000_OBLIQUITY">J2000_OBLIQUITY</a></div><div class="sidebar-section-children"><a href="global.html#NEIGHBOUR">NEIGHBOUR</a></div><div class="sidebar-section-children"><a href="global.html#NOPSORD">NOPSORD</a></div><div class="sidebar-section-children"><a href="global.html#OPPART">OPPART</a></div><div class="sidebar-section-children"><a href="global.html#OPSIDE">OPSIDE</a></div><div class="sidebar-section-children"><a href="global.html#PARTOFFSET">PARTOFFSET</a></div><div class="sidebar-section-children"><a href="global.html#SUN_GRAVITATIONAL_PARAMETER">SUN_GRAVITATIONAL_PARAMETER</a></div><div class="sidebar-section-children"><a href="global.html#TAItoTDB">TAItoTDB</a></div><div class="sidebar-section-children"><a href="global.html#TDT_TAI">TDT_TAI</a></div><div class="sidebar-section-children"><a href="global.html#equationCallback">equationCallback</a></div><div class="sidebar-section-children"><a href="global.html#mat4">mat4</a></div><div class="sidebar-section-children"><a href="global.html#quat">quat</a></div><div class="sidebar-section-children"><a href="global.html#simpleNavigation">simpleNavigation</a></div></div></div></div></div><div class="navbar-container" id="VuAckcnZhf"><nav class="navbar"><div class="navbar-left-items"></div><div class="navbar-right-items"><div class="navbar-right-item"><button class="icon-button search-button" aria-label="open-search"><svg><use xlink:href="#search-icon"></use></svg></button></div><div class="navbar-right-item"><button class="icon-button theme-toggle" aria-label="toggle-theme"><svg><use class="theme-svg-use" xlink:href="#light-theme-icon"></use></svg></button></div><div class="navbar-right-item"><button class="icon-button font-size" aria-label="change-font-size"><svg><use xlink:href="#font-size-icon"></use></svg></button></div></div><nav></nav></nav></div><div class="toc-container"><div class="toc-content"><span class="bold">On this page</span><div id="eed4d2a0bfd64539bb9df78095dec881"></div></div></div><div class="body-wrapper"><div class="main-content"><div class="main-wrapper"><section id="source-page" class="source-page"><header><h1 id="title" class="has-anchor">control_visibleExtent_drawnode.js</h1></header><article><pre class="prettyprint source lang-js"><code>/**
 * @module og/shaders/drawnode
 */

"use strict";

import { Program } from "../../webgl/Program.js";

// REMEMBER!
// src*(1)+dest*(1-src.alpha)
// glBlendFunc(GL_ONE, GL_ONE_MINUS_SRC_ALPHA);
// src*(src.alpha)+dest*(1-src.alpha)
// glBlendFunc(GL_SRC_ALPHA, GL_ONE_MINUS_SRC_ALPHA);

const CORNERS = `const vec2 BOTTOMLEFT = vec2(-0.01);
                const vec2 TOPRIGHT = vec2(1.01);`;

const NIGHT = `const vec3 nightStep = 10.0 * vec3(0.58, 0.48, 0.25);`;

const INSIDE_BOX =
    `/* return 1 if v inside the box, return 0 otherwise */
    float insideBox(vec2 v) {
        vec2 s = step(BOTTOMLEFT, v) - step(TOPRIGHT, v);
        return s.x * s.y;
    }`;

export function drawnode_screen_nl() {
    return new Program("drawnode_screen_nl", {
        uniforms: {
            projectionMatrix: "mat4",
            viewMatrix: "mat4",
            eyePositionHigh: "vec3",
            eyePositionLow: "vec3",
            samplerCount: "int",
            tileOffsetArr: "vec4",
            visibleExtentOffsetArr: "vec4",
            layerOpacityArr: "float",
            samplerArr: "sampler2darray",
            defaultTexture: "sampler2d",
            height: "float"
        },
        attributes: {
            aVertexPositionHigh: "vec3",
            aVertexPositionLow: "vec3",
            aTextureCoord: "vec2"
        },

        vertexShader: `attribute vec3 aVertexPositionHigh;
            attribute vec3 aVertexPositionLow;
            attribute vec2 aTextureCoord;

            uniform mat4 projectionMatrix;
            uniform mat4 viewMatrix;
            uniform vec3 eyePositionHigh;
            uniform vec3 eyePositionLow;
            uniform float height;

            varying vec2 vTextureCoord;

            void main(void) {
                vTextureCoord = aTextureCoord;

                vec3 aVertexPosition = aVertexPositionHigh + aVertexPositionLow;
                vec3 highDiff = aVertexPositionHigh - eyePositionHigh;
                vec3 lowDiff = aVertexPositionLow + normalize(aVertexPosition) * height - eyePositionLow;

                mat4 viewMatrixRTE = viewMatrix;
                viewMatrixRTE[3] = vec4(0.0, 0.0, 0.0, 1.0);

                gl_Position = projectionMatrix * viewMatrixRTE * vec4(highDiff + lowDiff, 1.0);
            }`,

        fragmentShader: `precision highp float;
            uniform vec4 tileOffsetArr[5];
            uniform vec4 visibleExtentOffsetArr[5];
            uniform float layerOpacityArr[5];
            uniform sampler2D defaultTexture;
            uniform sampler2D samplerArr[5];
            uniform int samplerCount;
            varying vec2 vTextureCoord;

            ${CORNERS}

            ${INSIDE_BOX}

            void blend(
                out vec4 prevColor,
                in sampler2D sampler,
                in vec4 tileOffset,
                in vec4 visibleExtentOffset,
                in float opacity)
            {
                vec4 t = texture2D( sampler, tileOffset.xy + vTextureCoord.xy * tileOffset.zw );
                float emptiness = insideBox(visibleExtentOffset.xy + vTextureCoord.xy * visibleExtentOffset.zw);
                prevColor = prevColor * (1.0 - t.a * opacity * emptiness) + vec4(t.rgb, t.a) * opacity * emptiness;
            }

            void main(void) {
                gl_FragColor = texture2D( defaultTexture, vTextureCoord );
                if( samplerCount == 0 ) return;

                blend(gl_FragColor, samplerArr[0], tileOffsetArr[0], visibleExtentOffsetArr[0], layerOpacityArr[0]);
                if( samplerCount == 1 ) return;

                blend(gl_FragColor, samplerArr[1], tileOffsetArr[1], visibleExtentOffsetArr[1], layerOpacityArr[1]);
                if( samplerCount == 2 ) return;

                blend(gl_FragColor, samplerArr[2], tileOffsetArr[2], visibleExtentOffsetArr[2], layerOpacityArr[2]);
                if( samplerCount == 3 ) return;

                blend(gl_FragColor, samplerArr[3], tileOffsetArr[3], visibleExtentOffsetArr[3], layerOpacityArr[3]);
                if( samplerCount == 4 ) return;

                blend(gl_FragColor, samplerArr[4], tileOffsetArr[4], visibleExtentOffsetArr[4], layerOpacityArr[4]);
            }`
    });
}

export function drawnode_screen_wl() {
    return new Program("drawnode_screen_wl", {
        uniforms: {
            projectionMatrix: "mat4",
            viewMatrix: "mat4",
            eyePositionHigh: "vec3",
            eyePositionLow: "vec3",
            height: "float",

            uGlobalTextureCoord: "vec4",
            uNormalMapBias: "vec3",

            samplerCount: "int",
            tileOffsetArr: "vec4",
            visibleExtentOffsetArr: "vec4",
            layerOpacityArr: "float",
            samplerArr: "sampler2darray",
            defaultTexture: "sampler2d",
            normalMatrix: "mat3",
            uNormalMap: "sampler2d",
            nightTexture: "sampler2d",
            specularTexture: "sampler2d",
            lightsPositions: "vec4",
            diffuse: "vec3",
            ambient: "vec3",
            specular: "vec4"
        },
        attributes: {
            aVertexPositionHigh: "vec3",
            aVertexPositionLow: "vec3",
            aTextureCoord: "vec2"
        },

        vertexShader: `attribute vec3 aVertexPositionHigh;
            attribute vec3 aVertexPositionLow;
            attribute vec2 aTextureCoord;

            uniform mat4 projectionMatrix;
            uniform mat4 viewMatrix;
            uniform float height;
            uniform vec4 uGlobalTextureCoord;
            uniform vec3 uNormalMapBias;
            uniform vec3 eyePositionHigh;
            uniform vec3 eyePositionLow;

            varying vec4 vTextureCoord;
            varying vec2 vGlobalTextureCoord;
            varying vec4 v_vertex;
            varying float v_height;

            void main(void) {

                vec3 aVertexPosition = aVertexPositionHigh + aVertexPositionLow;
                vec3 highDiff = aVertexPositionHigh - eyePositionHigh;
                vec3 lowDiff = aVertexPositionLow + normalize(aVertexPosition) * height - eyePositionLow;

                mat4 viewMatrixRTE = viewMatrix;
                viewMatrixRTE[3] = vec4(0.0, 0.0, 0.0, 1.0);

                v_height = height;
                vec3 heightVertex = aVertexPosition + normalize(aVertexPosition) * height;
                v_vertex = viewMatrix * vec4(heightVertex, 1.0);
                vTextureCoord.xy = aTextureCoord;
                vGlobalTextureCoord = uGlobalTextureCoord.xy + (uGlobalTextureCoord.zw - uGlobalTextureCoord.xy) * aTextureCoord;
                vTextureCoord.zw = uNormalMapBias.z * ( aTextureCoord + uNormalMapBias.xy );
                gl_Position = projectionMatrix * viewMatrixRTE * vec4(highDiff + lowDiff, 1.0);
            }`,

        fragmentShader: `precision highp float;

            #define MAX_POINT_LIGHTS 1
            #define MAX_OVERLAYS 5
            #define MAX_OVERLAYS_PLUS_ONE 6

            uniform vec3 diffuse;
            uniform vec3 ambient;
            uniform vec4 specular;

            uniform sampler2D uNormalMap;
            uniform vec4 lightsPositions[MAX_POINT_LIGHTS];
            uniform mat3 normalMatrix;
            uniform sampler2D nightTexture;
            uniform sampler2D specularTexture;

            uniform vec4 tileOffsetArr[MAX_OVERLAYS];
            uniform vec4 visibleExtentOffsetArr[MAX_OVERLAYS];
            uniform float layerOpacityArr[MAX_OVERLAYS];

            uniform sampler2D defaultTexture;
            uniform sampler2D samplerArr[MAX_OVERLAYS];
            uniform int samplerCount;

            varying vec4 vTextureCoord;
            varying vec2 vGlobalTextureCoord;
            varying vec4 v_vertex;
            varying float v_height;

            ${CORNERS}

            ${INSIDE_BOX}

            ${NIGHT}

            void blend(
                out vec4 dest,
                in sampler2D sampler,
                in vec4 tileOffset,
                in vec4 visibleExtentOffset,
                in float opacity,
                in vec4 specular,
                in vec3 ambient,
                in vec3 diffuse)
            {
                vec4 src = texture( sampler, tileOffset.xy + vTextureCoord.xy * tileOffset.zw );

                float emptiness = opacity * insideBox(visibleExtentOffset.xy + vTextureCoord.xy * visibleExtentOffset.zw);

                dest = dest * (1.0 - src.a * emptiness) + src * emptiness;
            }


            void main(void) {

                float overGround = 1.0 - step(0.1, v_height);
                vec3 normal = normalize(normalMatrix * ((texture2D(uNormalMap, vTextureCoord.zw).rgb - 0.5) * 2.0));
                vec3 lightDirection = normalize(lightsPositions[0].xyz - v_vertex.xyz * lightsPositions[0].w);
                vec3 eyeDirection = normalize(-v_vertex.xyz);
                vec3 reflectionDirection = reflect(-lightDirection, normal);
                vec4 nightImageColor = texture2D( nightTexture, vGlobalTextureCoord.st );
                float shininess = texture2D( specularTexture, vGlobalTextureCoord.st ).r * 255.0 * overGround;
                float reflection = max( dot(reflectionDirection, eyeDirection), 0.0);
                float diffuseLightWeighting = max(dot(normal, lightDirection), 0.0);
                vec3 night = nightStep * (0.3 - diffuseLightWeighting) * nightImageColor.rgb;
                night *= overGround * step(0.0, night);



                vec3 spec = specular.rgb * pow( reflection, specular.w) * shininess;
                vec3 lightWeighting = ambient + diffuse * diffuseLightWeighting + spec;

                vec4 t = texture2D( defaultTexture, vTextureCoord.xy );
                gl_FragColor = vec4(t.rgb * lightWeighting + night + spec, t.a);
                if( samplerCount == 0 ) return;

                blend(gl_FragColor, samplerArr[0], tileOffsetArr[0], visibleExtentOffsetArr[0], layerOpacityArr[0]);
                if( samplerCount == 1 ) return;

                blend(gl_FragColor, samplerArr[1], tileOffsetArr[1], visibleExtentOffsetArr[1], layerOpacityArr[1]);
                if( samplerCount == 2 ) return;

                blend(gl_FragColor, samplerArr[2], tileOffsetArr[2], visibleExtentOffsetArr[2], layerOpacityArr[2]);
                if( samplerCount == 3 ) return;

                blend(gl_FragColor, samplerArr[3], tileOffsetArr[3], visibleExtentOffsetArr[3], layerOpacityArr[3]);
                if( samplerCount == 4 ) return;

                blend(gl_FragColor, samplerArr[4], tileOffsetArr[4], visibleExtentOffsetArr[4], layerOpacityArr[4]);
            }`
    });
}

export function drawnode_screen_wl_webgl2() {
    return new Program("drawnode_screen_wl", {
        uniforms: {
            projectionMatrix: "mat4",
            viewMatrix: "mat4",
            eyePositionHigh: "vec3",
            eyePositionLow: "vec3",
            height: "float",

            uGlobalTextureCoord: "vec4",
            uNormalMapBias: "vec3",

            samplerCount: "int",
            tileOffsetArr: "vec4",
            visibleExtentOffsetArr: "vec4",
            layerOpacityArr: "float",
            samplerArr: "sampler2darray",
            defaultTexture: "sampler2d",
            normalMatrix: "mat3",
            uNormalMap: "sampler2d",
            nightTexture: "sampler2d",
            specularTexture: "sampler2d",
            lightsPositions: "vec4",
            diffuse: "vec3",
            ambient: "vec3",
            specular: "vec4"
        },
        attributes: {
            aVertexPositionHigh: "vec3",
            aVertexPositionLow: "vec3",
            aTextureCoord: "vec2"
        },

        vertexShader: `#version 300 es

            in vec3 aVertexPositionHigh;
            in vec3 aVertexPositionLow;
            in vec2 aTextureCoord;

            uniform mat4 projectionMatrix;
            uniform mat4 viewMatrix;
            uniform float height;
            uniform vec4 uGlobalTextureCoord;
            uniform vec3 uNormalMapBias;
            uniform vec3 eyePositionHigh;
            uniform vec3 eyePositionLow;

            out vec4 vTextureCoord;
            out vec2 vGlobalTextureCoord;
            out vec4 v_vertex;
            out float v_height;

            void main(void) {

                vec3 aVertexPosition = aVertexPositionHigh + aVertexPositionLow;
                vec3 highDiff = aVertexPositionHigh - eyePositionHigh;
                vec3 lowDiff = aVertexPositionLow + normalize(aVertexPosition) * height - eyePositionLow;

                mat4 viewMatrixRTE = viewMatrix;
                viewMatrixRTE[3] = vec4(0.0, 0.0, 0.0, 1.0);

                v_height = height;
                vec3 heightVertex = aVertexPosition + normalize(aVertexPosition) * height;
                v_vertex = viewMatrix * vec4(heightVertex, 1.0);
                vTextureCoord.xy = aTextureCoord;
                vGlobalTextureCoord = uGlobalTextureCoord.xy + (uGlobalTextureCoord.zw - uGlobalTextureCoord.xy) * aTextureCoord;
                vTextureCoord.zw = uNormalMapBias.z * ( aTextureCoord + uNormalMapBias.xy );
                gl_Position = projectionMatrix * viewMatrixRTE * vec4(highDiff + lowDiff, 1.0);
            }`,

        fragmentShader: `#version 300 es

            precision highp float;

            #define MAX_POINT_LIGHTS 1
            #define MAX_OVERLAYS 5
            #define MAX_OVERLAYS_PLUS_ONE 6

            uniform vec3 diffuse;
            uniform vec3 ambient;
            uniform vec4 specular;

            uniform sampler2D uNormalMap;
            uniform vec4 lightsPositions[MAX_POINT_LIGHTS];
            uniform mat3 normalMatrix;
            uniform sampler2D nightTexture;
            uniform sampler2D specularTexture;

            uniform vec4 tileOffsetArr[MAX_OVERLAYS];
            uniform vec4 visibleExtentOffsetArr[MAX_OVERLAYS];
            uniform float layerOpacityArr[MAX_OVERLAYS];

            uniform sampler2D defaultTexture;
            uniform sampler2D samplerArr[MAX_OVERLAYS];
            uniform int samplerCount;

            in vec4 vTextureCoord;
            in vec2 vGlobalTextureCoord;
            in vec4 v_vertex;
            in float v_height;

            float shininess;
            float reflection;
            float diffuseLightWeighting;
            vec3 night;

            layout(location = 0) out vec4 fragColor;

            ${CORNERS}

            ${INSIDE_BOX}

            ${NIGHT}

            void blend(
                out vec4 dest,
                in sampler2D sampler,
                in vec4 tileOffset,
                in vec4 visibleExtentOffset,
                in float opacity)
            {
                vec4 src = texture( sampler, tileOffset.xy + vTextureCoord.xy * tileOffset.zw );
                float emptiness = opacity * insideBox(visibleExtentOffset.xy + vTextureCoord.xy * visibleExtentOffset.zw);
                dest = dest * (1.0 - src.a * emptiness) + src * emptiness;
            }

            void main(void) {

                float overGround = 1.0 - step(0.1, v_height);
                vec3 normal = normalize(normalMatrix * ((texture(uNormalMap, vTextureCoord.zw).rgb - 0.5) * 2.0));
                vec3 lightDirection = normalize(lightsPositions[0].xyz - v_vertex.xyz * lightsPositions[0].w);
                vec3 eyeDirection = normalize(-v_vertex.xyz);
                vec3 reflectionDirection = reflect(-lightDirection, normal);
                vec4 nightImageColor = texture( nightTexture, vGlobalTextureCoord.st );

                shininess = texture( specularTexture, vGlobalTextureCoord.st ).r * 255.0 * overGround;
                reflection = max( dot(reflectionDirection, eyeDirection), 0.0);
                diffuseLightWeighting = max(dot(normal, lightDirection), 0.0);
                night = nightStep * (.18 - diffuseLightWeighting * 3.0) * nightImageColor.rgb;
                night *= overGround * step(0.0, night);

                vec3 spec = specular.rgb * pow( reflection, specular.w) * shininess;
                vec4 lightWeighting = vec4(ambient + diffuse * diffuseLightWeighting + spec + night, 1.0);

                fragColor = texture( defaultTexture, vTextureCoord.xy );
                if( samplerCount == 0 ) {
                    fragColor *= lightWeighting;
                    return;
                }

                blend(fragColor, samplerArr[0], tileOffsetArr[0], visibleExtentOffsetArr[0], layerOpacityArr[0]);
                if( samplerCount == 1 ) {
                    fragColor *= lightWeighting;
                    return;
                }

                blend(fragColor, samplerArr[1], tileOffsetArr[1], visibleExtentOffsetArr[1], layerOpacityArr[1]);
                if( samplerCount == 2 ) {
                    fragColor *= lightWeighting;
                    return;
                }

                blend(fragColor, samplerArr[2], tileOffsetArr[2], visibleExtentOffsetArr[2], layerOpacityArr[2]);
                if( samplerCount == 3 ) {
                    fragColor *= lightWeighting;
                    return;
                }

                blend(fragColor, samplerArr[3], tileOffsetArr[3], visibleExtentOffsetArr[3], layerOpacityArr[3]);
                if( samplerCount == 4 ) {
                    fragColor *= lightWeighting;
                    return;
                }

                blend(fragColor, samplerArr[4], tileOffsetArr[4], visibleExtentOffsetArr[4], layerOpacityArr[4]);
                fragColor *= lightWeighting;
            }`
    });
}

export function drawnode_colorPicking() {
    return new Program("drawnode_colorPicking", {
        uniforms: {
            projectionMatrix: "mat4",
            viewMatrix: "mat4",
            eyePositionHigh: "vec3",
            eyePositionLow: "vec3",
            samplerCount: "int",
            tileOffsetArr: "vec4",
            visibleExtentOffsetArr: "vec4",
            samplerArr: "sampler2darray",
            pickingMaskArr: "sampler2darray",
            pickingColorArr: "vec4",
            height: "float"
        },
        attributes: {
            aVertexPositionHigh: "vec3",
            aVertexPositionLow: "vec3",
            aTextureCoord: "vec2"
        },

        vertexShader: `attribute vec3 aVertexPositionHigh;
            attribute vec3 aVertexPositionLow;
            attribute vec2 aTextureCoord;

            uniform mat4 projectionMatrix;
            uniform mat4 viewMatrix;
            uniform vec3 eyePositionHigh;
            uniform vec3 eyePositionLow;
            uniform float height;

            varying vec2 vTextureCoord;

            void main(void) {

                vec3 aVertexPosition = aVertexPositionHigh + aVertexPositionLow;
                vec3 highDiff = aVertexPositionHigh - eyePositionHigh;
                vec3 lowDiff = aVertexPositionLow + normalize(aVertexPosition) * height - eyePositionLow;

                mat4 viewMatrixRTE = viewMatrix;
                viewMatrixRTE[3] = vec4(0.0, 0.0, 0.0, 1.0);

                vTextureCoord = aTextureCoord;
                gl_Position = projectionMatrix * viewMatrixRTE * vec4(highDiff + lowDiff, 1.0);
            }`,

        fragmentShader: `precision highp float;
            uniform vec4 tileOffsetArr[5];
            uniform vec4 visibleExtentOffsetArr[5];
            uniform vec4 pickingColorArr[5];
            uniform sampler2D samplerArr[5];
            uniform sampler2D pickingMaskArr[5];
            uniform int samplerCount;
            varying vec2 vTextureCoord;

            ${CORNERS}

            ${INSIDE_BOX}

            void main(void) {
                gl_FragColor = vec4(0.0);
                if( samplerCount == 0 ) return;

                vec2 tc = tileOffsetArr[0].xy + vTextureCoord.xy * tileOffsetArr[0].zw;
                float ins = insideBox(visibleExtentOffsetArr[0].xy + vTextureCoord.xy * visibleExtentOffsetArr[0].zw);
                vec4 t = texture2D( samplerArr[0], tc ) * ins;
                vec4 p = texture2D( pickingMaskArr[0], tc ) * ins;
                gl_FragColor = mix( gl_FragColor, vec4(max(pickingColorArr[0].rgb, p.rgb), 1.0), t.a * pickingColorArr[0].a);
                if( samplerCount == 1 ) return;

                tc = tileOffsetArr[1].xy + vTextureCoord.xy * tileOffsetArr[1].zw;
                ins = insideBox(visibleExtentOffsetArr[1].xy + vTextureCoord.xy * visibleExtentOffsetArr[1].zw);
                t = texture2D( samplerArr[1], tc ) * ins;
                p = texture2D( pickingMaskArr[1], tc ) * ins;
                gl_FragColor = mix( gl_FragColor, vec4(max(pickingColorArr[1].rgb, p.rgb), 1.0), t.a * pickingColorArr[1].a);
                if( samplerCount == 2 ) return;

                tc = tileOffsetArr[2].xy + vTextureCoord.xy * tileOffsetArr[2].zw;
                ins = insideBox(visibleExtentOffsetArr[2].xy + vTextureCoord.xy * visibleExtentOffsetArr[2].zw);
                t = texture2D( samplerArr[2], tc ) * ins;
                p = texture2D( pickingMaskArr[2], tc ) * ins;
                gl_FragColor = mix( gl_FragColor, vec4(max(pickingColorArr[2].rgb, p.rgb), 1.0), t.a * pickingColorArr[2].a);
                if( samplerCount == 3 ) return;

                tc = tileOffsetArr[3].xy + vTextureCoord.xy * tileOffsetArr[3].zw;
                ins = insideBox(visibleExtentOffsetArr[3].xy + vTextureCoord.xy * visibleExtentOffsetArr[3].zw);
                t = texture2D( samplerArr[3], tc ) * ins;
                p = texture2D( pickingMaskArr[3], tc ) * ins;
                gl_FragColor = mix( gl_FragColor, vec4(max(pickingColorArr[3].rgb, p.rgb), 1.0), t.a * pickingColorArr[3].a);
                if( samplerCount == 4 ) return;

                tc = tileOffsetArr[4].xy + vTextureCoord.xy * tileOffsetArr[4].zw;
                ins = insideBox(visibleExtentOffsetArr[4].xy + vTextureCoord.xy * visibleExtentOffsetArr[4].zw);
                t = texture2D( samplerArr[4], tc ) * ins;
                p = texture2D( pickingMaskArr[4], tc ) * ins;
                gl_FragColor = mix( gl_FragColor, vec4(max(pickingColorArr[4].rgb, p.rgb), 1.0), t.a * pickingColorArr[4].a);
            }`
    });
}

export function drawnode_heightPicking() {
    return new Program("drawnode_heightPicking", {
        uniforms: {
            projectionMatrix: "mat4",
            viewMatrix: "mat4",
            samplerCount: "int",
            tileOffsetArr: "vec4",
            visibleExtentOffsetArr: "vec4",
            samplerArr: "sampler2darray",
            defaultTexture: "sampler2d",
            height: "float",
            eyePositionHigh: "vec3",
            eyePositionLow: "vec3"
        },
        attributes: {
            aVertexPositionHigh: "vec3",
            aVertexPositionLow: "vec3",
            aTextureCoord: "vec2"
        },

        vertexShader: `attribute vec3 aVertexPositionHigh;
            attribute vec3 aVertexPositionLow;
            attribute vec2 aTextureCoord;

            uniform mat4 projectionMatrix;
            uniform mat4 viewMatrix;
            uniform float height;
            uniform vec3 eyePositionHigh;
            uniform vec3 eyePositionLow;

            varying vec2 vTextureCoord;
            varying float range;

            void main(void) {

                vec3 cameraPosition = eyePositionHigh + eyePositionLow;
                vec3 aVertexPosition = aVertexPositionHigh + aVertexPositionLow;

                vec3 highDiff = aVertexPositionHigh - eyePositionHigh;
                vec3 lowDiff = aVertexPositionLow + normalize(aVertexPosition) * height - eyePositionLow;

                mat4 viewMatrixRTE = viewMatrix;
                viewMatrixRTE[3] = vec4(0.0, 0.0, 0.0, 1.0);

                range = distance(cameraPosition, aVertexPosition + normalize(aVertexPosition) * height);
                vTextureCoord = aTextureCoord;
                gl_Position = projectionMatrix * viewMatrixRTE * vec4(highDiff + lowDiff, 1.0);
            }`,

        fragmentShader: `precision highp float;
            uniform sampler2D defaultTexture;
            uniform vec4 tileOffsetArr[5];
            uniform vec4 visibleExtentOffsetArr[5];
            uniform sampler2D samplerArr[5];
            uniform int samplerCount;
            varying vec2 vTextureCoord;
            varying float range;

            ${CORNERS}

            ${INSIDE_BOX}

            vec3 encode24(highp float f) {
                float F = abs(f);
                float s = step( 0.0, -f );
                float e = floor( log2(F) );
                float m = exp2(- e) * F;
                e = floor( log2(F) + 127.0 ) + floor( log2(m) );
                return vec3(
                    ( 128.0 * s + floor( e * exp2(-1.0) ) ) / 255.0,
                    ( 128.0 * mod( e, 2.0 ) + mod( floor( m * 128.0 ), 128.0 ) ) / 255.0,
                    floor( mod( floor( m * exp2( 23.0 - 8.0) ), exp2(8.0) ) ) / 255.0);
            }

            void main(void) {
                gl_FragColor = vec4(encode24(range), texture2D( defaultTexture, vTextureCoord ).a);
                if( samplerCount == 0 ) return;

                vec4 t = texture2D( samplerArr[0], tileOffsetArr[0].xy + vTextureCoord * tileOffsetArr[0].zw ) * insideBox(visibleExtentOffsetArr[0].xy + vTextureCoord * visibleExtentOffsetArr[0].zw);
                gl_FragColor = mix( gl_FragColor, vec4(encode24(range), 1.0), 1.0);
                if( samplerCount == 1 ) return;

            //    t = texture2D( samplerArr[1], tileOffsetArr[1].xy + vTextureCoord * tileOffsetArr[1].zw ) * insideBox(visibleExtentOffsetArr[1].xy + vTextureCoord * visibleExtentOffsetArr[1].zw);
            //    gl_FragColor = mix( gl_FragColor, vec4(encode24(range), 1.0), 1.0);
            //    if( samplerCount == 2 ) return;

            //    t = texture2D( samplerArr[2], tileOffsetArr[2].xy + vTextureCoord * tileOffsetArr[2].zw ) * insideBox(visibleExtentOffsetArr[2].xy + vTextureCoord * visibleExtentOffsetArr[2].zw);
            //    gl_FragColor = mix( gl_FragColor, vec4(encode24(range), 1.0), 1.0);
            //    if( samplerCount == 3 ) return;

            //    t = texture2D( samplerArr[3], tileOffsetArr[3].xy + vTextureCoord * tileOffsetArr[3].zw ) * insideBox(visibleExtentOffsetArr[3].xy + vTextureCoord * visibleExtentOffsetArr[3].zw);
            //    gl_FragColor = mix( gl_FragColor, vec4(encode24(range), 1.0), 1.0);
            //    if( samplerCount == 4 ) return;

            //    t = texture2D( samplerArr[4], tileOffsetArr[4].xy + vTextureCoord * tileOffsetArr[4].zw ) * insideBox(visibleExtentOffsetArr[4].xy + vTextureCoord * visibleExtentOffsetArr[4].zw);
            //    gl_FragColor = mix( gl_FragColor, vec4(encode24(range), 1.0), 1.0);
            }`
    });
}

export function drawnode_depth() {
    return new Program("drawnode_depth", {
        uniforms: {
            projectionMatrix: "mat4",
            viewMatrix: "mat4",
            samplerCount: "int",
            tileOffsetArr: "vec4",
            visibleExtentOffsetArr: "vec4",
            samplerArr: "sampler2darray",
            defaultTexture: "sampler2d",
            height: "float",
            eyePositionHigh: "vec3",
            eyePositionLow: "vec3",
            frustumPickingColor: "vec3"
        },
        attributes: {
            aVertexPositionHigh: "vec3",
            aVertexPositionLow: "vec3",
            aTextureCoord: "vec2"
        },

        vertexShader: `#version 300 es
            in vec3 aVertexPositionHigh;
            in vec3 aVertexPositionLow;
            in vec2 aTextureCoord;

            uniform mat4 projectionMatrix;
            uniform mat4 viewMatrix;
            uniform float height;
            uniform vec3 eyePositionHigh;
            uniform vec3 eyePositionLow;

            out vec2 vTextureCoord;

            void main(void) {

                vec3 cameraPosition = eyePositionHigh + eyePositionLow;
                vec3 aVertexPosition = aVertexPositionHigh + aVertexPositionLow;

                vec3 highDiff = aVertexPositionHigh - eyePositionHigh;
                vec3 lowDiff = aVertexPositionLow + normalize(aVertexPosition) * height - eyePositionLow;

                mat4 viewMatrixRTE = viewMatrix;
                viewMatrixRTE[3] = vec4(0.0, 0.0, 0.0, 1.0);

                vTextureCoord = aTextureCoord;
                gl_Position = projectionMatrix * viewMatrixRTE * vec4(highDiff + lowDiff, 1.0);
            }`,

        fragmentShader: `#version 300 es
            precision highp float;
            uniform sampler2D defaultTexture;
            uniform vec4 tileOffsetArr[5];
            uniform vec4 visibleExtentOffsetArr[5];
            uniform sampler2D samplerArr[5];
            uniform int samplerCount;
            uniform vec3 frustumPickingColor;

            in vec2 vTextureCoord;

            layout(location = 0) out vec4 frustumColor;

            ${CORNERS}

            ${INSIDE_BOX}

            void main(void) {

            frustumColor = vec4(frustumPickingColor, texture(defaultTexture, vTextureCoord).a);
            if(samplerCount == 0) return;

            vec4 t = texture(samplerArr[0], tileOffsetArr[0].xy + vTextureCoord * tileOffsetArr[0].zw) * insideBox(visibleExtentOffsetArr[0].xy + vTextureCoord * visibleExtentOffsetArr[0].zw);
            frustumColor = mix(frustumColor, vec4(frustumPickingColor, 1.0), 1.0);
            if (samplerCount == 1) return;

            //t = texture(samplerArr[1], tileOffsetArr[1].xy + vTextureCoord * tileOffsetArr[1].zw) * insideBox(visibleExtentOffsetArr[1].xy + vTextureCoord * visibleExtentOffsetArr[1].zw);
            //frustumColor = mix(frustumColor, vec4(frustumPickingColor, 1.0), 1.0);
            //if (samplerCount == 2) return;

            //t = texture(samplerArr[2], tileOffsetArr[2].xy + vTextureCoord * tileOffsetArr[2].zw) * insideBox(visibleExtentOffsetArr[2].xy + vTextureCoord * visibleExtentOffsetArr[2].zw);
            //frustumColor = mix(frustumColor, vec4(frustumPickingColor, 1.0), 1.0);
            //if (samplerCount == 3) return;

            //t = texture(samplerArr[3], tileOffsetArr[3].xy + vTextureCoord * tileOffsetArr[3].zw) * insideBox(visibleExtentOffsetArr[3].xy + vTextureCoord * visibleExtentOffsetArr[3].zw);
            //frustumColor = mix(frustumColor, vec4(frustumPickingColor, 1.0), 1.0);
            //if (samplerCount == 4) return;

            //t = texture(samplerArr[4], tileOffsetArr[4].xy + vTextureCoord * tileOffsetArr[4].zw) * insideBox(visibleExtentOffsetArr[4].xy + vTextureCoord * visibleExtentOffsetArr[4].zw);
            //frustumColor = mix(frustumColor, vec4(frustumPickingColor, 1.0), 1.0);
} `
    });
}
</code></pre></article></section></div></div></div><div class="search-container" id="PkfLWpAbet" style="display:none"><div class="wrapper" id="iCxFxjkHbP"><button class="icon-button search-close-button" id="VjLlGakifb" aria-label="close search"><svg><use xlink:href="#close-icon"></use></svg></button><div class="search-box-c"><svg><use xlink:href="#search-icon"></use></svg> <input type="text" id="vpcKVYIppa" class="search-input" placeholder="Search..." autofocus></div><div class="search-result-c" id="fWwVHRuDuN"><span class="search-result-c-text">Type anything to view search result</span></div></div></div><div class="mobile-menu-icon-container"><button class="icon-button" id="mobile-menu" data-isopen="false" aria-label="menu"><svg><use xlink:href="#menu-icon"></use></svg></button></div><div id="mobile-sidebar" class="mobile-sidebar-container"><div class="mobile-sidebar-wrapper">Openglobus <img src="https://avatars.githubusercontent.com/u/2453835?s=200&v=4"><div class="mobile-nav-links"></div><div class="mobile-sidebar-items-c"><div class="sidebar-section-title with-arrow" data-isopen="false" id="f0CM1cZxcPssViuHBCRWV"><div>Modules</div><svg><use xlink:href="#down-icon"></use></svg></div><div class="sidebar-section-children-container"><div class="sidebar-section-children"><a href="module-og_Clock.html">og/Clock</a></div><div class="sidebar-section-children"><a href="module-og_Events.html">og/Events</a></div><div class="sidebar-section-children"><a href="module-og_Extent.html">og/Extent</a></div><div class="sidebar-section-children"><a href="module-og_Globe.html">og/Globe</a></div><div class="sidebar-section-children"><a href="module-og_ImageCanvas.html">og/ImageCanvas</a></div><div class="sidebar-section-children"><a href="module-og_Lock.html">og/Lock</a></div><div class="sidebar-section-children"><a href="module-og_LonLat.html">og/LonLat</a></div><div class="sidebar-section-children"><a href="module-og_Stack.html">og/Stack</a></div><div class="sidebar-section-children"><a href="module-og_astro_earth.html">og/astro/earth</a></div><div class="sidebar-section-children"><a href="module-og_astro_jd.html">og/astro/jd</a></div><div class="sidebar-section-children"><a href="module-og_astro_orbit.html">og/astro/orbit</a></div><div class="sidebar-section-children"><a href="module-og_astro_rotation.html">og/astro/rotation</a></div><div class="sidebar-section-children"><a href="module-og_bv_Box.html">og/bv/Box</a></div><div class="sidebar-section-children"><a href="module-og_bv_Sphere.html">og/bv/Sphere</a></div><div class="sidebar-section-children"><a href="module-og_camera_PlanetCamera.html">og/camera/PlanetCamera</a></div><div class="sidebar-section-children"><a href="module-og_control_Atmosphere.html">og/control/Atmosphere</a></div><div class="sidebar-section-children"><a href="module-og_control_Control.html">og/control/Control</a></div><div class="sidebar-section-children"><a href="module-og_control_DebugInfo.html">og/control/DebugInfo</a></div><div class="sidebar-section-children"><a href="module-og_control_GeoImageDragControl.html">og/control/GeoImageDragControl</a></div><div class="sidebar-section-children"><a href="module-og_control_KeyboardNavigation.html">og/control/KeyboardNavigation</a></div><div class="sidebar-section-children"><a href="module-og_control_LayerAnimation.html">og/control/LayerAnimation</a></div><div class="sidebar-section-children"><a href="module-og_control_LayerSwitcher.html">og/control/LayerSwitcher</a></div><div class="sidebar-section-children"><a href="module-og_control_Lighting.html">og/control/Lighting</a></div><div class="sidebar-section-children"><a href="module-og_control_MouseNavigation.html">og/control/MouseNavigation</a></div><div class="sidebar-section-children"><a href="module-og_control_MouseWheelZoomControl.html">og/control/MouseWheelZoomControl</a></div><div class="sidebar-section-children"><a href="module-og_control_Ruler.html">og/control/Ruler</a></div><div class="sidebar-section-children"><a href="module-og_control_Ruler.html">og/control/Ruler</a></div><div class="sidebar-section-children"><a href="module-og_control_Selector.html">og/control/Selector</a></div><div class="sidebar-section-children"><a href="module-og_control_ShowFps.html">og/control/ShowFps</a></div><div class="sidebar-section-children"><a href="module-og_control_SimpleSkyBackground.html">og/control/SimpleSkyBackground</a></div><div class="sidebar-section-children"><a href="module-og_control_Sun.html">og/control/Sun</a></div><div class="sidebar-section-children"><a href="module-og_control_ToggleWireframe.html">og/control/ToggleWireframe</a></div><div class="sidebar-section-children"><a href="module-og_control_TouchNavigation.html">og/control/TouchNavigation</a></div><div class="sidebar-section-children"><a href="module-og_control_ZoomControl.html">og/control/ZoomControl</a></div><div class="sidebar-section-children"><a href="module-og_control_ZoomControl.html">og/control/ZoomControl</a></div><div class="sidebar-section-children"><a href="module-og_ellipsoid_Ellipsoid.html">og/ellipsoid/Ellipsoid</a></div><div class="sidebar-section-children"><a href="module-og_ellipsoid_wgs84.html">og/ellipsoid/wgs84</a></div><div class="sidebar-section-children"><a href="module-og_entity_BaseBillboard.html">og/entity/BaseBillboard</a></div><div class="sidebar-section-children"><a href="module-og_entity_BaseBillboard.html">og/entity/BaseBillboard</a></div><div class="sidebar-section-children"><a href="module-og_entity_Billboard.html">og/entity/Billboard</a></div><div class="sidebar-section-children"><a href="module-og_entity_BillboardHandler.html">og/entity/BillboardHandler</a></div><div class="sidebar-section-children"><a href="module-og_entity_Entity.html">og/entity/Entity</a></div><div class="sidebar-section-children"><a href="module-og_entity_EntityCollection.html">og/entity/EntityCollection</a></div><div class="sidebar-section-children"><a href="module-og_entity_GeoObject.html">og/entity/GeoObject</a></div><div class="sidebar-section-children"><a href="module-og_entity_GeoObjectHandler.html">og/entity/GeoObjectHandler</a></div><div class="sidebar-section-children"><a href="module-og_entity_Geometry.html">og/entity/Geometry</a></div><div class="sidebar-section-children"><a href="module-og_entity_GeometryHandler.html">og/entity/GeometryHandler</a></div><div class="sidebar-section-children"><a href="module-og_entity_Label.html">og/entity/Label</a></div><div class="sidebar-section-children"><a href="module-og_entity_LabelHandler.html">og/entity/LabelHandler</a></div><div class="sidebar-section-children"><a href="module-og_entity_PointCloud.html">og/entity/PointCloud</a></div><div class="sidebar-section-children"><a href="module-og_entity_PointCloudHandler.html">og/entity/PointCloudHandler</a></div><div class="sidebar-section-children"><a href="module-og_entity_Polyline.html">og/entity/Polyline</a></div><div class="sidebar-section-children"><a href="module-og_entity_PolylineHandler.html">og/entity/PolylineHandler</a></div><div class="sidebar-section-children"><a href="module-og_input_KeyboardHandler.html">og/input/KeyboardHandler</a></div><div class="sidebar-section-children"><a href="module-og_input_MouseHandler.html">og/input/MouseHandler</a></div><div class="sidebar-section-children"><a href="module-og_input_TouchHandler.html">og/input/TouchHandler</a></div><div class="sidebar-section-children"><a href="module-og_input_input.html">og/input/input</a></div><div class="sidebar-section-children"><a href="module-og_layer_BaseGeoImage.html">og/layer/BaseGeoImage</a></div><div class="sidebar-section-children"><a href="module-og_layer_CanvasTiles.html">og/layer/CanvasTiles</a></div><div class="sidebar-section-children"><a href="module-og_layer_GeoImage.html">og/layer/GeoImage</a></div><div class="sidebar-section-children"><a href="module-og_layer_GeoTexture2d.html">og/layer/GeoTexture2d</a></div><div class="sidebar-section-children"><a href="module-og_layer_GeoVideo.html">og/layer/GeoVideo</a></div><div class="sidebar-section-children"><a href="module-og_layer_KML.html">og/layer/KML</a></div><div class="sidebar-section-children"><a href="module-og_layer_Layer.html">og/layer/Layer</a></div><div class="sidebar-section-children"><a href="module-og_layer_Material.html">og/layer/Material</a></div><div class="sidebar-section-children"><a href="module-og_layer_Vector.html">og/layer/Vector</a></div><div class="sidebar-section-children"><a href="module-og_layer_WMS.html">og/layer/WMS</a></div><div class="sidebar-section-children"><a href="module-og_layer_XYZ.html">og/layer/XYZ</a></div><div class="sidebar-section-children"><a href="module-og_light_LightSource.html">og/light/LightSource</a></div><div class="sidebar-section-children"><a href="module-og_math.html">og/math</a></div><div class="sidebar-section-children"><a href="module-og_math_Line2.html">og/math/Line2</a></div><div class="sidebar-section-children"><a href="module-og_math_Mat3.html">og/math/Mat3</a></div><div class="sidebar-section-children"><a href="module-og_math_Ray.html">og/math/Ray</a></div><div class="sidebar-section-children"><a href="module-og_math_Vec2.html">og/math/Vec2</a></div><div class="sidebar-section-children"><a href="module-og_math_Vec3.html">og/math/Vec3</a></div><div class="sidebar-section-children"><a href="module-og_math_Vec4.html">og/math/Vec4</a></div><div class="sidebar-section-children"><a href="module-og_math_coder.html">og/math/coder</a></div><div class="sidebar-section-children"><a href="module-og_mercator.html">og/mercator</a></div><div class="sidebar-section-children"><a href="module-og_proj_EPSG3857.html">og/proj/EPSG3857</a></div><div class="sidebar-section-children"><a href="module-og_proj_EPSG4326.html">og/proj/EPSG4326</a></div><div class="sidebar-section-children"><a href="module-og_proj_Proj.html">og/proj/Proj</a></div><div class="sidebar-section-children"><a href="module-og_quadTree_EntityCollectionNode.html">og/quadTree/EntityCollectionNode</a></div><div class="sidebar-section-children"><a href="module-og_renderer_RendererEvents.html">og/renderer/RendererEvents</a></div><div class="sidebar-section-children"><a href="module-og_scene_Axes.html">og/scene/Axes</a></div><div class="sidebar-section-children"><a href="module-og_scene_BaseNode.html">og/scene/BaseNode</a></div><div class="sidebar-section-children"><a href="module-og_scene_Planet.html">og/scene/Planet</a></div><div class="sidebar-section-children"><a href="module-og_scene_SkyBox.html">og/scene/SkyBox</a></div><div class="sidebar-section-children"><a href="module-og_shaders_billboard.html">og/shaders/billboard</a></div><div class="sidebar-section-children"><a href="module-og_shaders_drawnode.html">og/shaders/drawnode</a></div><div class="sidebar-section-children"><a href="module-og_shaders_drawnode.html">og/shaders/drawnode</a></div><div class="sidebar-section-children"><a href="module-og_shaders_drawnode.html">og/shaders/drawnode</a></div><div class="sidebar-section-children"><a href="module-og_shaders_label.html">og/shaders/label</a></div><div class="sidebar-section-children"><a href="module-og_shaders_pickingMask.html">og/shaders/pickingMask</a></div><div class="sidebar-section-children"><a href="module-og_shaders_pointCloud.html">og/shaders/pointCloud</a></div><div class="sidebar-section-children"><a href="module-og_shaders_polyline.html">og/shaders/polyline</a></div><div class="sidebar-section-children"><a href="module-og_shaders_ray.html">og/shaders/ray</a></div><div class="sidebar-section-children"><a href="module-og_shaders_skybox.html">og/shaders/skybox</a></div><div class="sidebar-section-children"><a href="module-og_terrainProvider_EmptyTerrain.html">og/terrainProvider/EmptyTerrain</a></div><div class="sidebar-section-children"><a href="module-og_utils_FontAtlas.html">og/utils/FontAtlas</a></div><div class="sidebar-section-children"><a href="module-og_utils_NormalMapCreator.html">og/utils/NormalMapCreator</a></div><div class="sidebar-section-children"><a href="module-og_utils_VectorTileCreator.html">og/utils/VectorTileCreator</a></div><div class="sidebar-section-children"><a href="module-og_utils_earcut.html">og/utils/earcut</a></div><div class="sidebar-section-children"><a href="module-og_utils_shared.html">og/utils/shared</a></div><div class="sidebar-section-children"><a href="module-og_webgl_Framebuffer.html">og/webgl/Framebuffer</a></div><div class="sidebar-section-children"><a href="module-og_webgl_Handler.html">og/webgl/Handler</a></div><div class="sidebar-section-children"><a href="module-og_webgl_Multisample.html">og/webgl/Multisample</a></div><div class="sidebar-section-children"><a href="module-og_webgl_Program.html">og/webgl/Program</a></div><div class="sidebar-section-children"><a href="module-og_webgl_callbacks.html">og/webgl/callbacks</a></div><div class="sidebar-section-children"><a href="module-og_webgl_types.html">og/webgl/types</a></div></div><div class="sidebar-section-title with-arrow" data-isopen="false" id="t1i9a_zlGtPSIO30JZqJm"><div>Classes</div><svg><use xlink:href="#down-icon"></use></svg></div><div class="sidebar-section-children-container"><div class="sidebar-section-children"><a href="Camera.html">Camera</a></div><div class="sidebar-section-children"><a href="CompassButton.html">CompassButton</a></div><div class="sidebar-section-children"><a href="Cons.html">Cons</a></div><div class="sidebar-section-children"><a href="EarthCoordinates.html">EarthCoordinates</a></div><div class="sidebar-section-children"><a href="Frustum.html">Frustum</a></div><div class="sidebar-section-children"><a href="GlobusTerrain.html">GlobusTerrain</a></div><div class="sidebar-section-children"><a href="Mat4.html">Mat4</a></div><div class="sidebar-section-children"><a href="Node.html">Node</a></div><div class="sidebar-section-children"><a href="Plane.html">Plane</a></div><div class="sidebar-section-children"><a href="ProgramController.html">ProgramController</a></div><div class="sidebar-section-children"><a href="Quat.html">Quat</a></div><div class="sidebar-section-children"><a href="QueueArray.html">QueueArray</a></div><div class="sidebar-section-children"><a href="Rectangle.html">Rectangle</a></div><div class="sidebar-section-children"><a href="RenderNode.html">RenderNode</a></div><div class="sidebar-section-children"><a href="Segment.html">Segment</a></div><div class="sidebar-section-children"><a href="Segment.html">Segment</a></div><div class="sidebar-section-children"><a href="SegmentBoundVisualization.html">SegmentBoundVisualization</a></div><div class="sidebar-section-children"><a href="SegmentLonLat.html">SegmentLonLat</a></div><div class="sidebar-section-children"><a href="SimpleNavigation.html">SimpleNavigation</a></div><div class="sidebar-section-children"><a href="Strip.html">Strip</a></div><div class="sidebar-section-children"><a href="TextureAtlas.html">TextureAtlas</a></div><div class="sidebar-section-children"><a href="TextureAtlasNode.html">TextureAtlasNode</a></div><div class="sidebar-section-children"><a href="VisibleExtent.html">VisibleExtent</a></div><div class="sidebar-section-children"><a href="-__resizeTimeout.html">__resizeTimeout</a></div><div class="sidebar-section-children"><a href="module-og_Clock-Clock.html">Clock</a></div><div class="sidebar-section-children"><a href="module-og_Events-Events.html">Events</a></div><div class="sidebar-section-children"><a href="module-og_Extent.Extent.html">Extent</a></div><div class="sidebar-section-children"><a href="module-og_Globe-Globe.html">Globe</a></div><div class="sidebar-section-children"><a href="module-og_ImageCanvas-ImageCanvas.html">ImageCanvas</a></div><div class="sidebar-section-children"><a href="module-og_LonLat.LonLat.html">LonLat</a></div><div class="sidebar-section-children"><a href="module-og_Stack-Stack.html">Stack</a></div><div class="sidebar-section-children"><a href="module-og_bv_Box-Box.html">Box</a></div><div class="sidebar-section-children"><a href="module-og_bv_Sphere-Sphere.html">Sphere</a></div><div class="sidebar-section-children"><a href="module-og_camera_PlanetCamera-PlanetCamera.html">PlanetCamera</a></div><div class="sidebar-section-children"><a href="module-og_control_Atmosphere-Atmosphere.html">Atmosphere</a></div><div class="sidebar-section-children"><a href="module-og_control_Control-Control.html">Control</a></div><div class="sidebar-section-children"><a href="module-og_control_DebugInfo-DebugInfo.html">DebugInfo</a></div><div class="sidebar-section-children"><a href="module-og_control_KeyboardNavigation-KeyboardNavigation.html">KeyboardNavigation</a></div><div class="sidebar-section-children"><a href="module-og_control_LayerAnimation-LayerAnimation.html">LayerAnimation</a></div><div class="sidebar-section-children"><a href="module-og_control_LayerSwitcher-LayerSwitcher.html">LayerSwitcher</a></div><div class="sidebar-section-children"><a href="module-og_control_Lighting-ICON_BUTTON_SVG.html">ICON_BUTTON_SVG</a></div><div class="sidebar-section-children"><a href="module-og_control_MouseNavigation-MouseNavigation.html">MouseNavigation</a></div><div class="sidebar-section-children"><a href="module-og_control_MouseWheelZoomControl-MouseWheelZoomControl.html">MouseWheelZoomControl</a></div><div class="sidebar-section-children"><a href="module-og_control_Ruler-Ruler.html">Ruler</a></div><div class="sidebar-section-children"><a href="module-og_control_Ruler-RulerSwitcher.html">RulerSwitcher</a></div><div class="sidebar-section-children"><a href="module-og_control_Selector-Selection.html">Selection</a></div><div class="sidebar-section-children"><a href="module-og_control_ShowFps-ShowFps.html">ShowFps</a></div><div class="sidebar-section-children"><a href="module-og_control_SimpleSkyBackground-SimpleSkyBackground.html">SimpleSkyBackground</a></div><div class="sidebar-section-children"><a href="module-og_control_Sun-Sun.html">Sun</a></div><div class="sidebar-section-children"><a href="module-og_control_ToggleWireframe-ToggleWireframe.html">ToggleWireframe</a></div><div class="sidebar-section-children"><a href="module-og_control_TouchNavigation-TouchNavigation.html">TouchNavigation</a></div><div class="sidebar-section-children"><a href="module-og_control_ZoomControl-ScaleControl.html">ScaleControl</a></div><div class="sidebar-section-children"><a href="module-og_control_ZoomControl-ZoomControl.html">ZoomControl</a></div><div class="sidebar-section-children"><a href="module-og_ellipsoid_Ellipsoid-Ellipsoid.html">Ellipsoid</a></div><div class="sidebar-section-children"><a href="module-og_entity_BaseBillboard-BaseBillboard.html">BaseBillboard</a></div><div class="sidebar-section-children"><a href="module-og_entity_BaseBillboard-Ray.html">Ray</a></div><div class="sidebar-section-children"><a href="module-og_entity_BillboardHandler-BillboardHandler.html">BillboardHandler</a></div><div class="sidebar-section-children"><a href="module-og_entity_Billboard-Billboard.html">Billboard</a></div><div class="sidebar-section-children"><a href="module-og_entity_EntityCollection-EntityCollection.html">EntityCollection</a></div><div class="sidebar-section-children"><a href="module-og_entity_Entity-Entity.html">Entity</a></div><div class="sidebar-section-children"><a href="module-og_entity_GeoObject-GeoObject.html">GeoObject</a></div><div class="sidebar-section-children"><a href="module-og_entity_LabelHandler-LabelHandler.html">LabelHandler</a></div><div class="sidebar-section-children"><a href="module-og_entity_Label-Label.html">Label</a></div><div class="sidebar-section-children"><a href="module-og_entity_PointCloud-PointCloud.html">PointCloud</a></div><div class="sidebar-section-children"><a href="module-og_entity_Polyline-Polyline.html">Polyline</a></div><div class="sidebar-section-children"><a href="module-og_layer_BaseGeoImage-BaseGeoImage.html">BaseGeoImage</a></div><div class="sidebar-section-children"><a href="module-og_layer_CanvasTiles-CanvasTiles.html">CanvasTiles</a></div><div class="sidebar-section-children"><a href="module-og_layer_GeoImage-GeoImage.html">GeoImage</a></div><div class="sidebar-section-children"><a href="module-og_layer_GeoVideo-GeoVideo.html">GeoVideo</a></div><div class="sidebar-section-children"><a href="module-og_layer_KML.KML.html">KML</a></div><div class="sidebar-section-children"><a href="module-og_layer_Layer-Layer.html">Layer</a></div><div class="sidebar-section-children"><a href="module-og_layer_Material-Material.html">Material</a></div><div class="sidebar-section-children"><a href="module-og_layer_Vector-Vector.html">Vector</a></div><div class="sidebar-section-children"><a href="module-og_layer_WMS-WMS.html">WMS</a></div><div class="sidebar-section-children"><a href="module-og_layer_XYZ-XYZ.html">XYZ</a></div><div class="sidebar-section-children"><a href="module-og_light_LightSource-LightSource.html">LightSource</a></div><div class="sidebar-section-children"><a href="module-og_math_Mat3.Mat3.html">Mat3</a></div><div class="sidebar-section-children"><a href="module-og_math_Ray.Ray.html">Ray</a></div><div class="sidebar-section-children"><a href="module-og_math_Vec2.Vec2.html">Vec2</a></div><div class="sidebar-section-children"><a href="module-og_math_Vec3.Vec3.html">Vec3</a></div><div class="sidebar-section-children"><a href="module-og_math_Vec4.Vec4.html">Vec4</a></div><div class="sidebar-section-children"><a href="module-og_renderer_RendererEvents-RendererEvents.html">RendererEvents</a></div><div class="sidebar-section-children"><a href="module-og_scene_BaseNode-BaseNode.html">BaseNode</a></div><div class="sidebar-section-children"><a href="module-og_scene_Planet.Planet.html">Planet</a></div><div class="sidebar-section-children"><a href="module-og_terrainProvider_EmptyTerrain-EmptyTerrain.html">EmptyTerrain</a></div><div class="sidebar-section-children"><a href="module-og_webgl_Framebuffer.Framebuffer.html">Framebuffer</a></div><div class="sidebar-section-children"><a href="module-og_webgl_Handler-Handler.html">Handler</a></div><div class="sidebar-section-children"><a href="module-og_webgl_Multisample.Multisample.html">Multisample</a></div><div class="sidebar-section-children"><a href="module-og_webgl_Program-Program.html">Program</a></div></div><div class="sidebar-section-title with-arrow" data-isopen="false" id="PYW2Aicomzz5DnKpHWoEm"><div>Events</div><svg><use xlink:href="#down-icon"></use></svg></div><div class="sidebar-section-children-container"><div class="sidebar-section-children"><a href="og.Camera.html#event:moveend">moveend</a></div><div class="sidebar-section-children"><a href="og.Camera.html#event:viewchange">viewchange</a></div><div class="sidebar-section-children"><a href="og.EntityCollection.html#event:add">add</a></div><div class="sidebar-section-children"><a href="og.EntityCollection.html#event:doubletouch">doubletouch</a></div><div class="sidebar-section-children"><a href="og.EntityCollection.html#event:draw">draw</a></div><div class="sidebar-section-children"><a href="og.EntityCollection.html#event:drawend">drawend</a></div><div class="sidebar-section-children"><a href="og.EntityCollection.html#event:entityadd">entityadd</a></div><div class="sidebar-section-children"><a href="og.EntityCollection.html#event:entitymove">entitymove</a></div><div class="sidebar-section-children"><a href="og.EntityCollection.html#event:entityremove">entityremove</a></div><div class="sidebar-section-children"><a href="og.EntityCollection.html#event:lclick">lclick</a></div><div class="sidebar-section-children"><a href="og.EntityCollection.html#event:ldblclick">ldblclick</a></div><div class="sidebar-section-children"><a href="og.EntityCollection.html#event:ldown">ldown</a></div><div class="sidebar-section-children"><a href="og.EntityCollection.html#event:lhold">lhold</a></div><div class="sidebar-section-children"><a href="og.EntityCollection.html#event:lup">lup</a></div><div class="sidebar-section-children"><a href="og.EntityCollection.html#event:mclick">mclick</a></div><div class="sidebar-section-children"><a href="og.EntityCollection.html#event:mdblclick">mdblclick</a></div><div class="sidebar-section-children"><a href="og.EntityCollection.html#event:mdown">mdown</a></div><div class="sidebar-section-children"><a href="og.EntityCollection.html#event:mhold">mhold</a></div><div class="sidebar-section-children"><a href="og.EntityCollection.html#event:mouseenter">mouseenter</a></div><div class="sidebar-section-children"><a href="og.EntityCollection.html#event:mouseleave">mouseleave</a></div><div class="sidebar-section-children"><a href="og.EntityCollection.html#event:mousemove">mousemove</a></div><div class="sidebar-section-children"><a href="og.EntityCollection.html#event:mousewheel">mousewheel</a></div><div class="sidebar-section-children"><a href="og.EntityCollection.html#event:mup">mup</a></div><div class="sidebar-section-children"><a href="og.EntityCollection.html#event:rclick">rclick</a></div><div class="sidebar-section-children"><a href="og.EntityCollection.html#event:rdblclick">rdblclick</a></div><div class="sidebar-section-children"><a href="og.EntityCollection.html#event:rdown">rdown</a></div><div class="sidebar-section-children"><a href="og.EntityCollection.html#event:remove">remove</a></div><div class="sidebar-section-children"><a href="og.EntityCollection.html#event:rhold">rhold</a></div><div class="sidebar-section-children"><a href="og.EntityCollection.html#event:rup">rup</a></div><div class="sidebar-section-children"><a href="og.EntityCollection.html#event:touchend">touchend</a></div><div class="sidebar-section-children"><a href="og.EntityCollection.html#event:touchenter">touchenter</a></div><div class="sidebar-section-children"><a href="og.EntityCollection.html#event:touchleave">touchleave</a></div><div class="sidebar-section-children"><a href="og.EntityCollection.html#event:touchmove">touchmove</a></div><div class="sidebar-section-children"><a href="og.EntityCollection.html#event:touchstart">touchstart</a></div><div class="sidebar-section-children"><a href="og.EntityCollection.html#event:visibilitychange">visibilitychange</a></div><div class="sidebar-section-children"><a href="og.Layer.html#event:add">add</a></div><div class="sidebar-section-children"><a href="og.Layer.html#event:doubletouch">doubletouch</a></div><div class="sidebar-section-children"><a href="og.Layer.html#event:lclick">lclick</a></div><div class="sidebar-section-children"><a href="og.Layer.html#event:ldblclick">ldblclick</a></div><div class="sidebar-section-children"><a href="og.Layer.html#event:ldown">ldown</a></div><div class="sidebar-section-children"><a href="og.Layer.html#event:lhold">lhold</a></div><div class="sidebar-section-children"><a href="og.Layer.html#event:lup">lup</a></div><div class="sidebar-section-children"><a href="og.Layer.html#event:mclick">mclick</a></div><div class="sidebar-section-children"><a href="og.Layer.html#event:mdblclick">mdblclick</a></div><div class="sidebar-section-children"><a href="og.Layer.html#event:mdown">mdown</a></div><div class="sidebar-section-children"><a href="og.Layer.html#event:mhold">mhold</a></div><div class="sidebar-section-children"><a href="og.Layer.html#event:mouseenter">mouseenter</a></div><div class="sidebar-section-children"><a href="og.Layer.html#event:mouseenter">mouseenter</a></div><div class="sidebar-section-children"><a href="og.Layer.html#event:mousemove">mousemove</a></div><div class="sidebar-section-children"><a href="og.Layer.html#event:mousewheel">mousewheel</a></div><div class="sidebar-section-children"><a href="og.Layer.html#event:mup">mup</a></div><div class="sidebar-section-children"><a href="og.Layer.html#event:rclick">rclick</a></div><div class="sidebar-section-children"><a href="og.Layer.html#event:rdblclick">rdblclick</a></div><div class="sidebar-section-children"><a href="og.Layer.html#event:rdown">rdown</a></div><div class="sidebar-section-children"><a href="og.Layer.html#event:remove">remove</a></div><div class="sidebar-section-children"><a href="og.Layer.html#event:rhold">rhold</a></div><div class="sidebar-section-children"><a href="og.Layer.html#event:rup">rup</a></div><div class="sidebar-section-children"><a href="og.Layer.html#event:touchend">touchend</a></div><div class="sidebar-section-children"><a href="og.Layer.html#event:touchenter">touchenter</a></div><div class="sidebar-section-children"><a href="og.Layer.html#event:touchleave">touchleave</a></div><div class="sidebar-section-children"><a href="og.Layer.html#event:touchmove">touchmove</a></div><div class="sidebar-section-children"><a href="og.Layer.html#event:touchstart">touchstart</a></div><div class="sidebar-section-children"><a href="og.Layer.html#event:visibilitychange">visibilitychange</a></div><div class="sidebar-section-children"><a href="og.RendererEvents.html#event:doubletouch">doubletouch</a></div><div class="sidebar-section-children"><a href="og.RendererEvents.html#event:draw">draw</a></div><div class="sidebar-section-children"><a href="og.RendererEvents.html#event:lclick">lclick</a></div><div class="sidebar-section-children"><a href="og.RendererEvents.html#event:ldblclick">ldblclick</a></div><div class="sidebar-section-children"><a href="og.RendererEvents.html#event:ldown">ldown</a></div><div class="sidebar-section-children"><a href="og.RendererEvents.html#event:lhold">lhold</a></div><div class="sidebar-section-children"><a href="og.RendererEvents.html#event:lup">lup</a></div><div class="sidebar-section-children"><a href="og.RendererEvents.html#event:mclick">mclick</a></div><div class="sidebar-section-children"><a href="og.RendererEvents.html#event:mdblclick">mdblclick</a></div><div class="sidebar-section-children"><a href="og.RendererEvents.html#event:mdown">mdown</a></div><div class="sidebar-section-children"><a href="og.RendererEvents.html#event:mhold">mhold</a></div><div class="sidebar-section-children"><a href="og.RendererEvents.html#event:mouseenter">mouseenter</a></div><div class="sidebar-section-children"><a href="og.RendererEvents.html#event:mouseleave">mouseleave</a></div><div class="sidebar-section-children"><a href="og.RendererEvents.html#event:mousemove">mousemove</a></div><div class="sidebar-section-children"><a href="og.RendererEvents.html#event:mousestop">mousestop</a></div><div class="sidebar-section-children"><a href="og.RendererEvents.html#event:mousewheel">mousewheel</a></div><div class="sidebar-section-children"><a href="og.RendererEvents.html#event:mup">mup</a></div><div class="sidebar-section-children"><a href="og.RendererEvents.html#event:postdraw">postdraw</a></div><div class="sidebar-section-children"><a href="og.RendererEvents.html#event:rclick">rclick</a></div><div class="sidebar-section-children"><a href="og.RendererEvents.html#event:rdblclick">rdblclick</a></div><div class="sidebar-section-children"><a href="og.RendererEvents.html#event:rdown">rdown</a></div><div class="sidebar-section-children"><a href="og.RendererEvents.html#event:resize">resize</a></div><div class="sidebar-section-children"><a href="og.RendererEvents.html#event:resizeend">resizeend</a></div><div class="sidebar-section-children"><a href="og.RendererEvents.html#event:rhold">rhold</a></div><div class="sidebar-section-children"><a href="og.RendererEvents.html#event:rup">rup</a></div><div class="sidebar-section-children"><a href="og.RendererEvents.html#event:touchcancel">touchcancel</a></div><div class="sidebar-section-children"><a href="og.RendererEvents.html#event:touchend">touchend</a></div><div class="sidebar-section-children"><a href="og.RendererEvents.html#event:touchenter">touchenter</a></div><div class="sidebar-section-children"><a href="og.RendererEvents.html#event:touchleave">touchleave</a></div><div class="sidebar-section-children"><a href="og.RendererEvents.html#event:touchmove">touchmove</a></div><div class="sidebar-section-children"><a href="og.RendererEvents.html#event:touchstart">touchstart</a></div><div class="sidebar-section-children"><a href="og.layer.BaseGeoImage.html#event:loadend">loadend</a></div><div class="sidebar-section-children"><a href="og.layer.CanvasTiles.html#event:load">load</a></div><div class="sidebar-section-children"><a href="og.layer.CanvasTiles.html#event:loadend">loadend</a></div><div class="sidebar-section-children"><a href="og.layer.Vector.html#event:draw">draw</a></div><div class="sidebar-section-children"><a href="og.layer.Vector.html#event:draw">draw</a></div><div class="sidebar-section-children"><a href="og.layer.Vector.html#event:entityadd">entityadd</a></div><div class="sidebar-section-children"><a href="og.layer.Vector.html#event:entityremove">entityremove</a></div><div class="sidebar-section-children"><a href="og.layer.XYZ.html#event:load">load</a></div><div class="sidebar-section-children"><a href="og.layer.XYZ.html#event:loadend">loadend</a></div><div class="sidebar-section-children"><a href="og.scene.Planet.html#event:baselayerchange">baselayerchange</a></div><div class="sidebar-section-children"><a href="og.scene.Planet.html#event:draw">draw</a></div><div class="sidebar-section-children"><a href="og.scene.Planet.html#event:layeradd">layeradd</a></div><div class="sidebar-section-children"><a href="og.scene.Planet.html#event:layerremove">layerremove</a></div><div class="sidebar-section-children"><a href="og.scene.Planet.html#event:layervisibilitychange">layervisibilitychange</a></div><div class="sidebar-section-children"><a href="og.scene.Planet.html#event:rendercompleted">rendercompleted</a></div><div class="sidebar-section-children"><a href="og.scene.Planet.html#event:terraincompleted">terraincompleted</a></div><div class="sidebar-section-children"><a href="og.scene.Planet.html#event:terraincompleted">terraincompleted</a></div><div class="sidebar-section-children"><a href="og.terrain.GlobusTerrain.html#event:load">load</a></div><div class="sidebar-section-children"><a href="og.terrain.GlobusTerrain.html#event:loadend">loadend</a></div></div><div class="sidebar-section-title with-arrow" data-isopen="false" id="YtNOkikOuG8NO8INyyR8h"><div>Global</div><svg><use xlink:href="#down-icon"></use></svg></div><div class="sidebar-section-children-container"><div class="sidebar-section-children"><a href="global.html#AU_TO_METERS">AU_TO_METERS</a></div><div class="sidebar-section-children"><a href="global.html#COMSIDE">COMSIDE</a></div><div class="sidebar-section-children"><a href="global.html#EARTH_GRAVITATIONAL_PARAMETER">EARTH_GRAVITATIONAL_PARAMETER</a></div><div class="sidebar-section-children"><a href="global.html#J2000_OBLIQUITY">J2000_OBLIQUITY</a></div><div class="sidebar-section-children"><a href="global.html#NEIGHBOUR">NEIGHBOUR</a></div><div class="sidebar-section-children"><a href="global.html#NOPSORD">NOPSORD</a></div><div class="sidebar-section-children"><a href="global.html#OPPART">OPPART</a></div><div class="sidebar-section-children"><a href="global.html#OPSIDE">OPSIDE</a></div><div class="sidebar-section-children"><a href="global.html#PARTOFFSET">PARTOFFSET</a></div><div class="sidebar-section-children"><a href="global.html#SUN_GRAVITATIONAL_PARAMETER">SUN_GRAVITATIONAL_PARAMETER</a></div><div class="sidebar-section-children"><a href="global.html#TAItoTDB">TAItoTDB</a></div><div class="sidebar-section-children"><a href="global.html#TDT_TAI">TDT_TAI</a></div><div class="sidebar-section-children"><a href="global.html#equationCallback">equationCallback</a></div><div class="sidebar-section-children"><a href="global.html#mat4">mat4</a></div><div class="sidebar-section-children"><a href="global.html#quat">quat</a></div><div class="sidebar-section-children"><a href="global.html#simpleNavigation">simpleNavigation</a></div></div></div><div class="mobile-navbar-actions"><div class="navbar-right-item"><button class="icon-button search-button" aria-label="open-search"><svg><use xlink:href="#search-icon"></use></svg></button></div><div class="navbar-right-item"><button class="icon-button theme-toggle" aria-label="toggle-theme"><svg><use class="theme-svg-use" xlink:href="#light-theme-icon"></use></svg></button></div><div class="navbar-right-item"><button class="icon-button font-size" aria-label="change-font-size"><svg><use xlink:href="#font-size-icon"></use></svg></button></div></div></div></div><script type="text/javascript" src="scripts/core.min.js"></script><script src="scripts/search.min.js" defer="defer"></script><script src="scripts/third-party/fuse.js" defer="defer"></script><script type="text/javascript">var tocbotInstance=tocbot.init({tocSelector:"#eed4d2a0bfd64539bb9df78095dec881",contentSelector:".main-content",headingSelector:"h1, h2, h3",hasInnerContainers:!0,scrollContainer:".main-content",headingsOffset:130,onClick:bringLinkToView})</script></body></html>