import{r as e}from"./iframe-DXtCy9N6.js";import{u as Y,I as qe,c as he,A as B,M as X,V as ke}from"./Globe-CFMRfbHW.js";const Le=({name:s,...a})=>{const{globe:u}=Y(),r=e.useRef(null);return e.useEffect(()=>{typeof a.url=="string"&&r.current&&r.current?.setUrl(a.url)},[a.url]),e.useEffect(()=>{if(u)return r.current=new qe(s,{...a}),u.planet.addLayer(r.current),()=>{r.current&&u.planet.removeLayer(r.current)}},[u]),e.createElement(F,{layerRef:r,name:s,...a})};Le.__docgenInfo={description:"",methods:[],displayName:"XYZ",props:{name:{required:!0,tsType:{name:"string"},description:""},children:{required:!1,tsType:{name:"never"},description:""}},composes:["IXYZParams"]};const F=({opacity:s,children:a,name:u,layerRef:r,...n})=>{const[i,f]=e.useState(!1);return e.useEffect(()=>{r&&r.current&&typeof s=="number"&&i&&(r.current.opacity=s)},[s]),e.useEffect(()=>(i&&r&&r.current&&(n.onVisibilityChange&&r.current?.events.on("visibilitychange",n.onVisibilityChange),n.onAdd&&r.current?.events.on("add",n.onAdd),n.onRemove&&r.current?.events.on("remove",n.onRemove),n.onMouseMove&&r.current?.events.on("mousemove",n.onMouseMove),n.onMouseEnter&&r.current?.events.on("mouseenter",n.onMouseEnter),n.onMouseLeave&&r.current?.events.on("mouseleave",n.onMouseLeave),n.onLclick&&r.current?.events.on("lclick",n.onLclick),n.onRclick&&r.current?.events.on("rclick",n.onRclick),n.onMclick&&r.current?.events.on("mclick",n.onMclick),n.onLdblclick&&r.current?.events.on("ldblclick",n.onLdblclick),n.onRdblclick&&r.current?.events.on("rdblclick",n.onRdblclick),n.onMdblclick&&r.current?.events.on("mdblclick",n.onMdblclick),n.onLup&&r.current?.events.on("lup",n.onLup),n.onRup&&r.current?.events.on("rup",n.onRup),n.onMup&&r.current?.events.on("mup",n.onMup),n.onLdown&&r.current?.events.on("ldown",n.onLdown),n.onRdown&&r.current?.events.on("rdown",n.onRdown),n.onMdown&&r.current?.events.on("mdown",n.onMdown),n.onLhold&&r.current?.events.on("lhold",n.onLhold),n.onRhold&&r.current?.events.on("rhold",n.onRhold),n.onMhold&&r.current?.events.on("mhold",n.onMhold),n.onMouseWheel&&r.current?.events.on("mousewheel",n.onMouseWheel),n.onTouchMove&&r.current?.events.on("touchmove",n.onTouchMove),n.onTouchStart&&r.current?.events.on("touchstart",n.onTouchStart),n.onTouchEnd&&r.current?.events.on("touchend",n.onTouchEnd),n.onDoubleTouch&&r.current?.events.on("doubletouch",n.onDoubleTouch)),()=>{n.onLclick&&r?.current?.events.off("lclick",n.onLclick),f(!1)}),[i]),r?.current&&!i&&f(!0),e.createElement(e.Fragment,null,a)};F.__docgenInfo={description:"",methods:[],displayName:"Layer",props:{name:{required:!0,tsType:{name:"string"},description:""},layerRef:{required:!1,tsType:{name:"ReactMutableRefObject",raw:"React.MutableRefObject<GlobusLayer | null>",elements:[{name:"union",raw:"GlobusLayer | null",elements:[{name:"GlobusLayer"},{name:"null"}]}]},description:""},children:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},onVisibilityChange:{required:!1,tsType:{name:"EventCallback"},description:""},onAdd:{required:!1,tsType:{name:"EventCallback"},description:""},onRemove:{required:!1,tsType:{name:"EventCallback"},description:""},onMouseMove:{required:!1,tsType:{name:"EventCallback"},description:""},onMouseEnter:{required:!1,tsType:{name:"EventCallback"},description:""},onMouseLeave:{required:!1,tsType:{name:"EventCallback"},description:""},onLclick:{required:!1,tsType:{name:"EventCallback"},description:""},onRclick:{required:!1,tsType:{name:"EventCallback"},description:""},onMclick:{required:!1,tsType:{name:"EventCallback"},description:""},onLdblclick:{required:!1,tsType:{name:"EventCallback"},description:""},onRdblclick:{required:!1,tsType:{name:"EventCallback"},description:""},onMdblclick:{required:!1,tsType:{name:"EventCallback"},description:""},onLup:{required:!1,tsType:{name:"EventCallback"},description:""},onRup:{required:!1,tsType:{name:"EventCallback"},description:""},onMup:{required:!1,tsType:{name:"EventCallback"},description:""},onLdown:{required:!1,tsType:{name:"EventCallback"},description:""},onRdown:{required:!1,tsType:{name:"EventCallback"},description:""},onMdown:{required:!1,tsType:{name:"EventCallback"},description:""},onLhold:{required:!1,tsType:{name:"EventCallback"},description:""},onRhold:{required:!1,tsType:{name:"EventCallback"},description:""},onMhold:{required:!1,tsType:{name:"EventCallback"},description:""},onMouseWheel:{required:!1,tsType:{name:"EventCallback"},description:""},onTouchMove:{required:!1,tsType:{name:"EventCallback"},description:""},onTouchStart:{required:!1,tsType:{name:"EventCallback"},description:""},onTouchEnd:{required:!1,tsType:{name:"EventCallback"},description:""},onDoubleTouch:{required:!1,tsType:{name:"EventCallback"},description:""},onTouchLeave:{required:!1,tsType:{name:"EventCallback"},description:""},onTouchEnter:{required:!1,tsType:{name:"EventCallback"},description:""}},composes:["ILayerParams"]};const Ce=e.createContext({addEntity:()=>{},removeEntity:()=>{},addLabel:()=>{},removeLabel:()=>{},addBillboard:()=>{},removeBillboard:()=>{},addGeoObject:()=>{},removeGeoObject:()=>{},addGeometry:()=>{},removeGeometry:()=>{},addPolyline:()=>{},removePolyline:()=>{},addStrip:()=>{},removeStrip:()=>{},addGltf:(s,a)=>{},removeGltf:(s,a)=>{}}),Ge=({visibility:s,children:a,name:u,...r})=>{const{globe:n}=Y(),i=e.useRef(null),[f,m]=e.useState([]),p=e.useRef(new Set);e.useEffect(()=>{typeof s=="boolean"&&i.current&&i.current.setVisibility(s)},[s]),e.useEffect(()=>{if(n)return i.current=new he(u,r),n.planet.addLayer(i.current),r.onDraw&&i.current?.events.on("draw",r.onDraw),r.onMouseEnter&&i.current?.events.on("mouseenter",r.onMouseEnter),()=>{i.current&&(n.planet.removeLayer(i.current),r.onDraw&&i.current?.events.off("draw",r.onDraw),r.onMouseEnter&&i.current?.events.off("mouseenter",r.onMouseEnter))}},[n]),e.useEffect(()=>{if(i.current&&f.length>0){const o=f.filter(c=>!p.current.has(c));i.current.addEntities(o),o.forEach(c=>p.current.add(c))}},[f]);const C=e.useCallback(o=>{m(c=>c.includes(o)?c:[...c,o])},[]),y=e.useCallback(o=>{m(c=>c.filter(E=>E!==o)),i.current&&(i.current.removeEntity(o),p.current.delete(o))},[]),v=e.useCallback((o,c)=>{o.setBillboard(c)},[]),q=e.useCallback(o=>{o.billboard?.remove()},[]),T=e.useCallback((o,c)=>{o.setGeoObject(c)},[]),h=e.useCallback(o=>{o.geoObject?.remove()},[]),L=e.useCallback((o,c)=>{o.setLabel(c)},[]),G=e.useCallback(o=>{o.label?.remove()},[]),M=e.useCallback((o,c)=>{o.setGeometry(c)},[]),w=e.useCallback(o=>{o.geometry?.remove()},[]),g=e.useCallback((o,c)=>{o.setPolyline(c)},[]),S=e.useCallback(o=>{o.polyline?.remove()},[]),R=e.useCallback((o,c)=>{o.setStrip(c)},[]),O=e.useCallback(o=>{o.strip?.remove()},[]),P=e.useCallback((o,c)=>{o.appendChildren(c,!0)},[]),_=e.useCallback((o,c)=>{c.forEach(E=>{E.parent===o&&E.remove()})},[]);return e.createElement(Ce.Provider,{value:{addEntity:C,removeEntity:y,addBillboard:v,removeBillboard:q,addGeoObject:T,removeGeoObject:h,addLabel:L,removeLabel:G,addGeometry:M,removeGeometry:w,addPolyline:g,removePolyline:S,addStrip:R,removeStrip:O,addGltf:P,removeGltf:_}},e.createElement(F,{layerRef:i,name:u,...r},a))};Ge.__docgenInfo={description:"",methods:[],displayName:"Vector",props:{children:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},name:{required:!0,tsType:{name:"string"},description:""},onMouseEnter:{required:!1,tsType:{name:"EventCallback"},description:""},onDraw:{required:!1,tsType:{name:"EventCallback"},description:""},layerRef:{required:!1,tsType:{name:"ReactMutableRefObject",raw:"React.MutableRefObject<GlobusLayer | null>",elements:[{name:"union",raw:"GlobusLayer | null",elements:[{name:"GlobusLayer"},{name:"null"}]}]},description:""},onVisibilityChange:{required:!1,tsType:{name:"EventCallback"},description:""},onAdd:{required:!1,tsType:{name:"EventCallback"},description:""},onRemove:{required:!1,tsType:{name:"EventCallback"},description:""},onMouseMove:{required:!1,tsType:{name:"EventCallback"},description:""},onMouseLeave:{required:!1,tsType:{name:"EventCallback"},description:""},onLclick:{required:!1,tsType:{name:"EventCallback"},description:""},onRclick:{required:!1,tsType:{name:"EventCallback"},description:""},onMclick:{required:!1,tsType:{name:"EventCallback"},description:""},onLdblclick:{required:!1,tsType:{name:"EventCallback"},description:""},onRdblclick:{required:!1,tsType:{name:"EventCallback"},description:""},onMdblclick:{required:!1,tsType:{name:"EventCallback"},description:""},onLup:{required:!1,tsType:{name:"EventCallback"},description:""},onRup:{required:!1,tsType:{name:"EventCallback"},description:""},onMup:{required:!1,tsType:{name:"EventCallback"},description:""},onLdown:{required:!1,tsType:{name:"EventCallback"},description:""},onRdown:{required:!1,tsType:{name:"EventCallback"},description:""},onMdown:{required:!1,tsType:{name:"EventCallback"},description:""},onLhold:{required:!1,tsType:{name:"EventCallback"},description:""},onRhold:{required:!1,tsType:{name:"EventCallback"},description:""},onMhold:{required:!1,tsType:{name:"EventCallback"},description:""},onMouseWheel:{required:!1,tsType:{name:"EventCallback"},description:""},onTouchMove:{required:!1,tsType:{name:"EventCallback"},description:""},onTouchStart:{required:!1,tsType:{name:"EventCallback"},description:""},onTouchEnd:{required:!1,tsType:{name:"EventCallback"},description:""},onDoubleTouch:{required:!1,tsType:{name:"EventCallback"},description:""},onTouchLeave:{required:!1,tsType:{name:"EventCallback"},description:""},onTouchEnter:{required:!1,tsType:{name:"EventCallback"},description:""}},composes:["IVectorParams","ILayerParams"]};const Me=({visibility:s,lon:a,lat:u,alt:r,lonlat:n,name:i,children:f,yaw:m,pitch:p,roll:C,cartesian:y,_addEntity:v,_removeEntity:q,relativePosition:T,...h})=>{const{globe:L}=Y(),{addEntity:G,removeEntity:M,addBillboard:w,removeBillboard:g,addGeoObject:S,removeGeoObject:R,addLabel:O,removeLabel:P,addGeometry:_,removeGeometry:o,addPolyline:c,removePolyline:E,addStrip:Z,removeStrip:z,addGltf:A,removeGltf:we}=e.useContext(Ce),t=e.useRef(null),[j,U]=e.useState(null),[I,H]=e.useState(null),[D,J]=e.useState(null),[V,K]=e.useState(null),[k,Q]=e.useState(null),[N,$]=e.useState(null),[W,ee]=e.useState(null),[ne,x]=e.useState(!1),b=e.useRef([]);e.useEffect(()=>{n&&(n instanceof B||(n=B.createFromArray(n)),t.current?.setLonLat(n))},[n,j]),e.useEffect(()=>{typeof a=="number"&&typeof u=="number"&&typeof r=="number"&&t.current?.setLonLat2(a,u,r)},[a,u,r]),e.useEffect(()=>{typeof s=="boolean"&&t.current&&t.current?.setVisibility(s)},[s]),e.useEffect(()=>{Array.isArray(y)&&t.current&&t.current?.setCartesian(y[0],y[1],y[2])},[]),e.useEffect(()=>{typeof m=="number"&&t.current&&t.current?.setYaw(m*X.RADIANS)},[m]),e.useEffect(()=>{typeof C=="number"&&t.current&&t.current?.setRoll(C*X.RADIANS)},[C]),e.useEffect(()=>{typeof p=="number"&&t.current&&t.current?.setPitch(p*X.RADIANS)},[p]),e.useEffect(()=>{typeof T=="boolean"&&t.current&&(t.current.relativePosition=T)},[T]),e.useLayoutEffect(()=>{if(!L||v)return;const l=new ke({lonlat:n||new B(a,u,r),name:i,...h});return t.current=l,G(l),x(!0),k&&t.current&&A(t.current,k),b.current.length&&t.current&&(b.current.forEach(d=>t.current.appendChild(d)),b.current=[]),()=>{t.current&&M(t.current),x(!1)}},[L,G,M,v]),e.useEffect(()=>{if(!v)return;const l=new ke({visibility:s,name:i,yaw:m,pitch:p,roll:C,lonlat:n||new B(a,u,r),cartesian:y,relativePosition:T,...h});return t.current=l,v(l),k&&t.current&&A(t.current,k),x(!0),b.current.length&&t.current&&(b.current.forEach(d=>t.current.appendChild(d)),b.current=[]),()=>{q?.(l),x(!1)}},[v,q]),e.useEffect(()=>{k&&t.current&&ne&&A(t.current,k)},[k,ne]),e.useEffect(()=>{j&&!t.current?.billboard&&t.current?.setBillboard(j)},[j]),e.useEffect(()=>{I&&!t.current?.geoObject&&t.current?.setGeoObject(I)},[I]),e.useEffect(()=>{D&&!t.current?.label&&t.current?.setLabel(D)},[D]),e.useEffect(()=>{V&&!t.current?.geometry&&t.current?.setGeometry(V)},[V]),e.useEffect(()=>{N&&!t.current?.polyline&&t.current?.setPolyline(N)},[N]),e.useEffect(()=>{W&&!t.current?.strip&&t.current?.setStrip(W)},[W]);const te=e.useCallback(l=>{U(l),t.current&&w(t.current,l)},[w]),re=e.useCallback(()=>{t.current&&g(t.current),U(null)},[g]),oe=e.useCallback(l=>{H(l),t.current&&S(t.current,l)},[S]),le=e.useCallback(()=>{t.current&&R(t.current),H(null)},[R]),ce=e.useCallback(l=>{J(l),t.current&&O(t.current,l)},[O]),ie=e.useCallback(()=>{t.current&&P(t.current),J(null)},[P]),se=e.useCallback(l=>{K(l),t.current&&_(t.current,l)},[_]),ae=e.useCallback(()=>{t.current&&o(t.current),K(null)},[o]),ue=e.useCallback(l=>{$(l),t.current&&c(t.current,l)},[c]),de=e.useCallback(()=>{t.current&&E(t.current),$(null)},[E]),fe=e.useCallback(l=>{ee(l),t.current&&Z(t.current,l)},[Z]),be=e.useCallback(()=>{t.current&&z(t.current),ee(null)},[z]),pe=e.useCallback(l=>{Q(l)},[]),me=e.useCallback(()=>{Q(null)},[]),ye=e.useCallback(l=>{t.current?t.current.appendChild(l):b.current.push(l)},[]),ve=e.useCallback(l=>{if(t.current){const d=t.current.childEntities||[],Ee=d.indexOf(l);Ee!==-1&&d.splice(Ee,1)}else b.current=b.current.filter(d=>d!==l)},[]),Te=e.useMemo(()=>({_addEntity:ye,_removeEntity:ve,_addGeometry:se,_removeGeometry:ae,_addLabel:ce,_removeLabel:ie,_addBillboard:te,_removeBillboard:re,_addGeoObject:oe,_removeGeoObject:le,_addPolyline:ue,_removePolyline:de,_addStrip:fe,_removeStrip:be,_addGltf:pe,_removeGltf:me}),[ye,ve,se,ae,ce,ie,te,re,oe,le,ue,de,fe,be,pe,me]);return f?e.createElement(e.Fragment,null,e.Children.map(f,(l,d)=>e.isValidElement(l)?e.cloneElement(l,{...Te,key:l.key??d}):l)):null};Me.__docgenInfo={description:"",methods:[],displayName:"Entity",props:{children:{required:!1,tsType:{name:"union",raw:"EntityChildElement | EntityChildElement[]",elements:[{name:"ReactReactElement",raw:`React.ReactElement<
    typeof Billboard |
    typeof GeoObject |
    typeof Label |
    typeof Polyline |
    typeof Strip |
    typeof Gltf |
    typeof Entity |
    typeof Geometry
>`,elements:[{name:"union",raw:`typeof Billboard |
typeof GeoObject |
typeof Label |
typeof Polyline |
typeof Strip |
typeof Gltf |
typeof Entity |
typeof Geometry`,elements:[{name:"Billboard"},{name:"GeoObject"},{name:"Label"},{name:"Polyline"},{name:"Strip"},{name:"Gltf"},{name:"Entity"},{name:"Geometry"}]}]},{name:"Array",elements:[{name:"ReactReactElement",raw:`React.ReactElement<
    typeof Billboard |
    typeof GeoObject |
    typeof Label |
    typeof Polyline |
    typeof Strip |
    typeof Gltf |
    typeof Entity |
    typeof Geometry
>`,elements:[{name:"union",raw:`typeof Billboard |
typeof GeoObject |
typeof Label |
typeof Polyline |
typeof Strip |
typeof Gltf |
typeof Entity |
typeof Geometry`,elements:[{name:"Billboard"},{name:"GeoObject"},{name:"Label"},{name:"Polyline"},{name:"Strip"},{name:"Gltf"},{name:"Entity"},{name:"Geometry"}]}]}],raw:"EntityChildElement[]"}]},description:""},visibility:{required:!1,tsType:{name:"boolean"},description:""},lon:{required:!1,tsType:{name:"number"},description:""},lat:{required:!1,tsType:{name:"number"},description:""},alt:{required:!1,tsType:{name:"number"},description:""},onDraw:{required:!1,tsType:{name:"EventCallback"},description:""},_addEntity:{required:!1,tsType:{name:"signature",type:"function",raw:"(billboard: GlobusEntity) => void",signature:{arguments:[{type:{name:"GlobusEntity"},name:"billboard"}],return:{name:"void"}}},description:""},_removeEntity:{required:!1,tsType:{name:"signature",type:"function",raw:"(billboard: GlobusEntity) => void",signature:{arguments:[{type:{name:"GlobusEntity"},name:"billboard"}],return:{name:"void"}}},description:""}},composes:["IEntityParams"]};export{Me as E,F as L,Ge as V,Le as X};
