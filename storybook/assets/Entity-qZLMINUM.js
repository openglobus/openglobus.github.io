import{r as t}from"./index-D4lIrffr.js";import{u as D,I as te,e as oe,A as I,H as re}from"./Globe-DRh-hfkc.js";const le=({name:s,...a})=>{const{globe:d}=D(),o=t.useRef(null);return t.useEffect(()=>{var n;typeof a.url=="string"&&o.current&&((n=o.current)==null||n.setUrl(a.url))},[a.url]),t.useEffect(()=>{if(d)return o.current=new te(s,{...a}),d.planet.addLayer(o.current),()=>{o.current&&d.planet.removeLayer(o.current)}},[d]),t.createElement(A,{layerRef:o,name:s,...a})};le.__docgenInfo={description:"",methods:[],displayName:"XYZ",props:{name:{required:!0,tsType:{name:"string"},description:""},children:{required:!1,tsType:{name:"never"},description:""}},composes:["IXYZParams"]};const A=({opacity:s,children:a,name:d,layerRef:o,...n})=>{const[c,u]=t.useState(!1);return t.useEffect(()=>{o&&o.current&&typeof s=="number"&&c&&(o.current.opacity=s)},[s]),t.useEffect(()=>{var m,b,v,y,E,k,C,T,q,L,h,M,G,w,S,P,e,r,f,p,j,O,x,g,B,R;return c&&o&&o.current&&(n.onVisibilityChange&&((m=o.current)==null||m.events.on("visibilitychange",n.onVisibilityChange)),n.onAdd&&((b=o.current)==null||b.events.on("add",n.onAdd)),n.onRemove&&((v=o.current)==null||v.events.on("remove",n.onRemove)),n.onMouseMove&&((y=o.current)==null||y.events.on("mousemove",n.onMouseMove)),n.onMouseEnter&&((E=o.current)==null||E.events.on("mouseenter",n.onMouseEnter)),n.onMouseLeave&&((k=o.current)==null||k.events.on("mouseleave",n.onMouseLeave)),n.onLclick&&((C=o.current)==null||C.events.on("lclick",n.onLclick)),n.onRclick&&((T=o.current)==null||T.events.on("rclick",n.onRclick)),n.onMclick&&((q=o.current)==null||q.events.on("mclick",n.onMclick)),n.onLdblclick&&((L=o.current)==null||L.events.on("ldblclick",n.onLdblclick)),n.onRdblclick&&((h=o.current)==null||h.events.on("rdblclick",n.onRdblclick)),n.onMdblclick&&((M=o.current)==null||M.events.on("mdblclick",n.onMdblclick)),n.onLup&&((G=o.current)==null||G.events.on("lup",n.onLup)),n.onRup&&((w=o.current)==null||w.events.on("rup",n.onRup)),n.onMup&&((S=o.current)==null||S.events.on("mup",n.onMup)),n.onLdown&&((P=o.current)==null||P.events.on("ldown",n.onLdown)),n.onRdown&&((e=o.current)==null||e.events.on("rdown",n.onRdown)),n.onMdown&&((r=o.current)==null||r.events.on("mdown",n.onMdown)),n.onLhold&&((f=o.current)==null||f.events.on("lhold",n.onLhold)),n.onRhold&&((p=o.current)==null||p.events.on("rhold",n.onRhold)),n.onMhold&&((j=o.current)==null||j.events.on("mhold",n.onMhold)),n.onMouseWheel&&((O=o.current)==null||O.events.on("mousewheel",n.onMouseWheel)),n.onTouchMove&&((x=o.current)==null||x.events.on("touchmove",n.onTouchMove)),n.onTouchStart&&((g=o.current)==null||g.events.on("touchstart",n.onTouchStart)),n.onTouchEnd&&((B=o.current)==null||B.events.on("touchend",n.onTouchEnd)),n.onDoubleTouch&&((R=o.current)==null||R.events.on("doubletouch",n.onDoubleTouch))),()=>{var _;n.onLclick&&((_=o==null?void 0:o.current)==null||_.events.off("lclick",n.onLclick)),u(!1)}},[c]),o!=null&&o.current&&!c&&u(!0),t.createElement(t.Fragment,null,a)};A.__docgenInfo={description:"",methods:[],displayName:"Layer",props:{name:{required:!0,tsType:{name:"string"},description:""},layerRef:{required:!1,tsType:{name:"ReactMutableRefObject",raw:"React.MutableRefObject<GlobusLayer | null>",elements:[{name:"union",raw:"GlobusLayer | null",elements:[{name:"GlobusLayer"},{name:"null"}]}]},description:""},children:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},onVisibilityChange:{required:!1,tsType:{name:"EventCallback"},description:""},onAdd:{required:!1,tsType:{name:"EventCallback"},description:""},onRemove:{required:!1,tsType:{name:"EventCallback"},description:""},onMouseMove:{required:!1,tsType:{name:"EventCallback"},description:""},onMouseEnter:{required:!1,tsType:{name:"EventCallback"},description:""},onMouseLeave:{required:!1,tsType:{name:"EventCallback"},description:""},onLclick:{required:!1,tsType:{name:"EventCallback"},description:""},onRclick:{required:!1,tsType:{name:"EventCallback"},description:""},onMclick:{required:!1,tsType:{name:"EventCallback"},description:""},onLdblclick:{required:!1,tsType:{name:"EventCallback"},description:""},onRdblclick:{required:!1,tsType:{name:"EventCallback"},description:""},onMdblclick:{required:!1,tsType:{name:"EventCallback"},description:""},onLup:{required:!1,tsType:{name:"EventCallback"},description:""},onRup:{required:!1,tsType:{name:"EventCallback"},description:""},onMup:{required:!1,tsType:{name:"EventCallback"},description:""},onLdown:{required:!1,tsType:{name:"EventCallback"},description:""},onRdown:{required:!1,tsType:{name:"EventCallback"},description:""},onMdown:{required:!1,tsType:{name:"EventCallback"},description:""},onLhold:{required:!1,tsType:{name:"EventCallback"},description:""},onRhold:{required:!1,tsType:{name:"EventCallback"},description:""},onMhold:{required:!1,tsType:{name:"EventCallback"},description:""},onMouseWheel:{required:!1,tsType:{name:"EventCallback"},description:""},onTouchMove:{required:!1,tsType:{name:"EventCallback"},description:""},onTouchStart:{required:!1,tsType:{name:"EventCallback"},description:""},onTouchEnd:{required:!1,tsType:{name:"EventCallback"},description:""},onDoubleTouch:{required:!1,tsType:{name:"EventCallback"},description:""},onTouchLeave:{required:!1,tsType:{name:"EventCallback"},description:""},onTouchEnter:{required:!1,tsType:{name:"EventCallback"},description:""}},composes:["ILayerParams"]};const X=t.createContext({addEntity:()=>{},removeEntity:()=>{},addLabel:()=>{},removeLabel:()=>{},addBillboard:()=>{},removeBillboard:()=>{},addGeoObject:()=>{},removeGeoObject:()=>{},addGeometry:()=>{},removeGeometry:()=>{},addPolyline:()=>{},removePolyline:()=>{},addStrip:()=>{},removeStrip:()=>{}}),ce=({visibility:s,children:a,name:d,...o})=>{const{globe:n}=D(),c=t.useRef(null),[u,m]=t.useState([]),b=t.useRef(new Set);t.useEffect(()=>{typeof s=="boolean"&&c.current&&c.current.setVisibility(s)},[s]),t.useEffect(()=>{var e,r;if(n)return c.current=new oe(d,o),n.planet.addLayer(c.current),o.onDraw&&((e=c.current)==null||e.events.on("draw",o.onDraw)),o.onMouseEnter&&((r=c.current)==null||r.events.on("mouseenter",o.onMouseEnter)),()=>{var f,p;c.current&&(n.planet.removeLayer(c.current),o.onDraw&&((f=c.current)==null||f.events.off("draw",o.onDraw)),o.onMouseEnter&&((p=c.current)==null||p.events.off("mouseenter",o.onMouseEnter)))}},[n]),t.useEffect(()=>{if(c.current&&u.length>0){const e=u.filter(r=>!b.current.has(r));c.current.addEntities(e),e.forEach(r=>b.current.add(r))}},[u]);const v=t.useCallback(e=>{m(r=>r.includes(e)?r:[...r,e])},[]),y=t.useCallback(e=>{m(r=>r.filter(f=>f!==e)),c.current&&(c.current.removeEntity(e),b.current.delete(e))},[]),E=t.useCallback((e,r)=>{e.setBillboard(r)},[]),k=t.useCallback(e=>{var r;(r=e.billboard)==null||r.remove()},[]),C=t.useCallback((e,r)=>{e.setGeoObject(r)},[]),T=t.useCallback(e=>{var r;(r=e.geoObject)==null||r.remove()},[]),q=t.useCallback((e,r)=>{e.setLabel(r)},[]),L=t.useCallback(e=>{var r;(r=e.label)==null||r.remove()},[]),h=t.useCallback((e,r)=>{e.setGeometry(r)},[]),M=t.useCallback(e=>{var r;(r=e.geometry)==null||r.remove()},[]),G=t.useCallback((e,r)=>{e.setPolyline(r)},[]),w=t.useCallback(e=>{var r;(r=e.polyline)==null||r.remove()},[]),S=t.useCallback((e,r)=>{e.setStrip(r)},[]),P=t.useCallback(e=>{var r;(r=e.strip)==null||r.remove()},[]);return t.createElement(X.Provider,{value:{addEntity:v,removeEntity:y,addBillboard:E,removeBillboard:k,addGeoObject:C,removeGeoObject:T,addLabel:q,removeLabel:L,addGeometry:h,removeGeometry:M,addPolyline:G,removePolyline:w,addStrip:S,removeStrip:P}},t.createElement(A,{layerRef:c,name:d,...o},a))};ce.__docgenInfo={description:"",methods:[],displayName:"Vector",props:{children:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},name:{required:!0,tsType:{name:"string"},description:""},onMouseEnter:{required:!1,tsType:{name:"EventCallback"},description:""},onDraw:{required:!1,tsType:{name:"EventCallback"},description:""},layerRef:{required:!1,tsType:{name:"ReactMutableRefObject",raw:"React.MutableRefObject<GlobusLayer | null>",elements:[{name:"union",raw:"GlobusLayer | null",elements:[{name:"GlobusLayer"},{name:"null"}]}]},description:""},onVisibilityChange:{required:!1,tsType:{name:"EventCallback"},description:""},onAdd:{required:!1,tsType:{name:"EventCallback"},description:""},onRemove:{required:!1,tsType:{name:"EventCallback"},description:""},onMouseMove:{required:!1,tsType:{name:"EventCallback"},description:""},onMouseLeave:{required:!1,tsType:{name:"EventCallback"},description:""},onLclick:{required:!1,tsType:{name:"EventCallback"},description:""},onRclick:{required:!1,tsType:{name:"EventCallback"},description:""},onMclick:{required:!1,tsType:{name:"EventCallback"},description:""},onLdblclick:{required:!1,tsType:{name:"EventCallback"},description:""},onRdblclick:{required:!1,tsType:{name:"EventCallback"},description:""},onMdblclick:{required:!1,tsType:{name:"EventCallback"},description:""},onLup:{required:!1,tsType:{name:"EventCallback"},description:""},onRup:{required:!1,tsType:{name:"EventCallback"},description:""},onMup:{required:!1,tsType:{name:"EventCallback"},description:""},onLdown:{required:!1,tsType:{name:"EventCallback"},description:""},onRdown:{required:!1,tsType:{name:"EventCallback"},description:""},onMdown:{required:!1,tsType:{name:"EventCallback"},description:""},onLhold:{required:!1,tsType:{name:"EventCallback"},description:""},onRhold:{required:!1,tsType:{name:"EventCallback"},description:""},onMhold:{required:!1,tsType:{name:"EventCallback"},description:""},onMouseWheel:{required:!1,tsType:{name:"EventCallback"},description:""},onTouchMove:{required:!1,tsType:{name:"EventCallback"},description:""},onTouchStart:{required:!1,tsType:{name:"EventCallback"},description:""},onTouchEnd:{required:!1,tsType:{name:"EventCallback"},description:""},onDoubleTouch:{required:!1,tsType:{name:"EventCallback"},description:""},onTouchLeave:{required:!1,tsType:{name:"EventCallback"},description:""},onTouchEnter:{required:!1,tsType:{name:"EventCallback"},description:""}},composes:["IVectorParams","ILayerParams"]};const ie=({visibility:s,lon:a,lat:d,alt:o,lonlat:n,name:c,children:u,...m})=>{const{globe:b}=D(),{addEntity:v,removeEntity:y,addBillboard:E,removeBillboard:k,addGeoObject:C,removeGeoObject:T,addLabel:q,removeLabel:L,addGeometry:h,removeGeometry:M,addPolyline:G,removePolyline:w,addStrip:S,removeStrip:P}=t.useContext(X),e=t.useRef(null),[r,f]=t.useState(null),[p,j]=t.useState(null),[O,x]=t.useState(null),[g,B]=t.useState(null),[R,_]=t.useState(null),[V,N]=t.useState(null);t.useEffect(()=>{var l;n&&(n instanceof I||(n=I.createFromArray(n)),(l=e.current)==null||l.setLonLat(n))},[n,r]),t.useEffect(()=>{var l;c&&((l=e.current)==null||l.setLonLat2(a,d,o))},[a,d,o]),t.useEffect(()=>{var l;typeof s=="boolean"&&e.current&&((l=e.current)==null||l.setVisibility(s))},[s]),t.useEffect(()=>{if(b)return e.current=new re({lonlat:n||new I(a,d,o),name:c,...m}),v(e.current),()=>{b&&e.current&&y(e.current)}},[b,v,y]),t.useEffect(()=>{var l,i;r&&!((l=e.current)!=null&&l.billboard)&&((i=e.current)==null||i.setBillboard(r))},[r]),t.useEffect(()=>{var l,i;p&&!((l=e.current)!=null&&l.geoObject)&&((i=e.current)==null||i.setGeoObject(p))},[p]),t.useEffect(()=>{var l,i;O&&!((l=e.current)!=null&&l.label)&&((i=e.current)==null||i.setLabel(O))},[O]),t.useEffect(()=>{var l,i;g&&!((l=e.current)!=null&&l.geometry)&&((i=e.current)==null||i.setGeometry(g))},[g]),t.useEffect(()=>{var l,i;R&&!((l=e.current)!=null&&l.polyline)&&((i=e.current)==null||i.setPolyline(R))},[R]),t.useEffect(()=>{var l,i;V&&!((l=e.current)!=null&&l.strip)&&((i=e.current)==null||i.setStrip(V))},[V]);const F=t.useCallback(l=>{f(l),e.current&&E(e.current,l)},[E]),Y=t.useCallback(()=>{e.current&&k(e.current),f(null)},[k]),Z=t.useCallback(l=>{j(l),e.current&&C(e.current,l)},[C]),z=t.useCallback(()=>{e.current&&T(e.current),j(null)},[T]),H=t.useCallback(l=>{x(l),e.current&&q(e.current,l)},[q]),U=t.useCallback(()=>{e.current&&L(e.current),j(null)},[L]),J=t.useCallback(l=>{B(l),e.current&&h(e.current,l)},[h]),K=t.useCallback(()=>{e.current&&M(e.current),j(null)},[M]),Q=t.useCallback(l=>{_(l),e.current&&G(e.current,l)},[G]),$=t.useCallback(()=>{e.current&&w(e.current),_(null)},[w]),ee=t.useCallback(l=>{N(l),e.current&&S(e.current,l)},[S]),ne=t.useCallback(()=>{e.current&&P(e.current),N(null)},[P]),W={_addGeometry:J,_removeGeometry:K,_addLabel:H,_removeLabel:U,_addBillboard:F,_removeBillboard:Y,_addGeoObject:Z,_removeGeoObject:z,_addPolyline:Q,_removePolyline:$,_addStrip:ee,_removeStrip:ne};return u?t.createElement(t.Fragment,null,Array.isArray(u)?u.map(l=>t.isValidElement(l)?t.cloneElement(l,W):l):t.isValidElement(u)?t.cloneElement(u,W):u):null};ie.__docgenInfo={description:"",methods:[],displayName:"Entity",props:{children:{required:!1,tsType:{name:"union",raw:"EntityChildElement | EntityChildElement[]",elements:[{name:"ReactReactElement",raw:`React.ReactElement<
    typeof Billboard |
    typeof GeoObject |
    typeof Label |
    typeof Polyline |
    typeof Strip |
    typeof Geometry
>`,elements:[{name:"union",raw:`typeof Billboard |
typeof GeoObject |
typeof Label |
typeof Polyline |
typeof Strip |
typeof Geometry`,elements:[{name:"Billboard"},{name:"GeoObject"},{name:"Label"},{name:"Polyline"},{name:"Strip"},{name:"Geometry"}]}]},{name:"Array",elements:[{name:"ReactReactElement",raw:`React.ReactElement<
    typeof Billboard |
    typeof GeoObject |
    typeof Label |
    typeof Polyline |
    typeof Strip |
    typeof Geometry
>`,elements:[{name:"union",raw:`typeof Billboard |
typeof GeoObject |
typeof Label |
typeof Polyline |
typeof Strip |
typeof Geometry`,elements:[{name:"Billboard"},{name:"GeoObject"},{name:"Label"},{name:"Polyline"},{name:"Strip"},{name:"Geometry"}]}]}],raw:"EntityChildElement[]"}]},description:""},visibility:{required:!1,tsType:{name:"boolean"},description:""},lon:{required:!0,tsType:{name:"number"},description:""},lat:{required:!0,tsType:{name:"number"},description:""},alt:{required:!0,tsType:{name:"number"},description:""},onDraw:{required:!1,tsType:{name:"EventCallback"},description:""}},composes:["IEntityParams"]};export{ie as E,A as L,ce as V,le as X};
